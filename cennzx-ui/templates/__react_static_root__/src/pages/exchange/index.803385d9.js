(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{647:function(e,n,t){"use strict";t.r(n);var c=t(6),r=t.n(c),a=t(129),o=t(71),s=t(24),u=t(43),i=t(56),f=t(1604),l=t(131),g=t(13),b=function(e){return e.ui.exchange.form.toAsset},d=function(e){return e.ui.exchange.form.signingAccount},A=function(e){return e.ui.exchange.form.fromAsset},h=function(e){return e.ui.exchange.txFee},O=function(e){return e.ui.exchange.form.feeAssetId},m=function(e){return e.global.coreAssetId},j=function(e){return e.ui.exchange.userAssetBalance},p=function(e){return e.global.assetInfo},v=Object(l.a)([p],function(e){var n=[];return e&&e.forEach(function(e){var t={symbol:e.symbol,id:e.id};n.push(t)}),n}),y=Object(l.a)([A,j,d],function(e,n,t){if(!e)return null;if(!n.length)return null;var c=n.find(function(n){return n.assetId===e&&n.account===t});return c?c.balance:null}),I=Object(l.a)([b,j,d],function(e,n,t){if(!e)return null;if(!n.length)return null;var c=n.find(function(n){return n.assetId===e&&n.account===t});return c?c.balance:null}),x=Object(l.a)([b,function(e){return e.ui.exchange.exchangePool},m],function(e,n,t){if(!e)return null;if(!n.length)return null;var c=n.find(function(n){return n.assetId===e});return c?c.assetBalance:String(e)===String(t)?n[0].coreAssetBalance:void 0}),P=function(e,n){return e&&e.find(function(e){return e.id===n})||null},S=Object(l.a)([function(e){return e.ui.exchange.exchangeRate},v,A,b,h,m,O,function(e){return e.ui.exchange.form.fromAssetAmount},p],function(e,n,t,c,r,a,o,s,u){if(s&&e){var i,f=u[o].symbol;a&&a===o&&r?i="".concat(r.feeInCpay.asString(u[o].decimalPlaces)," ").concat(f):r&&r.feeInFeeAsset&&(i="".concat(r.feeInFeeAsset.asString(u[o].decimalPlaces)," (converted to ").concat(r.feeInCpay.asString(u[a].decimalPlaces)," CPAY)"));var l=i?"Transaction fee (estimated) : ".concat(i):"",g=e.asString(u[c].decimalPlaces);return e?"Exchange rate: 1 ".concat(P(n,t).symbol," = ").concat(g," ").concat(P(n,c).symbol,". ").concat(l):""}}),w=Object(l.a)([h,v,O,m,p],function(e,n,t,c,r){var a;return String(t)===String(c)&&e?(a=e.feeInCpay.asString(r[t].decimalPlaces,g.a.ROUND_UP),"Transaction fee is ".concat(a," ").concat(P(n,t).symbol)):e&&e.feeInFeeAsset?(a=e.feeInFeeAsset.asString(r[t].decimalPlaces,g.a.ROUND_UP),"Transaction fee is ".concat(a," ").concat(P(n,t).symbol," (converted to ").concat(e.feeInCpay.asString(r[c].decimalPlaces,g.a.ROUND_UP)," CPAY)")):void 0});function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,c)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(n){r()(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var R=function(e,n){var t=null;return e.forEach(function(e){e instanceof o.b&&(e.asset.id===n&&(t=e))}),t};n.default=Object(a.c)(function(e){return F(F({},e.ui.exchange),{},{assetInfo:e.global.assetInfo,coreAssetId:e.global.coreAssetId,feeRate:e.global.feeRate,assets:v(e),fromAssetBalance:y(e),toAssetBalance:I(e),accounts:e.extension.accounts.map(function(e){return{label:"".concat(e.name),value:e.address}}),outputReserve:x(e),exchangeRateMsg:S(e),txFeeMsg:w(e)})},function(e){return{handleFeeBufferChange:function(n){e(Object(s.v)(n))},handleSelectedAccountChange:function(n){e(Object(s.r)(n))},handleBuyAssetAmountChange:function(n){e(Object(s.k)(n)),e(Object(s.n)(i.d)),e(Object(s.g)())},handleWithAssetAmountChange:function(n){e(Object(s.j)(n)),e(Object(s.n)(i.c)),e(Object(s.g)())},handleBuyAssetIdChange:function(n,t,c){var r=t.fromAsset,a=t.toAsset;if(r===n)e(Object(s.l)());else{var o=R(c,a);o&&e(Object(s.c)(o)),e(Object(s.t)(n))}},handleWithAssetIdChange:function(n,t,c){var r=t.fromAsset;if(t.toAsset===n)e(Object(s.l)());else{var a=R(c,r);a&&e(Object(s.c)(a)),e(Object(s.s)(n))}},handleFeeAssetChange:function(n){e(Object(s.o)(n))},handleSwap:function(){e(Object(s.l)())},handleReset:function(){e(Object(s.h)())},openTxDialog:function(n,t){var c=n.extrinsic,r=n.fromAsset,a=n.toAsset,o=n.toAssetAmount,s=n.fromAssetAmount,f=n.signingAccount,l=n.feeAssetId,g=n.buffer,b={method:c,params:Object(i.e)(c,{fromAsset:r,toAsset:a,toAssetAmount:o,fromAssetAmount:s,signingAccount:f,feeAssetId:l,buffer:g}),price:c===i.d?s:o};e(Object(u.d)({title:"exchange",signingAccount:f,extrinsic:b,feeInFeeAsset:t,feeAssetId:l}))}}})(f.a)}}]);