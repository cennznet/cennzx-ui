{"version":3,"sources":["images sync /^/.//.*/.svg$","images/arda.svg","images/cennz.svg","images/certi.svg","images/co2.svg","images/cpay.svg","images/cusd.svg","images/plug.svg","images/sylo.svg","images/logoMissing.png","redux/epics sync //.epic/.ts$","redux/epics/checkPolkadotExtension.epic.ts","redux/epics/exchange/balance.epic.ts","redux/epics/exchange/calculateFee.epic.ts","redux/actions/ui/liquidity.action.ts","redux/epics/exchange/clearFields.epic.ts","redux/epics/exchange/exchangeRate.epic.ts","redux/epics/exchange/poolBalance.epic.ts","redux/epics/exchange/price.epic.ts","redux/epics/exchange/transactionFee.epic.ts","redux/epics/exchange/updatePayAssetBalance.epic.ts","redux/epics/global.epic.ts","redux/epics/liquidity/balance.epic.ts","redux/epics/liquidity/calculateFee.epic.ts","redux/epics/liquidity/clearFields.epic.ts","redux/epics/liquidity/exchangeRate.epic.ts","redux/epics/liquidity/liquidityRate.epic.ts","redux/epics/liquidity/poolBalance.epic.ts","redux/epics/liquidity/transactionFee.epic.ts","redux/epics/txDialog/submitTransaction.epic.ts","redux/epics sync //.epics/.ts$","util/component.ts","components/MessageBox.tsx","components/DropDown.tsx","components/AccountPicker.tsx","components/Error/ErrorBox.tsx","components/InputBox.tsx","components/PageInside.tsx","components/AdvancedSetting/SummaryBuy.tsx","components/AdvancedSetting/SummaryFee.tsx","components/AdvancedSetting/index.tsx","components/AmountBox.tsx","components/AssetDropDown.tsx","components/FlexDiv.ts","components/TransparentButton.tsx","components/AssetInputForAdd.tsx","components/Space.tsx","components/Error/ErrorMessage.tsx","components/ExchangeIcon.tsx","components/Nav.tsx","components/Page.tsx","components/Error/ErrorMessageForLiquidity.tsx","pages/liquidity/validation/fromAssetInput.ts","pages/liquidity/validation/signingAccount.ts","pages/liquidity/validation/toAssetInput.ts","pages/liquidity/validation/userBalance.ts","pages/liquidity/validation/index.ts","pages/liquidity/liquidity.tsx","pages/exchange/validation/fromAssetInput.ts","pages/exchange/validation/poolBalance.ts","pages/exchange/validation/signingAccount.ts","pages/exchange/validation/toAssetInput.ts","pages/exchange/validation/userBalance.ts","pages/exchange/validation/index.ts","pages/exchange/exchange.tsx","pages/exchange/selectors.ts","pages/exchange/index.tsx","pages/liquidity/selectors.ts","pages/liquidity/index.ts","components/Dialog/Dialog.tsx","components/Dialog/DialogButtons.tsx","components/Dialog/AppDialog.tsx","components/ExternalLink.tsx","components/Dialog/TxDialog/TxDialogBody.tsx","components/Dialog/TxDialog/TxDialogFooter.tsx","components/Dialog/TxDialog/TxDialogTitle.tsx","components/Dialog/TxDialog/index.ts","components/Dialog/TxDialog/TxDialog.tsx","components/Header.tsx","components/Layout.tsx","redux/epics/index.ts","redux/history.tsx","redux/epics/hotReloadingEpic.ts","redux/reducers/extension.reducer.ts","redux/reducers/global.reducer.ts","redux/reducers/localize.reducer.ts","redux/reducers/ui/exchange.reducer.ts","redux/reducers/ui/liquidity.reducer.ts","redux/reducers/ui/index.ts","redux/reducers/index.ts","redux/store.ts","redux/devTools.ts","themes/defaultTheme/colors.js","themes/defaultTheme/media.js","themes/defaultTheme/utils.js","themes/defaultTheme/components.js","themes/defaultTheme/index.js","themes/dark/appThemeColors.js","themes/dark/appComponentStyle.js","themes/dark/index.js","themes/spotx/appThemeColors.js","themes/spotx/appComponentStyle.js","themes/spotx/index.js","themes/light/appThemeColors.js","themes/light/appComponentStyle.js","themes/light/index.js","themes/index.js","App.tsx","index.tsx","i18n/supportedLanguages.ts","i18n/translations.ts","storage.ts","redux/epics/i18n.epic.ts","redux/actions/ui/exchange.action.ts","util/feeUtil.ts","error/error.ts","util/extrinsicUtil.ts","redux/actions/ui/txDialog.action.ts","redux/epics/liquidity/updatePayAssetBalance.epic.ts","redux/cennznetExtensions.ts","redux/actions/ui/index.ts","redux/actions/index.ts","redux/actions/global.action.ts","redux/reducers/ui/txDialog.reducer.ts","util/Amount.ts","redux/actions/extension.action.ts"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","web3AccountsSubscribe","web3Enable","window","require","stream$","timer","extensionDetectedEpic","action$","store$","pipe","ofType","action","GlobalActions","INIT_APP","switchMap","from","polkadotInjectedGlobal","cennznetExtensionFetched","find","ext","name","cennznetExtensionDetected","injected","injectedWeb3","of","updateExDetected","EMPTY","catchError","err","setExtensionError","observableAccountsEpic","ExtensionActions","DETECTION_UPDATE","Observable","observer","accounts","next","retObservable","push","updateExConnected","accountList","account","meta","address","updateExAccounts","updateSelectedAccountEpic","api$","combineLatest","types","ACCOUNTS_UPDATE","withLatestFrom","extension","length","updateSelectedLiquidityAccount","updateSelectedExchangeAccount","undefined","combineEpics","prepareBalanceParamsForSellAssetEpic","ui","Exchange","SELECTED_FROM_ASSET_UPDATE","SELECTED_ACCOUNT_UPDATE","ASSET_SWAP","filter","store","exchange","form","fromAsset","signingAccount","requestAssetBalance","prepareBalanceParamsForBuyAssetEpic","SELECTED_TO_ASSET_UPDATE","toAsset","calculateTxFeeEpic","TRANSACTION_FEE_PARAMS_UPDATE","api","txFee","extrinsicParams","extrinsic","feeAssetId","assetToSell","assetToBuy","sellAmount","tx","cennzx","observableEstimatedFee","cpayFee","feeAssetFee","fee","feeInCpay","Amount","toString","AmountUnit","UN","feeInFeeAsset","eq","updateTransactionFee","takeUntil","TRADE_RESET","message","InsufficientFeeForOperation","setExchangeError","LiquidityActions","updateExtrinsic","createAction","EXTRINSIC_UPDATE","setLiquidityAction","LIQUIDITY_TYPE","liquidityType","updateSelectedAccount","updateSelectedAsset1","SELECTED_ASSET1_UPDATE","assetId","setAsset1Amount","ASSET1_AMOUNT_SET","assetAmount","updateAsset1Amount","ASSET1_AMOUNT_UPDATE","setAsset2Amount","ASSET2_AMOUNT_SET","toAssetAmount","updateAsset2Amount","ASSET2_AMOUNT_UPDATE","setLiquidityError","ERROR_SET","error","updatePoolBalance","ERROR_RESET","LIQUIDITY_POOL_BALANCE_UPDATE","poolBalance","updateUserPoolShare","USER_POOL_SHARE_UPDATE","userShareInPool","requestUserAssetBalance","USER_ASSET_BALANCE_REQUEST","removeLiquidityError","ERROR_REMOVE","updateTransactionBuffer","TRANSACTION_BUFFER_UPDATE","buffer","updateFeeAsset","FEE_ASSET_UPDATE","TRANSACTION_FEE_UPDATE","updateTxFeeParameter","feeParams","requestExchangeRate","EXCHANGE_RATE_REQUEST","requestCoreLiquidityPrice","CORE_LIQUIDITY_PRICE_REQUEST","requestAssetLiquidityPrice","ASSET_LIQUIDITY_PRICE_REQUEST","requestTransactionFee","TRANSACTION_FEE_REQUEST","updateExchangeRate","EXCHANGE_RATE_UPDATE","exchangeRate","updateUserAssetBalance","POOL_BALANCE_REQUEST","USER_ASSET_BALANCE_UPDATE","assetBalance","requestTotalLiquidity","TOTAL_LIQUIDITY_REQUEST","updateTotalLiquidity","TOTAL_LIQUIDITY_UPDATE","liquidity","updateLiquidityForWithdrawal","LIQUIDITY_TO_WITHDRAW_UPDATE","resetLiquidity","LIQUIDITY_RESET","updateSelectedAsset2","SELECTED_ASSET2_UPDATE","clearEstimatedAmountEpic","FROM_ASSET_AMOUNT_SET","TO_ASSET_AMOUNT_SET","type","updateFromAssetAmount","updateToAssetAmount","SWAP_INPUT","SWAP_OUTPUT","clearExchangeRateAmountEpic","clearAmountEpic","payload","EmptyPool","clearTxFeeEpic","getExchangeRateEpic","obj","assetInfo","global","asset","toAssetDecimal","decimalPlaces","amount","DISPLAY","rpc","sellPrice","exchangeRateFromAPI","price","exRate","requestExchangeRateEpic","fromAssetAmount","getAssetPoolBalanceEpic","coreAssetId","mergeMap","poolAsset","derive","poolAssetBalance","poolCoreAssetBalance","exchangeAddress","coreBalance","coreAssetBalance","isZero","getInputPriceEpic","priceRes","er","getOutputPriceEpic","buyPrice","prepareTransactionFeeEpic","paramList","prepareExchangeExtrinsicParamsWithBuffer","requestTransactionFeeEpic","FROM_ASSET_AMOUNT_UPDATE","TO_ASSET_AMOUNT_UPDATE","updateAssetsBalanceEpic","ASSET_BALANCE_REQUEST","stakingAssetId","query","genericAsset","freeBalance","balance","toNumber","fetchBalanceExcludeLock","newAssetBalance","prepareBalanceParamsForFeeAssetEpic","getCoreAsset","updateCoreAsset","getFeeRate","defaultFeeRate","feeRate","updateFeeRate","getStakingAsset","updateStakingAsset","getFeeAsset","spendingAssetId","updateLiquidityFeeAsset","getRegisteredAssets","registeredAssets","assets","updateAssetsInfo","toJSON","system","chain","systemChain","specTypes","getSpecTypes","registry","runtimeVersion","specName","specVersion","filteredSpecTypes","key","reduce","DEFAULT_SS58","createType","addressDefaults","prefix","DEFAULT_DECIMALS","metadata","color","genesisHash","toHex","icon","metaCalls","Buffer","runtimeMetadata","asCallsOnly","toU8a","ss58Format","tokenDecimals","tokenSymbol","userExtensions","cennznetExtensions","updateMetadata","prepareRequestUserBalanceEpic","Liquidity","ADD_LIQUIDITY","coreAmount","min_liquidity","muln","max_asset_amount","addLiquidity","min_asset_withdraw","min_core_withdraw","removeLiquidity","totalLiquidity","assetDecimal","getCoreLiquidityPriceEpic","exchangeReserve","exchangePool","exPool","liquidityAction","coreAssetReserve","tradeAssetReserve","mul","div","isubn","ltn","IncorrectLiquidity","REMOVE_LIQUIDITY","liquidityAmount","addn","getAssetLiquidityPriceEpic","requestAssetLiquidityPriceEpic","requestCoreLiquidityPriceEpic","getUserPoolShareEpic","coreAsset","liquidityValue","userAssetShare","userShare","core","getTotalLiquidityEpic","totalLiqudityAmt","web3FromSource","getExtrinsicErr","ExtrinsicFailed","submitTransactionEpic","TxDialog","TRANSACTION_SUBMIT_REQUEST","params","method","minSale","sellAsset","buyAmount","maxSale","buyAsset","cennznetExtension","source","injector","signer","signAndSend","events","status","isInBlock","updateTxHash","hash","updateStage","Stages","InBlock","isFinalized","updateTxEvents","Finalised","setDialogError","extrinsicErr","submitLiquidityEpic","TRANSACTION_SUBMIT_LIQUIDITY","currentExchangePool","ex","minLiquidity","maxAssetAmount","minAssetWithdraw","minCoreWithdraw","liquidityToWithdraw","resetTradeOnInBlockCastedStage","STAGE_UPDATE","resetTrade","webpackEmptyContext","getOptionByValue","options","valueOfSelectedItem","item","value","styled","StyledSelect","Select","AccountWrapper","AccountPicker","title","selected","onChange","className","DropDown","isSearchable","picked","help","size","theme","MessageBox","Box","ul","props","center","ErrorBox","errors","children","Trade","Top","Input","Multiple","InputBox","placeholder","multiple","PageInside","Em","span","showRecipientAddress","recipientAddress","SummaryBuy","assetB","assetA","amountB","amountA","assetADecimalPlaces","assetASymbol","symbol","assetBDecimalPlaces","assetBSymbol","asString","ROUND_UP","investmentAsset","investmentAmount","investmentAssetDecimalPlaces","investmentAssetSymbol","coreAssetDecimalPlaces","coreAssetSymbol","getFeeMsg","assetSymbol","SummaryFee","Container","SummaryBody","Inside","Title","ArrowIcon","FontAwesomeIcon","spinner","P","p","AdvancedSetting","formErrors","summaryProps","onBufferChange","onAssetChange","show","selectTitle","selectOptions","selectValue","useState","state","setState","onClick","faChevronDown","Number","target","has","FormSection","get","StyledInput","readOnly","StyledInputParent","AmountBox","removeTrailingZero","valueIn","removeDecimal","indexOf","charAt","substring","componentWillReceiveProps","nextProps","displayValue","render","valid","maybeSetValue","updateAmount","oldAmount","firstDot","lastDot","lastIndexOf","toUpperCase","stringAfterDecimalPlace","split","isNaN","newAmount","React","Component","showBorder","showInterval","Icon","img","Text","getLabel","src","toLowerCase","AssetDropDown","getOptionLabel","Button","MaxButton","TransparentButton","InputAndSelect","FlexDiv","getAmountParams","amountChange","AssetInputForAdd","max","errorBox","secondaryTitle","disableAmount","disabled","ErrorMessage","field","Space","ExchangeIcon","rotations","ExchangeIconClass","setRotations","faExchangeAlt","active","NavContent","style","getLinkStyle","to","page","activePage","borderBottomColor","nav","Page","existErrors","mergeError","FromAssetAmountRequired","AccountNotSelected","ToAssetAmountRequired","getErrorForUserBalance","accountAssetBalance","gt","UserBalanceNotEnough","getErrorForPoolBalance","UserPoolBalanceNotEnough","accountCoreBalance","assetInput","assetBalanceError","coreBalanceError","poolBalanceErrorForAsset","poolBalanceErrorForCore","userAssetBalance","feeAmount","balRequired","add","assetBal","lt","UserBalanceNotEnoughForFee","set","errorFilter","Array","includes","ret","values","fieldErrors","flatternErrors","findIndex","LiquidityAction","rules","accountRules","userBalanceRules","toAssetInputRules","fromAssetInputRules","Line","Flex","Flex2","Buttons","SwapButton","Label","LabelDetail","Summary","SwapIcon","getAssetName","i","poolSummary","assetPool","corePool","userAssetShareInPool","assetName","userCoreShareInPool","coreName","exchangeRateMsg","getBalance","getFormattedPoolBalance","assetReserve","isAssetBoxDisabled","accountBalance","REMOVE","ADD","getDecimalPlaces","fromAssetInput","FromAssetNotSelected","gtn","FieldNotReady","outputReserve","toAssetInput","PoolBalanceNotEnough","ToAssetNotSelected","fromAssetBalance","poolBalanceRules","Bottom","FullWidthContainer","SectionColumn","ESTIMATED_LABEL","getToAsset","getSigningAccount","getFromAsset","getTxFee","getFeeAssetId","getUserAssetBalance","getAssetInfo","getAssets","createSelector","newAssetList","forEach","assetObject","getFromAssetUserBalance","userBalance","bal","getToAssetUserBalance","toAssetBalance","getOutputReserve","poolBalanceForBuyAsset","poolData","String","getExchangeRateMsg","fromeAmount","feeString","rate","getTxFeeMessage","errorInstanceForPreviousEmptyPool","errInstance","connect","label","txFeeMsg","dispatch","handleFeeBufferChange","handleSelectedAccountChange","handleBuyAssetAmountChange","setToAssetAmount","resetError","handleWithAssetAmountChange","setFromAssetAmount","handleBuyAssetIdChange","swapAsset","errorToRemove","removeExchangeError","updateSelectedToAsset","handleWithAssetIdChange","updateSelectedFromAsset","handleFeeAssetChange","handleSwap","handleReset","openTxDialog","extrinsicForDialog","openDialog","touched","assetDialogOpen","useEffect","maxBuy","assetForEmptyPool","retErrors","Map","rule","getFormErrors","BN","min","Nav","amountParams","flat","primary","getAsset","getExchangePool","getUserPoolShare","userPoolShare","poolShare","share","getAccountAssetBalance","add1Amount","getAccountCoreBalance","getAssetReserve","getCoreReserve","getFee","coreReserve","handleAssetAmountChange","handleCoreAmountChange","handleLiquidityAction","handleAssetIdChange","newAssetId","handleExtrinsicChange","Extrinsic","initState","transactionAssetId","slider","sliderP","disabledAssetTextBox","disabledCoreTextBox","a","Content","Header","h1","ModalStyled","Modal","FooterContainer","Dialog","body","footer","isOpen","BlueButton","RedButton","getDialogBody","detected","connected","href","getDialogFooter","setDialogOpen","extensionConnected","metadataDef","provide","localStorage","setItem","packageInfo","version","AppDialog","extensionDetected","isDialogOpen","ExternalLink","url","text","TruncateLink","getCennzScanURL","txHash","BodyForBroadcasted","BodyForFinalised","success","actualTxFee","feeExchangeResult","toAssetDecimalPlaces","toAssetSymbol","fromAssetDecimalPlaces","fromAssetSymbol","assetDecimalPlaces","place","TxDialogBody","stage","estimatedTxFee","Signing","Loading","ClipLoader","FooterForSigning","onClose","onSubmit","loading","setLoading","element","FooterForBroadcasted","FooterForFinalised","FootBox","TxDialogFooter","onComplete","closeAndComplete","TitleForSigning","TitleForBroadcasted","TitleForFinalised","TxDialogTitle","isTxSuccessSelector","txDialog","event","handleClose","closeDialog","handleExchangeSubmit","requestSubmitTransaction","handleSendSubmit","requestSubmitSend","handleLiquiditySubmit","requestSubmitLiquidity","handleComplete","HeaderDiV","metaUpdated","getItem","Fragment","Suspense","fallback","exact","path","epicsContext","multipleEpicsContext","epics","default","history","rootEpic","epic$","BehaviorSubject","document","createBrowserHistory","initialState","extensionDetectionComplete","handleActions","produce","draft","cennznetExtensionInjected","CONNECTION_UPDATE","CENNZNET_EXTENSION_UPDATE","CORE_ASSET_UPDATE","DEFAULT_FEE_RATE_UPDATE","STAKING_ASSET","METADATA_UPDATE","ASSET_INFO_UPDATE","hexToString","localizeReducer","process","FEE_BUFFER","ExchangeActions","draftFromAsset","EXCHANGE_POOL_BALANCE_UPDATE","index","assetData","newErrorList","poolShareData","userBal","splice","combineReducers","router","connectRouter","localize","cryptoWaitReady","cennzNetApi","ApiRx","create","provider","ENDPOINT","epicMiddleware","createEpicMiddleware","dependencies","createStore","reducer","compose","applyMiddleware","ENV","devToolsExtension","__REDUX_DEVTOOLS_EXTENSION__","getDevToolsExt","run","args","epic","updateAppError","actions","N0","N50","N100","N200","N300","N400","N500","N600","N700","N800","N900","N1000","R100","R200","R300","R400","R500","R600","R700","R800","R900","Y100","Y200","Y300","Y400","Y500","Y600","Y700","Y800","Y900","G100","G200","G300","G400","G500","G600","G700","G800","G900","B100","B200","B300","B400","B500","B600","B700","B800","B900","V100","V200","V300","V400","V500","V600","V700","V800","V900","brandPrimary","rgba","brandSecondary","secondary","warning","danger","info","nuetral","border","borderLight","textMuted","textHover","link","linkHover","media","breakPoints","sizes","xlUp","xlDown","lgUp","lgDown","mdUp","mdDown","smUp","smDown","sizeUp","accumulator","remSize","css","createThemeStyle","componentProps","defaultThemeStyle","mergeOptions","components","themeKey","themeStyle","configComponentStyle","colors","borderRadius","utils","fontSizeSm","fontSize","fontSizeLg","fontFamily","zIndex","overlay","above","bump","below","mediaQueries","R","defaultColors","appThemeColors","customTheme","pageBackground","listitemHighlightGradient","appComponentStyle","defaultTheme","AppSideNav","background","navItemColor","navItemHoverBackground","navItemHoverColor","navItemActiveColor","AppSimpleSidebar","AppSubNav","boxShadow","AppSubNavCollapsibleMenu","navItemActiveBackground","lighten","AppSubNavSimpleMenu","AppTopBar","AppWalletNavCard","borderColor","borderHoverWidth","iconColor","menuBorderColor","menuBackground","focusBackground","selectedColor","Table","headerBackground","rowOddLineBackground","rowEvenLineBackground","Toaster","backgroundColor","footerBorderTopColor","borderHoverColor","iconHoverColor","jasmyTheme","App","ReactDOM","StrictMode","getElementById","translations","en","ja","zhHans","zhHant","Storage","this","getPrefixedKey","removeItem","len","startsWith","prefixedKeys","clear","localStorageX","sessionStorage","currentLanguage","navigator","language","sortLocale","storage","languages","defaultLanguage","preferredLocale","selectedLang","lang","addTranslations","entries","trans","addTranslationForLanguage","i18nEpic","initialize","supportedLanguages","renderToStaticMarkup","onMissingTranslation","translationId","PAY_TRANSACTION_ASSET_SWAP","fees","estimateFee","userFeeAssetId","maxPayment","estimatedFeeAssetAmount","BaseError","msg","throwable","origin","__proto__","actualProto","prototype","setPrototypeOf","reserve","feeAsset","TxDialogActions","DIALOG_OPEN","TX_ACTUAL_FEE_UPDATE","TRANSACTION_SUBMIT_SEND","DIALOG_CLOSE","TX_HASH_UPDATE","TX_EVENTS_UPDATE","TX_ACTUAL_FEE_REQUEST","locks","lockBalance","lockBal","toArray","stakeBal","lock","stringToHex","sub","updateUserAssetBalanceEpic","prepareRequestUserFeeAssetsBalanceEpic","prepareRequestTotalLiquidityEpic","ChargeTransactionPayment","transactionPayment","CheckEra","blockHash","era","CheckGenesis","CheckNonce","nonce","CheckSpecVersion","CheckTxVersion","transactionVersion","UNKNOWN_ERROR","unit","val","BigNumber","multipliedBy","Math","pow","rounding","ROUND_DOWN","toAmount","toFixed","ssConnected","DETECTION_COMPLETED","exAccounts","errorMsg"],"mappings":"mJAAA,IAAIA,EAAM,CACT,aAAc,KACd,cAAe,KACf,cAAe,KACf,YAAa,KACb,aAAc,KACd,aAAc,KACd,aAAc,KACd,aAAc,MAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,M,kCC7BpB,OAAe,cAA0B,kC,kCCAzC,OAAe,cAA0B,mC,kCCAzC,OAAe,cAA0B,mC,kCCAzC,OAAe,cAA0B,iC,kCCAzC,OAAe,cAA0B,kC,kCCAzC,OAAe,cAA0B,kC,kCCAzC,OAAe,cAA0B,kC,kCCAzC,OAAe,cAA0B,kC,kCCAzC,OAAe,g1G,yGCAf,IAAIH,EAAM,CACT,mCAAoC,KACpC,6BAA8B,KAC9B,kCAAmC,KACnC,iCAAkC,KAClC,kCAAmC,KACnC,iCAAkC,KAClC,2BAA4B,KAC5B,oCAAqC,KACrC,2CAA4C,KAC5C,mBAAoB,KACpB,iBAAkB,KAClB,8BAA+B,KAC/B,mCAAoC,KACpC,kCAAmC,KACnC,mCAAoC,KACpC,oCAAqC,KACrC,kCAAmC,KACnC,qCAAsC,KACtC,4CAA6C,IAC7C,uCAAwC,MAIzC,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,M,oVC5BhBY,EAAoC,KACpCC,EAAyB,KAEP,qBAAXC,SACPD,EAAaE,EAAQ,KAA4BF,WACjDD,EAAwBG,EAAQ,KAA4BH,uBAGhE,IAAMI,EAAUC,YAAM,KAGTC,EAAwB,SAACC,EAAkCC,GAAnC,OACjCD,EAAQE,KAAKC,YAAOC,IAAOC,cAAcC,WAAWJ,KAChDK,aAAU,WACN,OAAOV,EAAQK,KACXK,aAAU,WACN,OAAOC,YAAKd,EAAW,WAAWQ,KAE9BK,aAAU,SAACE,GACP,IAAMC,EAA2BD,EAAuBE,MACpD,SAAAC,GAAG,MAAiB,uBAAbA,EAAIC,MAA8C,gBAAbD,EAAIC,QAEhDC,GAA4B,EAChC,GAAsB,qBAAXnB,OAAwB,CAC/B,IAAIoB,EAAYpB,OAAeqB,aAAa,sBACvCD,IACDA,EAAYpB,OAAeqB,aAAa,gBAE5CF,IAA4BC,EAEhC,OAAIL,EACOO,YAAGC,YAAiBJ,EAA2BJ,IAEnDS,WAEXC,aAAW,SAAAC,GACP,OAAOJ,YAAGK,YAAkBD,iBAkBjD,IAAME,EAAyB,SAAAvB,GAClC,OAAOA,EAAQE,KAAKC,YAAOC,IAAOoB,iBAAiBC,mBAAmBvB,KAClEK,aAAU,WACN,OAXD,IAAImB,KAAW,SAAAC,GAClBlC,GAAsB,SAACmC,GACnBD,EAASE,KAAKD,SASmB1B,KAC7BK,aAAU,SAAAqB,GACN,IAAME,EAA+B,GACrCA,EAAcC,KAAKC,aAAkB,IACrC,IAAMC,EAAcL,EAASlD,KAAI,SAAAwD,GAAO,MAAK,CACzCrB,KAAMqB,EAAQC,KAAKtB,KACnBuB,QAASF,EAAQE,YAGrB,OADAN,EAAcC,KAAKM,YAAiBJ,IAC7BzB,YAAKsB,UAIxBV,aAAW,SAAAC,GACP,IAAMS,EAA+B,GAGrC,OAFAA,EAAcC,KAAKC,aAAkB,IACrCF,EAAcC,KAAKT,YAAkBD,IAC9Bb,YAAKsB,QAKXQ,EAA4B,SACrCtC,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMjB,iBAAiBkB,oBAAoBxC,KAChFyC,YAAe1C,GACfM,aACI,YAAyC,IAC/BqB,EAD8B,oBACbgB,UAAUhB,SACjC,OAAIA,EAASiB,OACFrC,YAAK,CACRsC,YAA+BlB,EAAS,GAAGQ,SAC3CW,YAA8BnB,EAAS,GAAGQ,WAIvC5B,YAAK,CAACsC,iBAA+BE,GAAYD,iBAA8BC,UAM3FC,sBAAaX,EAA2BvC,EAAuBwB,I,qQCzGjE2B,EAAuC,SAChDlD,EACAC,EAFgD,OAG/CsC,EAH+C,EAG/CA,KAH+C,OAKhDC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASE,wBAClBb,IAAMU,GAAGC,SAASG,eAG3BrD,KACCyC,YAAe1C,GAEfuD,aAAO,gBAAIC,EAAJ,2BAAeA,EAAMN,GAAGO,SAASC,KAAKC,aAAeH,EAAMN,GAAGO,SAASC,KAAKE,kBACnFtD,aACI,YAA8C,IAAD,mBACzC,GADyC,4BACC4C,GAAGO,SAASC,MAA/CC,EAAP,EAAOA,UAAWC,EAAlB,EAAkBA,eAClB,OAAO5C,aAAG6C,YAAoBF,EAAWC,SAK5CE,EAAsC,SAC/C/D,EACAC,EAF+C,OAG9CsC,EAH8C,EAG9CA,KAH8C,OAK/CC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASE,wBAClBb,IAAMU,GAAGC,SAASG,eAG3BrD,KACCyC,YAAe1C,GAEfuD,aAAO,gBAAIC,EAAJ,2BAAeA,EAAMN,GAAGO,SAASC,KAAKM,WAAaR,EAAMN,GAAGO,SAASC,KAAKE,kBACjFtD,aACI,YAA8C,IAAD,mBACzC,GADyC,4BACD4C,GAAGO,SAASC,MAA7CM,EAAP,EAAOA,QAASJ,EAAhB,EAAgBA,eAChB,OAAO5C,aAAG6C,YAAoBG,EAASJ,SAKxCZ,sBAAaC,EAAsCa,I,uMClDrDG,EAAqB,SAC9BlE,EACAC,EAF8B,OAG7BsC,EAH6B,EAG7BA,KAH6B,OAK9BC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASe,kCAAkCjE,KACzFyC,YAAe1C,GACfM,aACI,YAAsD,IAAD,yCAAlD6D,EAAkD,KAApCX,GAAoC,WACjD,EAAiCA,EAAMN,GAAGO,SAAnCW,EAAP,EAAOA,MAAOC,EAAd,EAAcA,gBACd,EAAgDb,EAAMN,GAAGO,SAASC,KAA3DY,EAAP,EAAOA,UAAWV,EAAlB,EAAkBA,eAAgBW,EAAlC,EAAkCA,WAClC,cAA8DF,EAA9D,GAAOG,EAAP,KAAoBC,EAApB,KAAgCC,EAAhC,KACMC,GADN,KACWR,EAAIQ,GAAGC,OAAON,GAAkB,KAAME,EAAaC,EAAYC,EAAY,IACtF,OAAOG,YAAuBF,EAAIf,EAA0BW,EAAsBJ,GAAKlE,KACnFK,aAAU,YAA6B,IAAD,mBAA1BwE,EAA0B,KAAjBC,EAAiB,KAG5BC,EAAM,CAACC,UAFK,IAAIC,IAAOJ,EAAQK,WAAYC,IAAWC,IAEzBC,cADbP,EAAc,IAAIG,IAAOH,EAAYI,WAAYC,IAAWC,IAAM,MAExF,OACKjB,IACAY,EAAIC,UAAUM,GAAGnB,EAAMa,YACD,OAAtBD,EAAIM,eAAkD,OAAxBlB,EAAMkB,eACd,OAAtBN,EAAIM,eAAkD,OAAxBlB,EAAMkB,eACpCN,EAAIM,eAAiBlB,EAAMkB,gBAAkBN,EAAIM,cAAcC,GAAGnB,EAAMkB,eAElEtE,aAAGwE,YAAqBR,IAE5B9D,WAEXuE,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,eAChDvE,aAAW,SAACC,GACR,GAAoB,wBAAhBA,EAAIuE,QAAmC,CAGvC,IAAMvE,EAAM,IAAIwE,IACZ,wDAEJ,OAAO5E,aAAG6E,YAAiBzE,IAE/B,OAAOJ,aAAG6E,YAAiBzE,aAOpC4B,sBAAaiB,I,gCC1D5B,89BAKY6B,EALZ,S,SAKYA,K,8CAAAA,E,4DAAAA,E,0DAAAA,E,gDAAAA,E,gDAAAA,E,sDAAAA,E,sDAAAA,E,gCAAAA,E,oCAAAA,E,sCAAAA,E,wEAAAA,E,0CAAAA,E,gEAAAA,E,8CAAAA,E,0DAAAA,E,wEAAAA,E,4DAAAA,E,sDAAAA,E,wDAAAA,E,kEAAAA,E,gEAAAA,E,0DAAAA,E,4DAAAA,E,0DAAAA,E,sDAAAA,E,sEAAAA,E,uEAAAA,E,sEAAAA,E,4CAAAA,E,2DAAAA,M,KAiCL,IAAMC,EAAkBC,YAAaF,EAAiBG,kBAAkB,SAAC3B,GAAD,OAAuBA,KAEzF4B,EAAqBF,YAC9BF,EAAiBK,gBACjB,SAACC,GAAD,OAA2BA,KAGlBC,EAAwBL,YACjCF,EAAiBzC,yBACjB,SAACpB,GAAD,OAAqBA,KAEZqE,EAAuBN,YAAaF,EAAiBS,wBAAwB,SAACC,GAAD,OAAqBA,KAClGC,EAAkBT,YAAaF,EAAiBY,mBAAmB,SAACC,GAAD,OAAyBA,KAC5FC,EAAqBZ,YAC9BF,EAAiBe,sBACjB,SAACF,GAAD,OAAyBA,KAEhBG,EAAkBd,YAC3BF,EAAiBiB,mBACjB,SAACC,GAAD,OAA2BA,KAElBC,EAAqBjB,YAC9BF,EAAiBoB,sBACjB,SAACF,GAAD,OAA2BA,KAElBG,EAAoBnB,YAAaF,EAAiBsB,WAAW,SAACC,GAAD,OAAsBA,KAEnFC,GADatB,YAAaF,EAAiByB,aACvBvB,YAC7BF,EAAiB0B,+BACjB,SAACC,GAAD,OAAgCA,MAGvBC,EAAsB1B,YAC/BF,EAAiB6B,wBACjB,SAACC,GAAD,OAAuCA,KAG9BC,EAA0B7B,YACnCF,EAAiBgC,4BACjB,SAACtB,EAAS5C,GACN,MAAO,CACH4C,UACA5C,qBAKCmE,EAAuB/B,YAAaF,EAAiBkC,cAAc,SAAC5G,GAAD,OAAoBA,KAEvF6G,EAA0BjC,YACnCF,EAAiBoC,2BACjB,SAACC,GAAD,OAAoBA,KAGXC,EAAiBpC,YAAaF,EAAiBuC,kBAAkB,SAAC7B,GAAD,OAAqBA,KAEtFhB,EAAuBQ,YAAaF,EAAiBwC,wBAAwB,SAACtD,GAAD,OAAeA,KAC5FuD,EAAuBvC,YAChCF,EAAiB5B,+BACjB,SAACsE,GAAD,OAAsBA,KAGbC,EAAsBzC,YAAaF,EAAiB4C,uBACpDC,EAA4B3C,YAAaF,EAAiB8C,8BAC1DC,EAA6B7C,YAAaF,EAAiBgD,+BAC3DC,EAAwB/C,YAAaF,EAAiBkD,yBACtDC,EAAqBjD,YAC9BF,EAAiBoD,sBACjB,SAACC,GAAD,OAA0BA,KAKjBC,GAHqBpD,YAAaF,EAAiBuD,sBAAsB,SAAC7C,GAAD,OAAqBA,KAEvER,YAAaF,EAAiB4C,uBAC5B1C,YAClCF,EAAiBwD,2BACjB,SAACC,GAAD,OAAiCA,MAGxBC,EAAwBxD,YACjCF,EAAiB2D,yBACjB,SAACjD,GAAD,OAAqBA,KAGZkD,EAAuB1D,YAChCF,EAAiB6D,wBACjB,SAACC,GAAD,OAAuBA,KAGdC,EAA+B7D,YACxCF,EAAiBgE,8BACjB,SAACF,GAAD,OAAuBA,KAGdG,EAAiB/D,YAAaF,EAAiBkE,iBAE/CC,EAAuBjE,YAAaF,EAAiBoE,wBAAwB,SAAC1D,GAAD,OAAqBA,KA6BhGV,O,gWChJFqE,EAA2B,SACpCpK,EACAC,EAFoC,KAGnCsC,KAHmC,OAKpCvC,EACKE,KACGC,YACIsC,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASiH,sBAClB5H,IAAMU,GAAGC,SAASkH,sBAGzBpK,KACGyC,YAAe1C,GACfM,aAAU,YAAsB,IAAD,mBAAnBH,EAAmB,KACpBmE,EADoB,KACDpB,GAAGO,SAASC,KAA/BY,UACP,OAAInE,EAAOmK,OAAS9H,IAAMU,GAAGC,SAASkH,oBAE3BrJ,aAAGuJ,iBAAsBxH,IACzB5C,EAAOmK,OAAS9H,IAAMU,GAAGC,SAASiH,sBAElCpJ,aAAGwJ,iBAAoBzH,IAE7BuB,IAAcmG,KAActK,EAAOmK,OAAS9H,IAAMU,GAAGC,SAASC,4BAC9DkB,IAAcoG,KAAevK,EAAOmK,OAAS9H,IAAMU,GAAGC,SAASY,yBAGzDxD,eAAK,CAACgK,iBAAsBxH,GAAYyH,iBAAoBzH,KAEhE7B,aAIVyJ,EAA8B,SACvC5K,EACAC,EAFuC,KAGtCsC,KAHsC,OAKvCvC,EACKE,KACGC,YACIsC,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASG,aAGzBrD,KACGK,aAAU,WAEN,OAAOU,aAAGiI,iBAAmBlG,SAIhC6H,EAAkB,SAC3B7K,EACAC,EAF2B,KAG1BsC,KAH0B,OAK3BvC,EAAQE,KACJC,YAA+BsC,IAAMU,GAAGC,SAASiE,WACjD7D,aAAO,SAAApD,GAAM,OAAIA,EAAO0K,mBAAmBC,OAC3CxK,aAAU,WAEN,OAAOC,eAAK,CAACiK,iBAAoBzH,GAAYwH,iBAAsBxH,UAIlEgI,EAAiB,SAC1BhL,EACAC,EAF0B,KAGzBsC,KAHyB,OAK1BvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASiH,sBAClB5H,IAAMU,GAAGC,SAASkH,oBAClB7H,IAAMU,GAAGC,SAASG,WAClBd,IAAMU,GAAGC,SAASE,yBAEtB/C,aAAU,WAEN,OAAOU,aAAGwE,iBAAqBzC,SAI5BC,sBAAamH,EAA0BQ,EAA6BC,EAAiBG,I,+QC7FvFC,EAAsB,SAC/BjL,EACAC,EAF+B,OAG9BsC,EAH8B,EAG9BA,KAH8B,OAK/BC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuF,0BAA0BzI,KACjFyC,YAAe1C,GACfM,aAAU,YAAmB,IAAD,mBAAhB2K,EAAgB,KAAXzH,EAAW,KAClBW,EAAa8G,EAAI,GAChB9B,EAAgB3F,EAAMN,GAAGO,SAAzB0F,aACA+B,EAAa1H,EAAM2H,OAAnBD,UACP,EAA6B1H,EAAMN,GAAGO,SAASC,KAAxCC,EAAP,EAAOA,UAAWK,EAAlB,EAAkBA,QACZoH,EAAQF,EAAYA,EAAUvH,QAAaZ,EAC3CsI,EAAiBD,EAAQA,EAAME,cAAgB,EAC/CC,EAAS,IAAIrG,IAAO,EAAGE,IAAWoG,QAASH,GACjD,OAAQlH,EAAIsH,IAAY7G,OAAO8G,UAAU/H,EAAW4H,EAAQvH,GAAS/D,KACjEsD,aACI,SAACoI,GAAD,OACKxC,IAAiB,IAAIjE,IAAOyG,EAAoBC,MAAMzG,YAAYI,GAAG4D,MAE9E1K,aAAI,SAACkN,GACD,IAAME,EAAS,IAAI3G,IAAOyG,EAAoBC,MAAMzG,WAAYC,IAAWC,IAC3E,OAAO4D,YAAmB4C,MAE9BpG,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,eAChDvE,aAAW,SAACC,GACR,MAAoB,wBAAhBA,EAAIuE,QACGzE,IAEJF,YAAG6E,YAAiBzE,aAMlC0K,EAA0B,SACnC/L,EACAC,EAFmC,OAGlCsC,EAHkC,EAGlCA,KAHkC,OAKnCC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASiH,sBAClB5H,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASG,eAG3BrD,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAGO,SAASC,KAAKC,WACvBH,EAAMN,GAAGO,SAASC,KAAKM,WACrBR,EAAMN,GAAGO,SAASC,KAAKqI,mBAEjCzL,aACI,YAAwC,oBACpC,OAAOU,YAAGyH,oBAKXzF,sBAAagI,EAAqBc,I,oNC/DpCE,EAA0B,SACnCjM,EACAC,EAFmC,OAGlCsC,EAHkC,EAGlCA,KAHkC,OAKnCC,wBAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASC,+BAG3BnD,KACCyC,YAAe1C,GACfuD,aAAO,wCAAuB4H,OAAOc,eACrCC,aACI,YAAsD,IAAD,yCAAlD/H,EAAkD,KAA7ChE,EAA6C,KAApCqD,EAAoC,KAC3C2I,EAAYhM,EAAO0K,QACnBK,EAAY1H,EAAM2H,OAAOD,UACzBe,EAAczI,EAAM2H,OAAOc,YAEjC,OAAIE,EAAUhH,aAAe8G,EAAY9G,WAC9BjE,QAEJqB,wBAAc,CACjB4B,EAAIiI,OAAOxH,OAAOyH,iBAAiBF,GACnChI,EAAIiI,OAAOxH,OAAO0H,qBAAqBH,GACvChI,EAAIiI,OAAOxH,OAAO2H,gBAAgBJ,KACnClM,KACCK,aAAU,YAAmD,IAAD,mBAAhDiJ,EAAgD,KAAlCiD,EAAkC,KAArBD,EAAqB,KAClDE,EAA2B,IAAIvH,IAAOsH,GACtCH,EAA2B,IAAInH,IAAOqE,GAC5C,GAAIkD,EAAiBC,UAAYL,EAAiBK,SAC9C,OAAO1L,aAAG6E,YAAiB,IAAIiF,IAAUI,EAAUiB,MAEvD,IAAM1E,EAAc,CAChBgF,iBAAkBA,EAClBlD,aAAc8C,EACdlK,QAASoK,EAAgBpH,WACzBqB,QAAS2F,GAEb,OAAOnL,aAAGsG,YAAkBG,OAEhChC,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,eAChDvE,aAAW,SAACC,GACR,OAAOJ,aAAG6E,YAAiBzE,aAOpC4B,sBAAagJ,I,wQChDfW,EAAoB,SAC7B5M,EACAC,EAF6B,OAG5BsC,EAH4B,EAG5BA,KAH4B,OAK7BC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASiH,sBAClB5H,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAASG,eAG3BrD,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAGO,SAASC,KAAKC,WACvBH,EAAMN,GAAGO,SAASC,KAAKM,WACrBR,EAAMN,GAAGO,SAASC,KAAKqI,mBAEjCzL,aACI,YAA8C,IAAD,mBAA1C6D,EAA0C,uBAApCX,EAAoC,KACzC,EAA6DA,EAAMN,GAAGO,SAASC,KAAxEqI,EAAP,EAAOA,gBAAiBpI,EAAxB,EAAwBA,UAAWK,EAAnC,EAAmCA,QAASgD,EAA5C,EAA4CA,cACrCK,EAAS7D,EAAMN,GAAGO,SAAlB4D,MACP,OAAQlD,EAAIsH,IAAY7G,OAAO8G,UAAU/H,EAAWoI,EAAiB/H,GAAS/D,KAC1EsD,aACI,SAACqJ,GAAD,OACK5F,IAAkB,IAAI9B,IAAO0H,EAAShB,MAAMzG,YAAYI,GAAGyB,MAEpEvI,aAAI,SAACmO,GACD,IAAMrB,EAAS,IAAIrG,IAAO0H,EAAShB,MAAMzG,WAAYC,IAAWC,IAChE,OAAOmF,YAAoBe,MAE/B9F,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,eAChDvE,aAAW,SAACC,GACR,MAAoB,wBAAhBA,EAAIuE,QACGzE,KAES,8CAAhBE,EAAIuE,UACJvE,EAAIuE,QAAU,oEAEa0B,EAAM3G,MAAK,SAAAmM,GAAE,OAAIA,EAAGlH,UAAYvE,EAAIuE,WAExDzE,IAEJF,YAAG6E,YAAiBzE,cAOtC0L,EAAqB,SAC9B/M,EACAC,EAF8B,OAG7BsC,EAH6B,EAG7BA,KAH6B,OAK9BC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASkH,oBAClB7H,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASG,eAG3BrD,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAGO,SAASC,KAAKC,WACvBH,EAAMN,GAAGO,SAASC,KAAKM,WACrBR,EAAMN,GAAGO,SAASC,KAAKsD,iBAEjC1G,aACI,YAA8C,IAAD,mBAA1C6D,EAA0C,uBAApCX,EAAoC,KACzC,EAA6DA,EAAMN,GAAGO,SAASC,KAAxEqI,EAAP,EAAOA,gBAAiBpI,EAAxB,EAAwBA,UAAWK,EAAnC,EAAmCA,QAASgD,EAA5C,EAA4CA,cACrCK,EAAS7D,EAAMN,GAAGO,SAAlB4D,MACP,OAAQlD,EAAIsH,IAAY7G,OAAOmI,SAAS/I,EAASgD,EAAerD,GAAW1D,KACvEsD,aACI,SAACqJ,GAAD,OACKb,IAAoB,IAAI7G,IAAO0H,EAAShB,MAAMzG,YAAYI,GAAGwG,MAEtEtN,aAAI,SAACmO,GACD,IAAMrB,EAAS,IAAIrG,IAAO0H,EAAShB,MAAMzG,WAAYC,IAAWC,IAChE,OAAOkF,YAAsBgB,MAEjC9F,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,eAChDvE,aAAW,SAACC,GACR,MAAoB,wBAAhBA,EAAIuE,QACGzE,KAES,+CAAhBE,EAAIuE,UACJvE,EAAIuE,QAAU,mEAEa0B,EAAM3G,MAAK,SAAAmM,GAAE,OAAIA,EAAGlH,UAAYvE,EAAIuE,WAExDzE,IAEJF,YAAG6E,YAAiBzE,cAOpC4B,sBAAa2J,EAAmBG,I,+OC1HlCE,EAA4B,SACrCjN,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAAS6F,4BAA4B/I,KACnFyC,YAAe1C,GACfM,aACI,YAA8C,IAAD,mBAApCkD,GAAoC,6BAClCc,EAAad,EAAMN,GAAGO,SAASC,KAA/BY,UAED2I,EAAYC,YAAyC5I,EAAWd,EAAMN,GAAGO,SAASC,MACxF,OAAO1C,aAAGuH,YAAqB0E,SAKlCE,EAA4B,SACrCpN,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,wBAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGC,SAASiK,yBAClB5K,IAAMU,GAAGC,SAASkK,uBAClB7K,IAAMU,GAAGC,SAASG,WAClBd,IAAMU,GAAGC,SAASC,2BAClBZ,IAAMU,GAAGC,SAASY,yBAClBvB,IAAMU,GAAGC,SAAS8C,iBAClBzD,IAAMU,GAAGC,SAASE,wBAClBb,IAAMU,GAAGC,SAASkF,qBAG3BpI,KACCyC,YAAe1C,GACfuD,aACI,mCAAcC,GAAd,oCAEIA,EAAMN,GAAGO,SAASC,KAAKC,WACvBH,EAAMN,GAAGO,SAASC,KAAKM,WACrBR,EAAMN,GAAGO,SAASC,KAAKqI,mBACvBvI,EAAMN,GAAGO,SAASC,KAAKsD,iBACvBxD,EAAMN,GAAGO,SAASC,KAAKE,kBACvBJ,EAAMN,GAAGO,SAASC,KAAKqI,gBAAgBW,UAAYlJ,EAAMN,GAAGO,SAASC,KAAKsD,cAAc0F,aACxFlJ,EAAMN,GAAGO,SAASC,KAAKY,aAEjChE,aAAU,YAAe,oBACrB,OAAOU,aAAG+H,oBAIP/F,sBAAagK,EAA2BG,I,iRChD1CG,EAA0B,SACnCvN,EACAC,EAFmC,OAGlCsC,EAHkC,EAGlCA,KAHkC,OAKnCC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASoK,0BAA0BtN,KACjFyC,YAAe1C,GACfuD,aAAO,wCAAuB4H,OAAOqC,kBAErCtB,aACI,YAQgC,IAAD,yCANvB/H,EAMuB,YAJnB0G,QAAUrE,EAIS,EAJTA,QAAS5C,EAIA,EAJAA,eAKpB4J,EADoB,KACIrC,OAAxBqC,eACP,OAAOrJ,EAAIsJ,MAAMC,aAAaC,YAAYnH,EAAS5C,GAAgB3D,KAE/DK,aAAU,SAACsN,GAEP,GAAIpH,IAAYgH,EAAeK,WAC3B,OAAOC,kCAAwB3J,EAAKP,EAAgBgK,EAASpH,GAASvG,KAClEK,aAAU,SAACyN,GACP,OAAO/M,aAAGoI,YAAuB2E,QAI7C,IAAMA,EAAkB,CACpBvH,UACAvE,QAAS2B,EACTgK,QAAS,IAAI1I,IAAO0I,EAAQzI,aAEhC,OAAOnE,aAAGoI,YAAuB2E,OAErCtI,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASuC,qBAMvDsI,EAAsC,SAC/CjO,EACAC,EAF+C,OAG9CsC,EAH8C,EAG9CA,KAH8C,OAK/CC,wBAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGC,SAASkF,iBAAkB7F,IAAMU,GAAGC,SAASE,4BAC3EpD,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAGO,SAASC,KAAKa,cACrBf,EAAMN,GAAGO,SAASC,KAAKE,gBACzBJ,EAAMN,GAAGO,SAASC,KAAKa,aAAef,EAAMN,GAAGO,SAASC,KAAKC,aAErErD,aACI,YAA8C,IAAD,mBACzC,GADyC,4BACE4C,GAAGO,SAASC,MAAhDa,EAAP,EAAOA,WAAYX,EAAnB,EAAmBA,eACnB,OAAO5C,aAAG6C,YAAoBU,EAAYX,SAK3CZ,sBAAasK,EAAyBU,I,2ZCjExCC,EAAe,SAAClO,EAAkCC,EAAnC,OAAkEsC,EAAlE,EAAkEA,KAAlE,OACxBC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YACI,OADgC,oBACrBmN,MAAM7I,OAAOqH,cAAchM,KAElCK,aAAU,SAAC2L,GAEP,OAAO1L,YAAK,CACR2N,YAAgBjC,EAAY4B,YAC5B5D,YAAqBgC,EAAY4B,uBAQhDM,EAAa,SAACpO,EAAkCC,EAAnC,OAAkEsC,EAAlE,EAAkEA,KAAlE,OACtBC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YACI,OADgC,oBACrBmN,MAAM7I,OAAOwJ,iBAAiBnO,KAAKxB,aAAI,SAAA4P,GAAO,OAAIC,YAAcD,YAI9EE,EAAkB,SAC3BxO,EACAC,EAF2B,OAG1BsC,EAH0B,EAG1BA,KAH0B,OAK3BC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YACI,OADgC,oBACrBmN,MAAMC,aAAaF,iBAAiBvN,KAAKxB,aAAI,SAAA+H,GAAO,OAAIgI,YAAmBhI,YAKzFiI,EAAc,SAAC1O,EAAkCC,EAAnC,OAAkEsC,EAAlE,EAAkEA,KAAlE,OACvBC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YACI,OADgC,oBACrBmN,MAAMC,aAAagB,kBAAkBzO,KAE5CK,aAAU,SAACiE,GACP,OAAOhE,YAAK,CACR6H,YAAe7D,EAAWsJ,YAC1Bc,YAAwBpK,EAAWsJ,uBAiElDe,EAAsB,SAC/B7O,EACAC,EAF+B,OAG9BsC,EAH8B,EAG9BA,KAH8B,OAK/BC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YACI,OADgC,oBACpBmL,IAAYiC,aACnBmB,mBACA5O,KAAKxB,aAAI,SAAAqQ,GAAM,OAAIC,YAAkBD,EAAeE,iBAGjE7N,aAAW,SAACC,GACR,OAAOJ,YAAG6E,YAAiBzE,SAIxB4B,sBACXiL,EACAM,EACAJ,EACAM,GA/EyB,SACzB1O,EACAC,EAFyB,OAGxBsC,EAHwB,EAGxBA,KAHwB,OAKzBC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMnC,aAAaJ,KACxDK,aACI,YAAqC,IAAnC6D,EAAkC,oBAChC,OAAOA,EAAIsH,IAAIwD,OAAOC,QAAQjP,KAC1BxB,aAAI,SAAA0Q,GACA,IAAMC,EAAYC,uBACdlL,EAAImL,SACJH,EACAhL,EAAIoL,eAAeC,SACnBrL,EAAIoL,eAAeE,aAIjBC,EAAoBtQ,OAAOD,KAAKiQ,GACjC7L,QAAO,SAAAoM,GACJ,MAA8B,oBAAnBP,EAAUO,MAOxBC,QAAO,SAAC3E,EAAK0E,GAEV,OADA1E,EAAI0E,GAAOP,EAAUO,GACd1E,IACR,IAED4E,EAAe1L,EAAImL,SAASQ,WAAW,MAAOC,WAAgBC,QAC9DC,EAAmB9L,EAAImL,SAASQ,WAAW,MAAO,GAClDI,EAAW,CACbhB,MAAOC,EACPgB,MAAO,UACPC,YAAajM,EAAIiM,YAAYC,QAC7BC,KAAM,WACNC,UAAWC,EAAOjQ,KAAK4D,EAAIsM,gBAAgBC,YAAYC,SAASxL,SAAS,UACzEsK,YAAatL,EAAIoL,eAAeE,YAAY5B,WAC5C+C,WAAYf,EAAahC,WACzBgD,cAAeZ,EAAiBpC,WAChCiD,YAAa,QACbtO,MAAQkN,EACRqB,eAAgBC,KAEpB,OAAOC,YAAef,UAKtC/O,aAAW,SAACC,GACR,OAAOJ,YAAG6E,YAAiBzE,UA4BnCwN,I,2NClJSsC,EAAgC,SACzCnR,EACAC,EAFyC,OAGxCsC,EAHwC,EAGxCA,KAHwC,OAKzCC,YAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGiO,UAAU5K,uBACnB/D,IAAMU,GAAGiO,UAAU9N,wBACnBb,IAAMU,GAAGiO,UAAUlL,qBAG5BhG,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAG0G,UAAUlG,KAAK8C,WACtBhD,EAAMN,GAAG0G,UAAUlG,KAAKE,gBAC1BJ,EAAMN,GAAG0G,UAAUlG,KAAKY,YAAc8M,OAE9C9Q,aACI,YAA8C,IAAD,mBACzC,GADyC,4BACD4C,GAAG0G,UAAUlG,MAA9C8C,EAAP,EAAOA,QAAS5C,EAAhB,EAAgBA,eAChB,OAAO5C,aAAG6G,YAAwBrB,EAAS5C,SAK5CZ,sBAAakO,I,uMC9BfjN,EAAqB,SAC9BlE,EACAC,EAF8B,OAG7BsC,EAH6B,EAG7BA,KAH6B,OAK9BC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUjN,kCAAkCjE,KAC1FyC,YAAe1C,GACfM,aACI,YAAsD,IAa9CqE,EAb6C,yCAAlDR,EAAkD,KAApCX,GAAoC,WACjD,EAAiCA,EAAMN,GAAG0G,UAAnCxF,EAAP,EAAOA,MACP,GADA,EAAcC,gBASVb,EAAMN,GAAG0G,UAAUlG,MAPnBY,EADJ,EACIA,UACAV,EAFJ,EAEIA,eACAW,EAHJ,EAGIA,WACAiC,EAJJ,EAIIA,QACA6K,EALJ,EAKIA,WACAlJ,EANJ,EAMIA,OACAxB,EAPJ,EAOIA,YAEJ,IAAK0K,IAAe1K,EAAa,OAAOzF,QAGxC,GAAkB,iBAAdoD,EAA8B,CAC9B,IAAMgN,EAAgB,IAAIpM,IAAOyB,EAAY4K,KAAK,EAAKpJ,IACjDqJ,EAAmB,IAAItM,IAAOyB,EAAY4K,KAAK,EAAKpJ,IAC1DxD,EAAKR,EAAIQ,GAAGC,OAAO6M,aAAajL,EAAS8K,EAAeE,EAAkBH,OACvE,CACH,IAAMK,EAAqB,IAAIxM,IAAOyB,EAAY4K,KAAK,EAAKpJ,IACtDwJ,EAAoB,IAAIzM,IAAOmM,EAAWE,KAAK,EAAKpJ,IAC1DxD,EAAKR,EAAIQ,GAAGC,OAAOgN,gBAAgBpL,EAASG,EAAa+K,EAAoBC,GAEjF,OAAO9M,YAAuBF,EAAIf,EAA0BW,EAAsBJ,GAAKlE,KACnFK,aAAU,YAA6B,IAAD,mBAA1BwE,EAA0B,KAAjBC,EAAiB,KAG5BC,EAAM,CAACC,UAFK,IAAIC,IAAOJ,EAAQK,WAAYC,IAAWC,IAEpCC,cADFP,EAAc,IAAIG,IAAOH,EAAYI,WAAYC,IAAWC,IAAM,MAExF,OACKjB,IACAY,EAAIC,UAAUM,GAAGnB,EAAMa,YACD,OAAtBD,EAAIM,eAAkD,OAAxBlB,EAAMkB,eACd,OAAtBN,EAAIM,eAAkD,OAAxBlB,EAAMkB,eACpCN,EAAIM,eAAiBlB,EAAMkB,gBAAkBN,EAAIM,cAAcC,GAAGnB,EAAMkB,eAElEtE,aAAGwE,YAAqBR,IAE5B9D,WAEXuE,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnH,mBACjD7I,aAAW,SAACC,GACR,GAAoB,wBAAhBA,EAAIuE,QAAmC,CAGvC,IAAMvE,EAAM,IAAIwE,IACZ,wDAEJ,OAAO5E,aAAGmG,YAAkB/F,IAEhC,OAAOJ,aAAGmG,YAAkB/F,aAOrC4B,sBAAaiB,I,kCC3E5B,qNAca0G,EAA8B,SACvC5K,EACAC,EAFuC,KAGtCsC,KAHsC,OAKvCvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU5K,yBAAyBtG,KAC5DK,aAAU,WAEN,OAAOU,aAAGiI,iBAAmBlG,SAI5B6H,EAAkB,SAC3B7K,EACAC,EAF2B,KAG1BsC,KAH0B,OAK3BvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU5K,uBAAwB/D,IAAMU,GAAGiO,UAAU9N,0BAA0BpD,KACxGK,aAAU,WACN,OAAOC,eAAK,CAERqG,iBAAmB7D,GAEnBkE,iBAAmBlE,GAEnB2G,iBAAqB3G,UAKxBgI,EAAiB,SAC1BhL,EACAC,EAF0B,KAGzBsC,KAHyB,OAK1BvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGiO,UAAU5K,uBACnB/D,IAAMU,GAAGiO,UAAUzK,kBACnBlE,IAAMU,GAAGiO,UAAUpK,kBACnBvE,IAAMU,GAAGiO,UAAU9N,yBAEvB/C,aAAU,WAEN,OAAOU,aAAGwE,iBAAqBzC,SAI5BC,sBAAa2H,EAA6BI,EAAgBH,I,+QClD5DI,EAAsB,SAC/BjL,EACAC,EAF+B,OAG9BsC,EAH8B,EAG9BA,KAH8B,OAK/BC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUzI,0BAA0BzI,KAClFyC,YAAe1C,GACfM,aAAU,YAAmB,IAAD,mBAAhB2K,EAAgB,KAAXzH,EAAW,KAClBW,EAAa8G,EAAI,GAChB9B,EAAgB3F,EAAMN,GAAG0G,UAAzBT,aACA+B,EAAa1H,EAAM2H,OAAnBD,UACD2G,EAAiBrO,EAAMN,GAAG0G,UAAUiI,eAC1C,IAAKA,GAAkBA,EAAenF,SAClC,OAAOxL,IAEX,MAA+BsC,EAAMN,GAAG0G,UAAUlG,KAA3C8C,EAAP,EAAOA,QAASyF,EAAhB,EAAgBA,YACVb,EAAQF,EAAYA,EAAUe,QAAyBlJ,EACvD+O,EAAe1G,EAAQA,EAAME,cAAgB,EAC7CC,EAAS,IAAIrG,IAAO,EAAGE,IAAWoG,QAASsG,GACjD,OAAQ3N,EAAIsH,IAAY7G,OAAO8G,UAAUO,EAAaV,EAAQ/E,GAASvG,KACnEsD,aACI,SAACoI,GAAD,OACKxC,IAAiB,IAAIjE,IAAOyG,EAAoBC,MAAMzG,YAAYI,GAAG4D,MAE9E1K,aAAI,SAACkN,GACD,IAAME,EAAS,IAAI3G,IAAOyG,EAAoBC,MAAMzG,WAAYC,IAAWC,IAC3E,OAAO4D,YAAmB4C,MAE9BpG,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnH,mBACjD7I,aAAW,SAACC,GACR,OAAOJ,YAAGmG,YAAkB/F,aAMnC0K,EAA0B,SACnC/L,EACAC,EAFmC,OAGlCsC,EAHkC,EAGlCA,KAHkC,OAKnCC,YAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU5K,uBAAwB/D,IAAMU,GAAGiO,UAAUxH,2BACnF1J,KACCyC,YAAe1C,GACfM,aACI,YAAwC,oBACpC,OAAOU,YAAGyH,oBAKXzF,sBAAagI,EAAqBc,I,oZC7CpCiG,EAA4B,SACrChS,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUvI,iCAAiC3I,KACzFyC,YAAe1C,GAEfM,aAAU,YAAqB,IAAD,mBAAXkD,GAAW,6BAC1B,EAA+BA,EAAMN,GAAG0G,UAAUlG,KAA3C8C,EAAP,EAAOA,QAASG,EAAhB,EAAgBA,YACVqL,EAAkBxO,EAAMN,GAAG0G,UAAUqI,aAAavR,MAAK,SAAAwR,GAAM,OAAIA,EAAO1L,UAAYA,KACpFqL,EAAiBrO,EAAMN,GAAG0G,UAAUiI,eACpCM,EAAkB3O,EAAMN,GAAG0G,UAAUlG,KAAKY,UAEhD,IAAKuN,GAAkBA,EAAenF,SAClC,OAAOxL,IAEX,IAAMkR,EAAmBJ,EAAkBA,EAAgBvF,iBAAmB,IAAIvH,IAAO,GACnFmN,EAAoBL,EAAkBA,EAAgBzI,aAAe,IAAIrE,IAAO,GACtF,GAAIiN,IAAoBf,IAAe,CACnC,IAAIC,EAA0B1K,EAY9B,OAXKyL,EAAiB1F,UAAa2F,EAAkB3F,WAG7C2E,EAFAe,EAAiBjN,aAAekN,EAAkBlN,WAErCwB,EACR2L,IAAIF,GACJG,IAAIF,GACJG,MAAM,GAEE7L,EAAY2L,IAAIF,GAAkBG,IAAIF,IAGvDhB,EAAWoB,IAAI,GAERlS,YAAK,CAAC4G,YAAkB,IAAIuL,KAAuBzL,iBAAmBlE,KAE1ExC,YAAK,CACRwH,YAAqB,IAAI2K,KACzBzL,YAAmB,IAAI/B,IAAOmM,MAE/B,GAAIc,IAAoBQ,IAAkB,CAC7C,IAAIC,EASEvB,GAPFuB,EADAP,EAAkBlN,aAAeiN,EAAiBjN,WAChCwB,EAAY2L,IAAIT,GAAgBU,IAAIF,GAEpC1L,EACb2L,IAAIT,GACJU,IAAIF,GACJQ,KAAK,IAEqBP,IAAIF,GAAkBG,IAAIV,GACvDhQ,EAA+B,GAGrC,OAFAA,EAAcC,KAAKmF,YAAmB,IAAI/B,IAAOmM,KACjDxP,EAAcC,KAAK+H,YAA6B,IAAI3E,IAAO0N,KACpDrS,YAAKsB,SAKfiR,EAA6B,SACtC/S,EACAC,EAFsC,OAGrCsC,EAHqC,EAGrCA,KAHqC,OAKtCC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUrI,kCAAkC7I,KAC1FyC,YAAe1C,GAEfM,aAAU,YAAqB,IAAD,mBAAXkD,GAAW,6BAC1B,EAA8BA,EAAMN,GAAG0G,UAAUlG,KAA1C8C,EAAP,EAAOA,QAAS6K,EAAhB,EAAgBA,WACVW,EAAkBxO,EAAMN,GAAG0G,UAAUqI,aAAavR,MAAK,SAAAwR,GAAM,OAAIA,EAAO1L,UAAYA,KACpFqL,EAAiBrO,EAAMN,GAAG0G,UAAUiI,eAE1C,IAAKA,GAAkBA,EAAenF,SAClC,OAAOxL,IAEX,IAAMiR,EAAkB3O,EAAMN,GAAG0G,UAAUlG,KAAKY,UAC1C8N,EAAmBJ,EAAkBA,EAAgBvF,iBAAmB,IAAIvH,IAAO,GACnFmN,EAAoBL,EAAkBA,EAAgBzI,aAAe,IAAIrE,IAAO,GACtF,GAAIiN,IAAoBf,IAAe,CACnC,IAAIzK,EAA2B0K,EAO/B,OANKe,EAAiB1F,UAAa2F,EAAkB3F,WACjD/F,EAAc0K,EACTiB,IAAID,GACJE,IAAIH,GACJS,KAAK,IAEP7R,YAAG4F,YAAmB,IAAI1B,IAAOyB,KACrC,GAAIwL,IAAoBQ,IAAkB,CAC7C,IAAIC,EASEjM,GAPFiM,EADAf,EAAe1M,aAAeiN,EAAiBjN,WAC7BkM,EAEAA,EACbiB,IAAIT,GACJU,IAAIH,GACJS,KAAK,IAEsBP,IAAID,GAAmBE,IAAIV,GACzDhQ,EAA+B,GAGrC,OAFAA,EAAcC,KAAK8E,YAAmB,IAAI1B,IAAOyB,KACjD9E,EAAcC,KAAK+H,YAA6B,IAAI3E,IAAO0N,KACpDrS,YAAKsB,SAKfkR,EAAiC,SAC1ChT,EACAC,EAF0C,OAGzCsC,EAHyC,EAGzCA,KAHyC,OAK1CC,YAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUpK,sBAAsB9G,KAC9EyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAG0G,UAAUlG,KAAK8C,SACxBhD,EAAMN,GAAG0G,UAAUlG,KAAKuI,eACtBzI,EAAMN,GAAG0G,UAAUlG,KAAK2N,cAElC/Q,aACI,YAAwC,oBACpC,OAAOU,YAAG6H,oBAKbmK,EAAgC,SACzCjT,EACAC,EAFyC,OAGxCsC,EAHwC,EAGxCA,KAHwC,OAKzCC,YAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUzK,kBAAmBlE,IAAMU,GAAGiO,UAAU5K,2BAC9EtG,KACCyC,YAAe1C,GACfuD,aACI,gBAAIC,EAAJ,2BAEIA,EAAMN,GAAG0G,UAAUlG,KAAK8C,SACxBhD,EAAMN,GAAG0G,UAAUlG,KAAKuI,eACtBzI,EAAMN,GAAG0G,UAAUlG,KAAKiD,eAElCrG,aACI,YAAwC,oBACpC,OAAOU,YAAG2H,oBAKX3F,sBACX+O,EACAe,EACAC,EACAC,I,sTC5JShH,EAA0B,SACnCjM,EACAC,EAFmC,OAGlCsC,EAHkC,EAGlCA,KAHkC,OAKnCC,wBAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAmCsC,IAAMU,GAAGiO,UAAU5K,2BACpEtG,KACCyC,YAAe1C,GACfM,aACI,YAAsD,IAAD,yCAAlD6D,EAAkD,KAA7ChE,EAA6C,KAApCqD,EAAoC,KAC3C2I,EAAYhM,EAAO0K,QACnBoB,EAAczI,EAAM2H,OAAOc,YAEjC,OAAIE,EAAUhH,aAAe8G,EAAY9G,WAC9BjE,QAEJqB,wBAAc,CACjB4B,EAAIiI,OAAOxH,OAAOyH,iBAAiBF,GACnChI,EAAIiI,OAAOxH,OAAO0H,qBAAqBH,GACvChI,EAAIiI,OAAOxH,OAAO2H,gBAAgBJ,KACnClM,KACCK,aAAU,YAAmD,IAAD,mBAAhDiJ,EAAgD,KAAlCiD,EAAkC,KAArBD,EAAqB,KAGlD9E,EAAc,CAChBgF,iBAH6B,IAAIvH,IAAOsH,GAIxCjD,aAH6B,IAAIrE,IAAOqE,GAIxCpH,QAASoK,EAAgBpH,WACzBqB,QAAS2F,GAEb,OAAOnL,aAAGsG,YAAkBG,OAEhChC,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnH,mBACjD7I,aAAW,SAACC,GACR,OAAOJ,aAAGmG,YAAkB/F,aAOvC6R,EAAuB,SAChClT,EACAC,EAFgC,GAIO,IADtCsC,EACqC,EADrCA,KAED,OAAOC,wBAAc,CACjBD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU5K,uBAAwB/D,IAAMU,GAAGiO,UAAU9N,4BACnFpD,KACCyC,YAAe1C,GACfM,aACI,YAAsD,IAAD,yCAAlD6D,EAAkD,KAApCX,GAAoC,WAC3C2I,EAAY3I,EAAMN,GAAG0G,UAAUlG,KAAK8C,QACpC0M,EAAY1P,EAAM2H,OAAOc,YACxBrI,EAAkBJ,EAAMN,GAAG0G,UAAUlG,KAArCE,eACP,OAAKuI,GAAcvI,GAAkBuI,IAAc+G,EAI3C/O,EAAIsH,IAAY7G,OAAOuO,eAAevP,EAAgBuI,GAAWlM,KACrEK,aAAU,SAAC6S,GACP,IAAMvJ,EAAoB,IAAI1E,IAAOiO,EAAevJ,WAC9CwJ,EAAyB,IAAIlO,IAAOiO,EAAe/H,OAEnDiI,EAA8B,CAChC5G,iBAF0B,IAAIvH,IAAOiO,EAAeG,MAGpD/J,aAAc6J,EACdjR,QAASyB,EACTgG,UAAWA,EACXpD,QAAS2F,GAEb,OAAOnL,aAAG0G,YAAoB2L,OAElC5N,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnH,mBACjD7I,aAAW,SAACC,GACR,OAAOJ,aAAGmG,YAAkB/F,QAnBzBF,aA2BdqS,EAAwB,SACjCxT,EACAC,EAFiC,OAGhCsC,EAHgC,EAGhCA,KAHgC,OAKjCC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU1H,4BAA4BxJ,KACpFyC,YAAe1C,GACfM,aAAU,YAA6B,IAAD,yCAAzB6D,EAAyB,KAApBhE,EAAoB,KAC3B0R,EAD2B,KACH3O,GAAG0G,UAA3BiI,eACP,OAAO1N,EAAIiI,OAAOxH,OAAOiN,eAAe1R,EAAO0K,SAAS5K,KACpDsD,aAAO,SAACqG,GAAD,OAAoBiI,IAAmBjI,EAAUrE,GAAGsM,MAC3DpT,aAAI,SAACmL,GACD,IAAM4J,EAAmB,IAAItO,IAAO0E,EAAUzE,YAC9C,OAAOuE,YAAqB8J,YAMjCxQ,sBAAagJ,EAAyBiH,EAAsBM,I,+OCnH9DvG,EAA4B,SACrCjN,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnI,4BAA4B/I,KACpFyC,YAAe1C,GACfM,aACI,YAA8C,IAAD,mBAApCkD,GAAoC,6BAClCc,EAAad,EAAMN,GAAG0G,UAAUlG,KAAhCY,UACD2I,EAAYC,YAAyC5I,EAAWd,EAAMN,GAAG0G,UAAUlG,MACzF,OAAO1C,aAAGuH,YAAqB0E,SAKlCE,EAA4B,SACrCpN,EACAC,EAFqC,OAGpCsC,EAHoC,EAGpCA,KAHoC,OAKrCC,wBAAc,CACVD,EACAvC,EAAQE,KACJC,YACIsC,IAAMU,GAAGiO,UAAUtK,qBACnBrE,IAAMU,GAAGiO,UAAUjK,qBACnB1E,IAAMU,GAAGiO,UAAUlL,iBACnBzD,IAAMU,GAAGiO,UAAU9N,wBACnBb,IAAMU,GAAGiO,UAAU9I,qBAG5BpI,KACCyC,YAAe1C,GACfuD,aACI,mCAAcC,GAAd,qCAA2BA,EAAMN,GAAG0G,UAAUlG,KAAKE,kBAAoBJ,EAAMN,GAAG0G,UAAUlG,KAAKY,aAEnGhE,aAAU,YAAe,oBACrB,OAAOU,aAAG+H,oBAIP/F,sBAAagK,EAA2BG,I,mWC3BnDsG,EAAsB,KAM1B,SAASC,EAAgBtS,GAerB,MAboB,kCAAhBA,EAAIuE,QACW,IAAIgO,IAAgB,mEACZ,kCAAhBvS,EAAIuE,QACI,IAAIgO,IAAgB,oCACZ,kCAAhBvS,EAAIuE,QACI,IAAIgO,IAAgB,kBACZ,kCAAhBvS,EAAIuE,QACI,IAAIgO,IAAgB,mBACZ,kCAAhBvS,EAAIuE,QACI,IAAIgO,IAAgB,qDAEpB,IAAIA,IAAgBvS,EAAIuE,SAjBzB,qBAAXjG,SACP+T,EAAiB9T,EAAQ,KAA4B8T,gBAqBlD,IAAMG,EAAwB,SACjC7T,EACAC,EAFiC,OAGhCsC,EAHgC,EAGhCA,KAHgC,OAKjCC,YAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAiCsC,IAAMU,GAAG2Q,SAASC,+BACjE7T,KACCyC,YAAe1C,GACfM,aACI,YAQgC,IACxBqE,EADuB,yCANvBR,EAMuB,YAJnB0G,QAAUvG,EAIS,EAJTA,UAAWV,EAIF,EAJEA,eAAgBuE,EAIlB,EAJkBA,OAG7C3E,EAC2B,KAE3B,cAA6Dc,EAAUyP,OAAvE,GAAOpQ,EAAP,KAAkBK,EAAlB,KAA2B+H,EAA3B,KAA4C/E,EAA5C,KACA,GAAyB,cAArB1C,EAAU0P,OAAwB,CAClC,IAAMtP,EAAaqH,EACbkI,EAAU,IAAI/O,IAAO8B,EAAcuK,KAAK,EAAIpJ,IAClDxD,EAAKR,EAAIQ,GAAGC,OAAOsP,UAAU,KAAMvQ,EAAWK,EAASU,EAAYuP,OAChE,CACH,IAAME,EAAYnN,EACZoN,EAAU,IAAIlP,IAAO6G,EAAgBwF,KAAK,EAAIpJ,IAEpDxD,EAAKR,EAAIQ,GAAGC,OAAOyP,SADD,KACqB1Q,EAAWK,EAASmQ,EAAWC,GAG1E,IAAMzR,EAAYa,EAAMb,UAAU2R,kBAC5BC,EAAS5R,EAAYA,EAAU/B,UAAOmC,EAC5C,OAAOxC,YAAKkT,EAAec,IAAStU,KAEhCK,aACI,SAACkU,GACG,IAAMC,EAASD,EAASC,OACxB,OAAO9P,EAAG+P,YAAY9Q,EAAgB,CAAC6Q,WAASxU,KAC5CK,aAAU,YAA0C,IAAxCqU,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,OAChB,OAAIA,EAAOC,UACA7T,YAAG8T,YAAanQ,EAAGoQ,KAAK5P,YAAa6P,YAAYC,IAAOC,UACxDN,EAAOO,aAAeR,EACtB3T,YAAGoU,YAAeT,GAASK,YAAYC,IAAOI,YAE9CnU,OAGfC,aAAW,SAACC,GACR,OAAOJ,YAAGsU,YAAe5B,EAAgBtS,gBAQrED,aAAW,SAACC,GACR,IAAMmU,EAAe,IAAI5B,IAAgBvS,EAAIuE,SAC7C,OAAO3E,YAAGsU,YAAeC,SAIxBC,EAAsB,SAC/BzV,EACAC,EAF+B,OAG9BsC,EAH8B,EAG9BA,KAH8B,OAK/BC,YAAc,CACVD,EACAvC,EAAQE,KAAKC,YAA+BsC,IAAMU,GAAG2Q,SAAS4B,iCAC/DxV,KACCyC,YAAe1C,GACfuD,aAAO,wCAAuBL,GAAG0G,UAAUiI,kBAC3CvR,aACI,YAQgC,IAKxBqE,EALuB,yCANvBR,EAMuB,YAJnB0G,QAAUvG,EAIS,EAJTA,UAAWV,EAIF,EAJEA,eAAgBuE,EAIlB,EAJkBA,OAG7C3E,EAC2B,KAC3B,cAA6Cc,EAAUyP,OAAvD,GAAOvN,EAAP,KAAkB6K,EAAlB,KAA8B1K,EAA9B,KACM+O,EAAsBlS,EAAMN,GAAG0G,UAAUqI,aAAavR,MAAK,SAAAiV,GAAE,OAAIA,EAAGnP,UAAYA,KAChF4L,EAAmBsD,EAAsBA,EAAoBjJ,iBAAmB,IAAIvH,IAAO,GAC3F2M,EAAiBrO,EAAMN,GAAG0G,UAAUiI,eAE1C,GAAyB,iBAArBvN,EAAU0P,OAA2B,CAErC,IAAM4B,EAAe/D,EAAenF,SAC9B,IAAIxH,IAAOmM,GAEX,IAAInM,IAAOmM,GAAYiB,IAAIT,EAAeU,IAAIH,IAE9CyD,EAAiBhE,EAAenF,SAChC,IAAIxH,IAAOyB,GACX,IAAIzB,IAAOyB,EAAY4K,KAAK,EAAIpJ,IACtCxD,EAAKR,EAAIQ,GAAGC,OAAO6M,aAAajL,EAASoP,EAAcC,EAAgBxE,OACpE,CACH,IAAMyE,EAAmB,IAAI5Q,IAAOyB,EAAY4K,KAAK,EAAIpJ,IACnD4N,EAAkB,IAAI7Q,IAAOmM,EAAWE,KAAK,EAAIpJ,IACjD6N,EAAsBxS,EAAMN,GAAG0G,UAAUoM,oBAC/CrR,EAAKR,EAAIQ,GAAGC,OAAOgN,gBAAgBpL,EAASwP,EAAqBF,EAAkBC,GAGvF,IAAMpT,EAAYa,EAAMb,UAAU2R,kBAC5BC,EAAS5R,EAAYA,EAAU/B,UAAOmC,EAC5C,OAAOxC,YAAKkT,EAAec,IAAStU,KAEhCK,aACI,SAACkU,GACG,IAAMC,EAASD,EAASC,OACxB,OAAO9P,EAAG+P,YAAY9Q,EAAgB,CAAC6Q,WAASxU,KAC5CK,aAAU,YAAuB,IAArBqU,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAChB,OAAIA,EAAOC,UACA7T,YACH8T,YAAanQ,EAAGoQ,KAAK5P,YACrB6P,YAAYC,IAAOC,SACnBnL,cACAhE,YAAgBzB,EAAU0P,SAEvBY,EAAOO,aAAeR,EACtB3T,YAAGoU,YAAeT,GAASK,YAAYC,IAAOI,YAE9CnU,OAGfC,aAAW,SAACC,GACR,OAAOJ,YAAGsU,YAAe5B,EAAgBtS,gBAQrED,aAAW,SAACC,GACR,IAAMmU,EAAe,IAAI5B,IAAgBvS,EAAIuE,SAC7C,OAAO3E,YAAGsU,YAAeC,SAIxBU,EAAiC,SAC1ClW,EACAC,EAF0C,KAGzCsC,KAHyC,OAK1CvC,EAAQE,KACJC,YAA0BsC,IAAMU,GAAG2Q,SAASqC,cAC5C5V,aAAU,SAAAH,GACN,OAAIA,EAAO0K,UAAYoK,IAAOC,QACnBlU,YAAGmV,eAEHjV,SAKR8B,sBAAa4Q,EAAuB4B,EAAqBS,I,mBCnNxE,SAASG,EAAoBzX,GAC5B,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEPoX,EAAoBjX,KAAO,WAAa,MAAO,IAC/CiX,EAAoB/W,QAAU+W,EAC9B9W,EAAOC,QAAU6W,EACjBA,EAAoBxX,GAAK,M,0gXCNZyX,GAAmB,SAACC,EAAoBC,GAArB,OAC5BD,GAAUA,EAAQ5V,MAAK,SAAA8V,GAAI,OAAIA,EAAKC,QAAUF,MAA+B,MCDlEG,aAAOnE,IAAtB,wICQeoE,GAPMD,kBAAOE,UAAPF,CAAH,yG,QCaZG,GAAiBH,UAAOnE,IAAV,ueA+CLuE,GArB+B,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,SAAUV,EAAnB,EAAmBA,QAASW,EAA5B,EAA4BA,SAAUtR,EAAtC,EAAsCA,QAAtC,OAC1C,iCACI,kCACK,IACD,8BAAKoR,OAET,gBAACF,GAAD,CAAgBK,UAAU,iBAA1B,UACI,eAACC,GAAD,CACIC,cAAc,EACdF,UAAU,SACVT,MAAOJ,GAAiBC,EAASU,GACjCV,QAASA,EACTW,SAAU,SAAAI,GAAM,OAAIJ,EAASI,IAC7BC,KAAMjB,GAAiBC,EAASU,KAEpC,eAAC,KAAD,CAAWP,MAAOO,EAAUO,KAAM,GAAIC,MAAO,YAAaN,UAAU,cACpE,eAACO,GAAD,CAAYP,UAAU,UAAtB,SAAiCvR,W,oBCnDvC+R,GAAMhB,UAAOiB,GAAV,0OAQS,SAAAC,GAAK,MAAiC,SAA5BA,EAAMC,OAAO1S,WAAwB,SAAW,UAa7D2S,GAJwC,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,SAAV,IAAoBH,cAApB,gBACnD,eAACH,GAAD,CAAKG,OAAQA,EAAb,SAAsBE,EAASA,EAAOtZ,KAAI,SAAA2C,GAAG,OAAI,8BAAuBA,EAAIuE,SAAlBvE,EAAIuE,YAA+BqS,KCrB3FC,GAAQvB,UAAOnE,IAAV,4KAUL2F,GAAMxB,UAAOnE,IAAV,4JAQH4F,GAAQzB,UAAOnE,IAAV,gZAoBL6F,GAAW1B,UAAOnE,IAAV,mHAiCC8F,GAjBkB,SAAC,GAA6E,IAA5E5B,EAA2E,EAA3EA,MAAOQ,EAAoE,EAApEA,SAAUF,EAA0D,EAA1DA,MAAOuB,EAAmD,EAAnDA,YAAsBC,GAA6B,EAAtC5S,QAAsC,EAA7B4S,UAA6B,IAAnBjO,YAAmB,MAAZ,OAAY,EAC1G,OACI,gBAAC2N,GAAD,WACI,eAACC,GAAD,UACI,gCACI,8BAAKnB,QAGb,gBAACoB,GAAD,CAAOlB,SAAUA,EAAjB,UACI,wBAAO3M,KAAMA,EAAMmM,MAAOA,EAAO6B,YAAaA,IAC7CC,GAAY,eAACH,GAAD,UAAWG,WC7DzBC,GALI9B,UAAOnE,IAAV,yE,QCMVkG,GAAK/B,UAAOgC,KAAV,iDAeFC,GAAuB,SAAAC,GACzB,GAAIA,EACA,OACI,6CACO,eAACH,GAAD,UAAKG,QAMXC,GAAkC,SAAC,GASzC,IARHlV,EAQE,EARFA,UACAK,EAOE,EAPFA,QACAgD,EAME,EANFA,cACA+E,EAKE,EALFA,gBACAiI,EAIE,EAJFA,OACA7L,EAGE,EAHFA,OACAyQ,EAEE,EAFFA,iBACA1N,EACE,EADFA,UAEA,IAAKlE,IAAkB+E,EAAiB,OAAO,KAC/C,OAAQiI,GACJ,KAAKtJ,KACD,IAAOoO,EAAqCnV,EAA7BoV,EAAwC/U,EAAhCgV,EAAyCjN,EAAhCkN,EAAiDjS,EAC3EkS,EAAsBhO,EAAU6N,GAAkBzN,cAClD6N,EAAejO,EAAU6N,GAAkBK,OAC3CC,EAAsBnO,EAAU4N,GAAkBxN,cAClDgO,EAAepO,EAAU4N,GAAkBM,OACjD,OACI,iCACI,gDACmB,IACf,gBAACX,GAAD,WACKQ,EAAQM,SAASL,EAAqBhU,KAAOsU,UADlD,IAC8DL,KACxD,IAJV,iBAKmB,IACf,gBAACV,GAAD,WACKO,EAAQO,SAASF,GADtB,IAC6CC,KACvC,IACLX,GAAqBC,GAT1B,IAS8C,OAE9C,mDACsBU,EADtB,qBACsD,IAClD,gBAACb,GAAD,WAC0B,IAApBtQ,EADN,MAEK,IAAIjD,KAAO8T,EAAQzH,KAAK,EAAKpJ,IAAoBoR,SAASF,GAF/D,IAGK,IAAInU,KAAO8T,EAAQzH,KAAK,EAAKpJ,IAAoBoR,SAASF,GAH/D,YAFJ,qCAYZ,KAAK5O,KACD,IAAOqO,EAAqCnV,EAA7BoV,EAAwC/U,EAAhCiV,EAAyCjS,EAAhCgS,EAA+CjN,EACzEmN,EAAsBhO,EAAU6N,GAAkBzN,cAClD6N,EAAejO,EAAU6N,GAAkBK,OAC3CC,EAAsBnO,EAAU4N,GAAkBxN,cAClDgO,EAAepO,EAAU4N,GAAkBM,OACjD,OACI,iCACI,0DAC6B,IACzB,gBAACX,GAAD,WACKQ,EAAQM,SAASL,EAAqBhU,KAAOsU,UADlD,IAC8DL,KACxD,IAJV,OAKS,IACL,gBAACV,GAAD,WACKO,EAAQO,SAASF,GADtB,IAC6CC,KACvC,IACLX,GAAqBC,GAT1B,IAS8C,OAE9C,mDACsBO,EADtB,yBAC0D,IACtD,gBAACV,GAAD,WAC0B,IAApBtQ,EADN,MAEK,IAAIjD,KAAO+T,EAAQ1H,KAAK,EAAKpJ,IAAoBoR,SAASL,GAF/D,IAGK,IAAIhU,KAAO+T,EAAQ1H,KAAK,EAAKpJ,IAAoBoR,SAASL,GAAsB,IAChFC,EAJL,OAFJ,qCAcZ,KAAKxG,KACD,IAAOoG,EAAqCpV,EAA7BmV,EAAwC9U,EAAhCiV,EAAyCjS,EAAhCgS,EAA+CjN,EACzEmN,EAAsBhO,EAAU6N,GAAkBzN,cAClD6N,EAAejO,EAAU6N,GAAkBK,OAC3CC,EAAsBnO,EAAU4N,GAAkBxN,cAClDgO,EAAepO,EAAU4N,GAAkBM,OACjD,OACI,iCACI,qDACwB,IACpB,gBAACX,GAAD,WACKQ,EAAQM,SAASL,EAAqBhU,KAAOsU,UADlD,IAC8DL,KACxD,IAJV,IAKM,IACF,gBAACV,GAAD,WACKO,EAAQO,SAASF,GADtB,IAC6CC,KAPjD,OAWA,kDACqB,IACjB,gBAACb,GAAD,WACKU,EADL,OACuBG,KACjB,IAJV,wBAK0B,IACtB,gBAACb,GAAD,WAC0B,IAApBtQ,EADN,MAEK,IAAIjD,KAAO+T,EAAQ1H,KAAK,EAAKpJ,IAAoBoR,SAASL,GAF/D,IAGK,IAAIhU,KAAO+T,EAAQ1H,KAAK,EAAKpJ,IAAoBoR,SAASL,GAAsB,IAChFC,EAJL,OAIuB,IAClB,IAAIjU,KAAO8T,EAAQzH,KAAK,EAAKpJ,IAAoBoR,SAASF,GAL/D,IAMK,IAAInU,KAAO8T,EAAQzH,KAAK,EAAKpJ,IAAoBoR,SAASF,GAAsB,IAChFC,EAPL,OANJ,qCAqBZ,KAAKlI,KACD,IAAOqI,EACH9V,EADoBuP,EAEpBlP,EAF+B0V,EAG/B1S,EAHiDqK,EAIjDtF,EAEE4N,EAA+BzO,EAAUuO,GAA2BnO,cACpEsO,EAAwB1O,EAAUuO,GAA2BL,OAC7DS,EAAyB3O,EAAUgI,GAAqB5H,cACxDwO,EAAkB5O,EAAUgI,GAAqBkG,OACvD,OACI,iCACI,oDACuB,IACnB,gBAACX,GAAD,WACKiB,EAAiBH,SAASI,EAA8BzU,KAAOsU,UAAW,IAC1EI,KACC,IALV,IAMM,IACF,gBAACnB,GAAD,WACKpH,EAAWkI,SAASM,GADzB,IACmDC,KARvD,OAYA,kDACqB,IACjB,gBAACrB,GAAD,WACKmB,EADL,OACgCE,KAC1B,IAJV,yBAK2B,IACvB,gBAACrB,GAAD,WAC0B,IAApBtQ,EADN,MAEK,IAAIjD,KAAOwU,EAAiBnI,KAAK,EAAKpJ,IAAoBoR,SACvDI,GAHR,IAMK,IAAIzU,KAAOwU,EAAiBnI,KAAK,EAAKpJ,IAAoBoR,SACvDI,GACD,IACFC,EATL,IAS6B,IACxB,IAAI1U,KAAOmM,EAAWE,KAAK,EAAKpJ,IAAoBoR,SAASM,GAVlE,IAWK,IAAI3U,KAAOmM,EAAWE,KAAK,EAAKpJ,IAAoBoR,SAASM,GAAyB,IACtFC,EAZL,OANJ,qCAyBZ,QACI,OAAO,2BC3LbrB,GAAK/B,UAAOgC,KAAV,wEAKFqB,GAAY,SAAC,GAAkE,IAC7E/U,EADYZ,EAAgE,EAAhEA,MAAOG,EAAyD,EAAzDA,WAAY0H,EAA6C,EAA7CA,YAAaf,EAAgC,EAAhCA,UAE1C8O,EAAc9O,EAAU3G,GAAsB6U,OAEpD,OAAInN,GAAeA,IAAgB1H,GAAcH,GAE7CY,EAAMZ,EAAMa,UAAUsU,SAASrO,EAAUe,GAAaX,eAElD,sEACiC,IAC7B,gBAAC,GAAD,WACKtG,EADL,IACWgV,SAIZ5V,GAASA,EAAMkB,eACtBN,EAAMZ,EAAMkB,cAAciU,SAASrO,EAAU3G,GAAsB+G,eAE/D,sEACiC,IAC7B,gBAAC,GAAD,WACKtG,EADL,IACWgV,KACL,IAJV,kBAKoB5V,EAAMa,UAAUsU,SAASrO,EAAUe,GAAaX,eALpE,aAUJ,yEACmC,eAAC,GAAD,UAAK0O,QAOjCC,GAFyB,SAAArC,GAAK,OAAI,+BAAMmC,GAAUnC,MCpC3DsC,GAAYxD,UAAOnE,IAAV,4EAIT4H,GAAczD,UAAOnE,IAAV,4FAMX6H,GAAS1D,UAAOnE,IAAV,kDAIN8H,GAAQ3D,UAAOnE,IAAV,gIAmBL+H,IAXM5D,UAAOnE,IAAV,4JAWSmE,kBAAO6D,mBAAP7D,CAAH,uWAQE,SAAAkB,GAAK,MAAuB,SAAlBA,EAAM4C,QAAqB,kBAAoB,kBACjD,SAAA5C,GAAK,MAAuB,SAAlBA,EAAM4C,QAAqB,kBAAoB,mBAY5EC,IALK/D,UAAOgC,KAAV,wEAKEhC,UAAOgE,EAAV,wEAyHQC,GAvFkC,SAAC,GAc3C,IAbHC,EAaE,EAbFA,WACAC,EAYE,EAZFA,aAGAC,GASE,EAXFC,cAWE,EAVFjM,OAUE,EATFgM,gBACAE,EAQE,EARFA,KACAjE,EAOE,EAPFA,MACA6B,EAME,EANFA,iBAEA4B,GAIE,EALFS,YAKE,EAJFT,SAGAtP,GACE,EAHFgQ,cAGE,EAFFC,YAEE,EADFjQ,WAGIlE,EASA6T,EATA7T,cACA+E,EAQA8O,EARA9O,gBACA/H,EAOA6W,EAPA7W,QACAL,EAMAkX,EANAlX,UACAwE,EAKA0S,EALA1S,OACA/D,EAIAyW,EAJAzW,MACAG,EAGAsW,EAHAtW,WACA0H,EAEA4O,EAFA5O,YACA3H,EACAuW,EADAvW,UAEJ,EAA0B8W,mBAAS,CAACZ,YAApC,oBAAOa,EAAP,KAAcC,EAAd,KACA,OACI,gBAACpB,GAAD,WACI,eAAC,GAAD,UACKc,GACG,gBAACZ,GAAD,WACI,gBAACC,GAAD,CACIkB,QAAS,WACLD,EAAS,CAACd,SAAUa,EAAMb,WAFlC,UAKKzD,EACD,eAACuD,GAAD,CAAWE,QAASa,EAAMb,QAAQrV,WAAYmL,KAAMkL,sBAEvDH,EAAMb,SACH,uCACI,eAAC,GAAD,CACIlQ,KAAM,SACNyM,MAAO,WACPuB,YAAa,2BACb7B,MAA4B,IAApBtO,EACR8O,SAAU,SAAAjY,GACN8b,EAAeW,OAAOzc,EAAE0c,OAAOjF,MAAQ,OAE3C8B,SAAU,MAEd,eAACkC,GAAD,UACI,eAAC,GAAD,CACI9W,UAAWA,EACXK,QAASA,EACT+H,gBAAiBA,EACjB/E,cAAeA,EACfmB,OAAQA,EACR6L,OAAQ1P,EACRsU,iBAAkBA,EAClB1N,UAAWA,MAGnB,eAACiP,GAAD,UACI,eAAC,GAAD,CACI/V,MAAOA,EACP6H,YAAaA,EACb1H,WAAYA,EACZ2G,UAAWA,cAQtC0P,EAAWe,IAAIC,GAAYlY,OACxB,qCACI,eAAC,GAAD,CAAUmU,QAAQ,EAAME,OAAQ6C,EAAWiB,IAAID,GAAYlY,UAGlEkX,EAAWrD,KAAO,GAAK,eAAC,GAAD,CAAUM,QAAQ,Q,2BC/KhDiE,GAAcpF,kBAAOyB,SAAPzB,CAAH,yTACO,SAAAkB,GAAK,OAAKA,EAAMmE,SAAW,UAAY,WAkBzDC,GAAoBtF,UAAOnE,IAAV,qJAiJR0J,G,oDAzHX,WAAYrE,GAAwB,IAAD,+BAC/B,cAAMA,IAQVsE,mBAAqB,SAACC,EAAiBC,GACnC,IAAI3F,EAAQ0F,EAEZ,IAA4B,IAAxB1F,EAAM4F,QAAQ,KACd,OAAO5F,EAEX,KAA0C,MAAnCA,EAAM6F,OAAO7F,EAAM7T,OAAS,IAC/B6T,EAAQA,EAAM8F,UAAU,EAAG9F,EAAM7T,OAAS,GAU9C,OAPIwZ,GAEuC,MAAnC3F,EAAM6F,OAAO7F,EAAM7T,OAAS,KAC5B6T,EAAQA,EAAM8F,UAAU,EAAG9F,EAAM7T,OAAS,IAI3C6T,GA1BwB,EA6BnC+F,0BAA4B,SAAAC,GACnBA,EAAUhG,MAGV,IAAIvR,KAAO,EAAKgX,mBAAmB,EAAKb,MAAMqB,cAAc,GAAOtX,KAAWoG,SAASjG,GAAGkX,EAAUhG,QAErG,EAAK6E,SAAS,CAACoB,aAAcD,EAAUhG,MAAM8C,SAAS,EAAK3B,MAAMtM,iBAJjE,EAAKgQ,SAAS,CAACoB,aAAc,MA/BF,EAuCnCC,OAAS,kBACL,eAACX,GAAD,UACI,eAACF,GAAD,CACIc,OAAK,EACLb,SAAU,EAAKnE,MAAMmE,SACrBtF,MAAO,EAAK4E,MAAMqB,aAClBzF,SAAU,SAAAjY,GAAC,OACP,EAAK6d,cAAe7d,EAAE0c,OAA4BjF,MAAO,EAAKmB,MAAMnB,MAAO,EAAKmB,MAC3EtM,gBAET0M,SAAU,oCAjDa,EAsDnC8E,aAAe,SAACrG,GACZ,OAAO,EAAKmB,MAAMX,SACJ,KAAVR,EAAe,IAAIvR,KAAOuR,EAAMtR,WAAYC,KAAWoG,QAAS,EAAKoM,MAAMtM,eAAiB,OAxDjE,EA8DnCuR,cAAgB,SAACV,EAAcY,EAAmBzR,GAC9C,IAAImL,EAAQ0F,EAGZ,IAA4B,IAAxB1F,EAAM4F,QAAQ,KAAlB,CAKc,MAAV5F,IACAA,EAAQ,MAGZ,IAAMuG,EAAWvG,EAAM4F,QAAQ,KACzBY,EAAUxG,EAAMyG,YAAY,KAElC,KAAiB,IAAbD,GAAkBD,IAAaC,IAIP,MAAxBxG,EAAM0G,eAAsC,MAAb1G,EAAM,GAAzC,CAIA,IAAM2G,EAA0B3G,EAAM4G,MAAM,KAAK,GACjD,KAAID,GAA2B9R,GAAiB8R,EAAwBxa,OAAS0I,KAI7EgS,MAAM7G,GAAV,CAKA,IAAkB,IAAduG,EAEA,GADsBvG,EAAM8F,UAAUS,EAAW,GAAGpa,OA/G3C,GAiHL,OAKR,IAAM2a,EAAY,EAAKrB,mBAAmBzF,GAAO,GAC7CsG,GAAaA,EAAUxX,GAAG,IAAIL,KAAOqY,EAAWnY,KAAWoG,QAAS,EAAKoM,MAAMtM,gBAC/E,EAAKgQ,SAAS,CAACoB,aAAcjG,IAU7B,EAAK6E,SAAS,CAACoB,aAAcjG,IAAQ,kBAAM,EAAKqG,aAAaS,UAhHjE,EAAKlC,MAAQ,CACTqB,aAAc9E,EAAMnB,MAAQmB,EAAMnB,MAAM8C,SAAS,EAAK3B,MAAMtM,eAAiB,IALlD,E,UADfkS,IAAMC,WC1CxB9G,GAAeD,kBAAOE,UAAPF,CAAH,guCAKM,SAAAkB,GAAK,MAAqC,SAAhCA,EAAM8F,WAAWvY,WAAwB,MAAQ,SAU5D,SAAAyS,GAAK,MAAuC,SAAlCA,EAAM+F,aAAaxY,WAAwB,qBAAuB,UAwC7FyY,GAAOlH,UAAOmH,IAAV,uKASJC,GAAOpH,UAAOgC,KAAV,sDAIJwB,GAAYxD,UAAOnE,IAAV,iRAcTwL,GAAW,SAAC,GAAc,IAAb3E,EAAY,EAAZA,OACf,IACI,OACI,gBAAC,GAAD,WACI,eAACwE,GAAD,CAAMI,IAAKre,QAAQ,YAAeyZ,EAAO6E,cAAvB,WAClB,eAACH,GAAD,CAAM5G,UAAU,SAAhB,SAA0BkC,OAGpC,MAAOpa,GAEL,OACI,gBAAC,GAAD,WACI,eAAC4e,GAAD,CAAMI,IAAKre,EAAQ,QACnB,eAACme,GAAD,CAAM5G,UAAU,SAAhB,SAA0BkC,SA0B3B8E,GAV+B,SAAAtG,GAAK,OAC/C,eAAC,GAAD,6BACQA,GADR,IAEInB,OAbkBH,EAaMsB,EAAMtB,QAbM9P,EAaGoR,EAAMnB,MAZjDH,GAAUA,EAAQ5V,MAAK,SAAA8V,GAAI,OAAIA,EAAK5X,KAAO4H,MAAmB,MAa1D2X,eAAgBJ,GAChBL,WAAY9F,EAAM8F,WAClBC,cAAqC,IAAvB/F,EAAM+F,eAAiC/F,EAAM8F,cAhB1C,IAACpH,EAAkB9P,GC9G7BkQ,aAAOnE,IAAtB,wHCCemE,qBAAO0H,UAAP1H,CAAf,oVCOMuB,GAAQvB,UAAOnE,IAAV,mNAaL8L,GAAY3H,kBAAO4H,GAAP5H,CAAH,gSAeT6H,GAAiB7H,kBAAO8H,GAAP9H,CAAH,0PAyBdwB,GAAMxB,UAAOnE,IAAV,iEAIHkM,GAAkB,SAAClT,EAAgB/E,EAAiBkY,GAAlC,MAA2E,CAC/FnT,SACA/E,UACAkY,iBAqDWC,GAlD+B,SAAC,GAWxC,IAVHC,EAUE,EAVFA,IACAnI,EASE,EATFA,MACAH,EAQE,EARFA,QACAW,EAOE,EAPFA,SACAF,EAME,EANFA,MACApR,EAKE,EALFA,QACAkZ,EAIE,EAJFA,SACAC,EAGE,EAHFA,eACAC,EAEE,EAFFA,cACAzT,EACE,EADFA,cAEO9E,EAAmBiQ,EAAnBjQ,QAAS+E,EAAUkL,EAAVlL,OAEhB,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,UACI,gCACI,gCACKwL,EADL,IACa+H,GAAkBA,SAIvC,gBAACP,GAAD,CAAgB3f,GAAG,QAAnB,UACI,eAAC,GAAD,CACImd,SAAUgD,EACVtI,MAAOlL,EACPD,cAAeA,EACf2L,SAAU,SAAAR,GAAK,OAAIQ,EAASwH,GAAgBhI,EAAOjQ,GAAS,OAEhE,eAAC6X,GAAD,CACIW,SAAUD,EACVxD,QAAS,kBAAMtE,EAASwH,GAAgBG,GAAO,IAAI1Z,KAAO,GAAIsB,GAAS,KAF3E,iBAMA,eAAC,GAAD,CACI4Q,cAAc,EACdX,MAAOjQ,EACP8P,QAASA,EACTW,SAAU,SAAC7L,GAAD,OAAkB6L,EAASwH,GAAgBlT,EAAQH,EAAMxM,IAAI,KACvE8e,YAAY,OAGpB,eAACjG,GAAD,UAAa9R,IACZkZ,MCnHPnH,GAAMhB,UAAOnE,IAAV,6FAKM,qBAAM,eAAC,GAAD,UAAM,UCOZ0M,GAH6B,SAAC,GAAD,IAAElH,EAAF,EAAEA,OAAQmH,EAAV,EAAUA,MAAOrH,EAAjB,EAAiBA,OAAjB,OACxCE,EAAO4D,IAAIuD,GAAS,eAAC,GAAD,CAAUrH,OAAQA,EAAQE,OAAQA,EAAO8D,IAAIqD,KAAsB,eAACC,GAAD,KCArFC,GAAe1I,kBAAO6D,mBAAP7D,CAAH,yWAQD,SAAAkB,GAAK,OAAKA,EAAMyH,UAAY,EAAI,kBAAoB,mBAC5C,SAAAzH,GAAK,OAAKA,EAAMyH,UAAY,EAAI,kBAAoB,mBASvEnF,GAAYxD,UAAOnE,IAAV,iJAsBA+M,GAdkC,SAAC,GAAe,IAAd/D,EAAa,EAAbA,QAC/C,EAAkCH,mBAAS,GAA3C,oBAAOiE,EAAP,KAAkBE,EAAlB,KACA,OACI,eAAC,GAAD,CACIhE,QAAS,WACLgE,EAAaF,EAAY,GACzB9D,KAHR,SAMI,eAAC6D,GAAD,CAAcC,UAAWA,EAAW/O,KAAMkP,sBC5CvC,mBAAEC,EAAF,EAAEA,OAAF,OACX,gBAACC,GAAD,WACI,eAAC,IAAD,CAAMC,MAAOC,GAAa,WAAYH,GAASI,GAAG,WAAlD,sBAGA,eAAC,IAAD,CAAMF,MAAOC,GAAa,YAAaH,GAASI,GAAG,YAAnD,2BAMFD,GAAe,SAACE,EAAMC,GAAP,OACjBD,IAASC,EAAa,CAAC5P,MAAO,UAAW6P,kBAAmB,WAAa,CAAC7P,MAAO,YAE/EuP,GAAahJ,UAAOuJ,IAAV,8XCNDC,GAVFxJ,UAAOnE,IAAV,0OCaK0M,GAH6B,SAAC,GAAD,IAAElH,EAAF,EAAEA,OAAQmH,EAAV,EAAUA,MAAOrH,EAAjB,EAAiBA,OAAjB,OACxCE,EAAO4D,IAAIuD,GAAS,eAAC,GAAD,CAAUrH,OAAQA,EAAQE,OAAQA,EAAO8D,IAAIqD,KAAsB,eAACC,GAAD,K,mBCkB5E,QAtBf,SAA8BvH,EAAuBG,GACjD,MAGIH,EAFAlU,KAAOuI,EADX,EACWA,YAAaoF,EADxB,EACwBA,WACpBnG,EACA0M,EADA1M,UAGAiV,GACI,CAAC,uBAAwB,uBAAwB,uBAAwB,4BACzEpI,KAMH1G,GAAcpF,GAAef,EAAUtI,QACxCwd,GAAWxE,GAAYvK,WAAY,IAAIgP,KAAwBnV,EAAUe,GAAamN,QAASrB,KCXxF,QATf,SAA+BH,EAAuBG,GAG9CH,EADAlU,KAAOE,gBAGPwc,GAAWxE,GAAY3Z,QAAS,IAAIqe,KAAsBvI,KCQnD,QAbf,SAA8BH,EAAuBG,GACjD,IAAIoI,GAAY,CAAC,uBAAwB,uBAAwB,4BAA6BpI,GAA9F,CAGA,MAGIH,EAFAlU,KAAOiD,EADX,EACWA,YAAaH,EADxB,EACwBA,QACpB0E,EACA0M,EADA1M,WAECvE,GAAeuE,EAAUtI,QAAU4D,GACpC4Z,GAAWxE,GAAYjV,YAAa,IAAI4Z,KAAsBrV,EAAU1E,GAAS4S,QAASrB,MCLlG,SAASyI,GACL7Z,EACA8Z,EACAvV,EACA1E,GAEA,OAAIG,GAAe8Z,GAAuB9Z,EAAY+Z,GAAGD,GAC9C,IAAIE,KAAqBzV,EAAU1E,GAAUG,GAC7C8Z,GAAuBA,EAAoB/T,SAC3C,IAAIiU,KAAqBzV,EAAU1E,IAEvC,KAGX,SAASoa,GACLja,EACAiB,EACAsD,EACA1E,GAEA,OAAIG,GAAeiB,GAAmBjB,EAAY+Z,GAAG9Y,GAC1C,IAAIiZ,KAAyB3V,EAAU1E,GAAUG,EAAaiB,GAC9DA,GAAmBA,EAAgB8E,SACnC,IAAImU,KAAyB3V,EAAU1E,IAE3C,KAwFI,QArFf,SAA0BoR,EAAuBG,GAC7C,MAMIH,EALAlU,KAAOiD,EADX,EACWA,YAAa0K,EADxB,EACwBA,WAAY7K,EADpC,EACoCA,QAASyF,EAD7C,EAC6CA,YAAa3H,EAD1D,EAC0DA,UACtDmc,EAIA7I,EAJA6I,oBACAK,EAGAlJ,EAHAkJ,mBACAlZ,EAEAgQ,EAFAhQ,gBACAsD,EACA0M,EADA1M,UAGJ,IAAIiV,IAAY,kBAAM,IAAMpI,EAAQ6D,GAAYmF,YAAhD,CACA,GAAIzc,IAAc8M,KAAe,CAC7B,IAAM4P,EAAoBR,GACtB7Z,EACA8Z,EACAvV,EACA1E,GAEAwa,GACAZ,GAAWxE,GAAYjV,YAAaqa,EAAmBjJ,GAE3D,IAAMkJ,EAAmBT,GACrBnP,EACAyP,EACA5V,EACAe,GAEAgV,GACAb,GAAWxE,GAAYvK,WAAY4P,EAAkBlJ,GAG7D,GAAIzT,IAAcqO,KAAkB,CAChC,IACMuO,EAA2BN,GAC7Bja,EAFuBiB,EAAkBA,EAAgB2B,kBAAexG,EAIxEmI,EACA1E,GAEA0a,GACAd,GAAWxE,GAAYjV,YAAaua,EAA0BnJ,GAElE,IACMoJ,EAA0BP,GAC5BvP,EAFsBzJ,EAAkBA,EAAgB6E,sBAAmB1J,EAI3EmI,EACAe,GAEAkV,GACAf,GAAWxE,GAAYvK,WAAY8P,EAAyBpJ,MAKxE,SAAgCH,EAAuBG,GACnD,MAMIH,EALAlU,KAAOiD,EADX,EACWA,YAAaH,EADxB,EACwBA,QAASjC,EADjC,EACiCA,WAAY8M,EAD7C,EAC6CA,WAAYzN,EADzD,EACyDA,eAAgBU,EADzE,EACyEA,UACrEF,EAIAwT,EAJAxT,MACA6H,EAGA2L,EAHA3L,YACAmV,EAEAxJ,EAFAwJ,iBACAlW,EACA0M,EADA1M,UAEJ,GAAKvE,GAAgBH,GAAYpC,EAAjC,CACA,IAAMid,EAAYpV,IAAgB1H,EAAaH,EAAMa,UAAYb,EAAMkB,cACnEgc,EAAcD,EAGd/c,GAAaA,IAAc8M,MAAiBC,GAAciQ,IAC1DA,EAAc,IAAIpc,KAAOoc,EAAYC,IAAIlQ,KAE7C,IAAM9H,EAAe6X,EAAiB1gB,MAClC,SAAC8gB,GAAD,OAA6BA,EAAShb,UAAYjC,GAAcid,EAASvf,UAAY2B,KAGrF2F,IACK+X,IAAe/X,EAAaqE,QAAQ6T,GAAGH,IACxClB,GACIxE,GAAYlY,KACZ,IAAIge,KAA2BxW,EAAU3G,GAAuB8c,EAAW9X,EAAaqE,SACxFmK,OC5GT,SAASqI,GAAWlB,EAAoB7X,EAAuB0Q,GAC7DA,EAAO4D,IAAIuD,IACZnH,EAAO4J,IAAIzC,EAAO,IAGtBnH,EAAO8D,IAAIqD,GAAOpd,KAAKuF,GAapB,SAAS8Y,GACZyB,EACA7J,EACAmH,GAEA,IAAI3b,EAWJ,OATIA,EADuB,kBAAhBqe,EACE,SAAAva,GAAK,OAAIA,EAAMzG,OAASghB,GAC1BA,aAAuBC,MACrB,SAAAxa,GAAK,OAAIua,EAAYE,SAASza,EAAMzG,OAEpCghB,GAGK1C,EAAQnH,EAAO8D,IAAIqD,IAAU,GAtBnD,SAAwBnH,GACpB,IAD0D,EACpDgK,EAAwB,GAD4B,eAEhChK,EAAOiK,UAFyB,IAE1D,2BAA2C,CAAC,IAAjCC,EAAgC,QACvCF,EAAIjgB,KAAJ,MAAAigB,EAAG,aAASE,KAH0C,8BAK1D,OAAOF,EAiB6CG,CAAenK,IAElDoK,UAAU5e,IAAW,EAQ1C,I,2BCoEYqY,GAUAwG,GD9ENC,GAAuB,uBAAOC,IAAP,aAAwBC,IAAxB,aAA6CC,IAA7C,aAAmEC,KC7B1FC,GAAOhM,UAAOnE,IAAV,uJAOJoQ,GAAOjM,UAAOnE,IAAV,mFAKGqQ,GAAQlM,UAAOnE,IAAV,sGAMZsQ,GAAUnM,UAAOnE,IAAV,0xBAmCPuQ,GAAapM,kBAAO0H,UAAP1H,CAAH,2RAcVqM,GAAQrM,UAAOnE,IAAV,gGAKLyQ,GAActM,UAAOgE,EAAV,2HAMXuI,GAAUvM,UAAOgE,EAAV,+NAePwI,GAAWxM,kBAAO6D,mBAAP7D,CAAH,qD,SAIFkF,K,kBAAAA,E,0BAAAA,E,wBAAAA,E,sBAAAA,E,wBAAAA,E,qBAAAA,Q,cAUAwG,K,UAAAA,E,mBAAAA,Q,KAsCZ,IAAMe,GAAe,SAAC7M,EAAS1X,GAC3B,IAAKA,EAAI,OAAO,KAChB,IAAMgC,EAAO0V,EAAQ5V,MAAK,SAAA0iB,GAAC,OAAIA,EAAExkB,KAAOA,KACxC,OAAOgC,GAAQA,EAAKwY,QAGxB,SAASiK,GACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA5e,GAEA,OACI,qCACKse,GAAaC,EACV,gBAACN,GAAD,8BACqBO,EADrB,IAC4CC,EAD5C,MAC0DC,EAD1D,IACgFC,EAC5E,wBAFJ,mBAGqBL,EAHrB,IAGiCG,EAHjC,MAG+CF,EAH/C,IAG0DI,EACtD,wBACCC,EACA5e,GACG,uCACI,wBADJ,wCAEsCA,SAI9C,OAKhB,SAAS6e,GAAWpD,EAA6BvV,EAA2B1E,GACxE,OACIia,GAAuBvV,EAAUtI,OAAS,GAAK6d,EAAoBlH,SAASrO,EAAU1E,GAAS8E,eAIvG,SAASwY,GAAwBC,EAAsB7Y,EAA2B1E,GAC9E,OAAOud,GAAgB7Y,EAAUtI,OAAS,GAAK4D,GAAWud,EAAaxK,SAASrO,EAAU1E,GAAS8E,eAGvG,SAAS0Y,GACL7R,EACAvK,EACApB,EACAyd,GAEA,OAAI9R,IAAoBiQ,GAAgB8B,QAAUtc,GAAmBpB,EAC1DoB,EAAgB8E,WAChByF,IAAoBiQ,GAAgB+B,MAAOF,IAAkBzd,IAC7Dyd,EAAevX,SAKvB,SAAS0X,GAAiB5d,EAAiB0E,GAC9C,OAAO1E,GAAW0E,EAAUtI,OAAS,EAAIsI,EAAU1E,GAAS8E,mBAAgBvI,EC7LjE,QAZf,SAAgC6U,EAAsBG,GAG9CH,EADAlU,KAAOC,WAGPyc,GAAWxE,GAAYyI,eAAgB,IAAIC,KAAwBvM,IA3B3E,SAA8BH,EAAsBG,GAChD,MAGIH,EAFAlU,KAAOsD,EADX,EACWA,cAAe+E,EAD1B,EAC0BA,gBAAiBpI,EAD3C,EAC2CA,UACvCuH,EACA0M,EADA1M,UAEAiV,GAAY,CAAC,uBAAwB,wBAAyBpI,IAI7DhM,IACG/E,GAAiBA,EAAcud,IAAI,GACnCnE,GAAWxE,GAAYyI,eAAgB,IAAIG,KAAc5I,GAAYyI,gBAAiBtM,GAEtFqI,GACIxE,GAAYyI,eACZ,IAAIhE,KAAwBnV,EAAUvH,GAAqByV,QAC3DrB,MCKD,QAnBf,SAA0BH,EAAsBG,GAC5C,MAIIH,EAHAlU,KAAOsD,EADX,EACWA,cAAehD,EAD1B,EAC0BA,QACtBygB,EAEA7M,EAFA6M,cACAvZ,EACA0M,EADA1M,UAEAlE,GAAiByd,GAAiBzd,EAAc0Z,GAAG+D,IACnDrE,GACIxE,GAAY8I,aACZ,IAAIC,KAAqBzZ,EAAUlH,GAAoBgD,EAAeyd,GACtE1M,KCHG,QATf,SAA+BH,EAAsBG,GAG7CH,EADAlU,KAAOE,gBAGPwc,GAAWxE,GAAY3Z,QAAS,IAAIqe,KAAsBvI,KC4BnD,QAZf,SAA8BH,EAAsBG,GAG5CH,EADAlU,KAAOM,SAGPoc,GAAWxE,GAAY8I,aAAc,IAAIE,KAAsB7M,IA1BvE,SAA4BH,EAAsBG,GAC9C,IAAIoI,GAAY,CAAC,uBAAwB,sBAAuBpI,GAAhE,CAGA,MAGIH,EAFAlU,KAAOsD,EADX,EACWA,cAAe+E,EAD1B,EAC0BA,gBAAiB/H,EAD3C,EAC2CA,QACvCkH,EACA0M,EADA1M,UAEClE,GAEGoZ,GAAWxE,GAAY8I,aADvB3Y,EACqC,IAAIyY,KAAc5I,GAAY8I,cAI/D,IAAInE,KAAsBrV,EAAUlH,GAAmBoV,QAJuBrB,MCuC/E,QA/Cf,SAA0BH,EAAsBG,GAC5C,MAIIH,EAHAlU,KAAOqI,EADX,EACWA,gBAAiBpI,EAD5B,EAC4BA,UACxBkhB,EAEAjN,EAFAiN,iBACA3Z,EACA0M,EADA1M,UAGAiV,IAAY,kBAAM,IAAMpI,EAAQ6D,GAAYyI,iBAC5CtY,GAAmB8Y,GAAoB9Y,EAAgB2U,GAAGmE,IAC1DzE,GACIxE,GAAYyI,eACZ,IAAI1D,KAAqBzV,EAAUvH,GAAsBoI,GACzDgM,IAKZ,SAAgCH,EAAsBG,GAClD,MAMIH,EALAlU,KAAOqI,EADX,EACWA,gBAAiBpI,EAD5B,EAC4BA,UAAWY,EADvC,EACuCA,WAAYX,EADnD,EACmDA,eAC/CQ,EAIAwT,EAJAxT,MACA6H,EAGA2L,EAHA3L,YACAmV,EAEAxJ,EAFAwJ,iBACAlW,EACA0M,EADA1M,UAEJ,GAAKa,GAAoBpI,GAAcS,EAAvC,CACA,IAAMid,EAAYpV,IAAgB1H,EAAaH,EAAMa,UAAYb,EAAMkB,cACnEgc,EAAcD,EAEd1d,IAAcY,GAAc+c,IAC5BA,EAAc,IAAIpc,KAAOoc,EAAYC,IAAIxV,KAE7C,IAAMxC,EAAe6X,EAAiB1gB,MAClC,SAAC8gB,GAAD,OAA6BA,EAAShb,UAAYjC,GAAcid,EAASvf,UAAY2B,KAGrF2F,IACK+X,IAAe/X,EAAaqE,QAAQ6T,GAAGH,IACxClB,GACIxE,GAAYlY,KACZ,IAAIge,KAA2BxW,EAAU3G,GAAuB8c,EAAW9X,EAAaqE,SACxFmK,OCvCT,SAASqI,GAAWlB,EAAoB7X,EAAuB0Q,GAC7DA,EAAO4D,IAAIuD,IACZnH,EAAO4J,IAAIzC,EAAO,IAGtBnH,EAAO8D,IAAIqD,GAAOpd,KAAKuF,GAapB,SAAS8Y,GACZyB,EACA7J,EACAmH,GAEA,IAAI3b,EAWJ,OATIA,EADuB,kBAAhBqe,EACE,SAAAva,GAAK,OAAIA,EAAMzG,OAASghB,GAC1BA,aAAuBC,MACrB,SAAAxa,GAAK,OAAIua,EAAYE,SAASza,EAAMzG,OAEpCghB,GAGK1C,EAAQnH,EAAO8D,IAAIqD,IAAU,GAtBnD,SAAwBnH,GACpB,IAD0D,EACpDgK,EAAwB,GAD4B,eAEhChK,EAAOiK,UAFyB,IAE1D,2BAA2C,CAAC,IAAjCC,EAAgC,QACvCF,EAAIjgB,KAAJ,MAAAigB,EAAG,aAASE,KAH0C,8BAK1D,OAAOF,EAiB6CG,CAAenK,IAElDoK,UAAU5e,IAAW,EAQ1C,I,eCwCYqY,GDxCNyG,GAAuB,uBACtBC,IADsB,aAEtBwC,IAFsB,aAGtBtC,IAHsB,aAItBC,IAJsB,aAKtBF,KChCDG,GAAOhM,UAAOnE,IAAV,uJAOJwS,GAASrO,UAAOnE,IAAV,6MAYNyS,GAAqBtO,UAAOnE,IAAV,gDAIlBsQ,GAAUnM,UAAOnE,IAAV,wzBAoCP0S,GAAgBvO,UAAOnE,IAAV,sGAMb2S,GAAkB,e,SAEZtJ,K,kBAAAA,E,4BAAAA,E,gCAAAA,E,oBAAAA,E,qCAAAA,Q,KAuCL,I,sDC1HDuJ,GAAa,SAAC9J,GAAD,OAAqBA,EAAMnY,GAAGO,SAASC,KAAKM,SACzDohB,GAAoB,SAAC/J,GAAD,OAAqBA,EAAMnY,GAAGO,SAASC,KAAKE,gBAChEyhB,GAAe,SAAChK,GAAD,OAAqBA,EAAMnY,GAAGO,SAASC,KAAKC,WAK3D2hB,GAAW,SAACjK,GAAD,OAAqBA,EAAMnY,GAAGO,SAASW,OAClDmhB,GAAgB,SAAClK,GAAD,OAAqBA,EAAMnY,GAAGO,SAASC,KAAKa,YAC5D0J,GAAe,SAACoN,GAAD,OAAqBA,EAAMlQ,OAAOc,aACjDuZ,GAAsB,SAACnK,GAAD,OAAqBA,EAAMnY,GAAGO,SAAS2d,kBAC7DqE,GAAe,SAACpK,GAAD,OAAqBA,EAAMlQ,OAAOD,WAE1Cwa,GAAYC,aACrB,CAACF,KACD,SAAAva,GACI,IAAM0a,EAAoB,GAS1B,OARA1a,GACIA,EAAU2a,SAAQ,SAAAza,GACd,IAAM0a,EAAc,CAChB1M,OAAQhO,EAAMgO,OACdxa,GAAIwM,EAAMxM,IAEdgnB,EAAa9jB,KAAKgkB,MAEnBF,KAIFG,GAA0BJ,aACnC,CAACN,GAAcG,GAAqBJ,KACpC,SAACzhB,EAAWqiB,EAAapiB,GACrB,IAAKD,EAAW,OAAO,KACvB,IAAKqiB,EAAYpjB,OAAQ,OAAO,KAChC,IAAMiiB,EAAmBmB,EAAYtlB,MACjC,SAACulB,GAAD,OAAwBA,EAAIzf,UAAY7C,GAAasiB,EAAIhkB,UAAY2B,KAEzE,OAAIihB,EACOA,EAAiBjX,QAErB,QAIFsY,GAAwBP,aACjC,CAACR,GAAYK,GAAqBJ,KAClC,SAACphB,EAASgiB,EAAapiB,GACnB,IAAKI,EAAS,OAAO,KACrB,IAAKgiB,EAAYpjB,OAAQ,OAAO,KAChC,IAAMujB,EAAiBH,EAAYtlB,MAC/B,SAACulB,GAAD,OAAwBA,EAAIzf,UAAYxC,GAAWiiB,EAAIhkB,UAAY2B,KAEvE,OAAIuiB,EACOA,EAAevY,QAEnB,QAIFwY,GAAmBT,aAC5B,CAACR,GAvDmB,SAAC9J,GAAD,OAAqBA,EAAMnY,GAAGO,SAASwO,cAuD7BhE,KAC9B,SAACjK,EAASiO,EAAciB,GACpB,IAAKlP,EAAS,OAAO,KACrB,IAAKiO,EAAarP,OAAQ,OAAO,KACjC,IAAMyjB,EAAyBpU,EAAavR,MAAK,SAAC4lB,GAAD,OAA6BA,EAAS9f,UAAYxC,KACnG,OAAIqiB,EACOA,EAAuB9c,aACvBgd,OAAOviB,KAAauiB,OAAOrT,GAC3BjB,EAAa,GAAGxF,sBADpB,KAMT4J,GAAmB,SAACC,EAAkBC,GAAnB,OACrBD,GAAUA,EAAQ5V,MAAK,SAAA8V,GAAI,OAAIA,EAAK5X,KAAO2X,MAA+B,MAEjEiQ,GAAqBb,aAC9B,CAvEoB,SAACtK,GAAD,OAAqBA,EAAMnY,GAAGO,SAAS0F,cAyEvDuc,GACAL,GACAF,GACAG,GACArX,GACAsX,GAhFmB,SAAClK,GAAD,OAAqBA,EAAMnY,GAAGO,SAASC,KAAKqI,iBAkF/D0Z,KAEJ,SAACtc,EAAc2F,EAAQnL,EAAWK,EAASI,EAAO8O,EAAW3O,EAAYkiB,EAAavb,GAClF,GAAKub,GAAgBtd,EAArB,CACA,IAAInE,EACEgV,EAAc9O,EAAU3G,GAAsB6U,OAChDlG,GAAaA,IAAc3O,GAAcH,EACzCY,EAAG,UAAMZ,EAAMa,UAAUsU,SAASrO,EAAU3G,GAAY+G,eAArD,YAAuE0O,GACnE5V,GAASA,EAAMkB,gBACtBN,EAAG,UAAMZ,EAAMkB,cAAciU,SACzBrO,EAAU3G,GAAsB+G,eADjC,0BAEgBlH,EAAMa,UAAUsU,SAASrO,EAAUgI,GAAqB5H,eAFxE,WAIP,IAAMob,EAAY1hB,EAAG,wCAAoCA,GAAQ,GAE3D2hB,EAAOxd,EAAaoQ,SAASrO,EAAUlH,GAAmBsH,eAChE,OAAOnC,EAAY,2BAEOkN,GAAiBvH,EAAQnL,GAAWyV,OAF3C,cAEuDuN,EAFvD,YAITtQ,GAAiBvH,EAAQ9K,GAASoV,OAJzB,aAKRsN,GACL,OAIDE,GAAkBjB,aAC3B,CAACL,GAAUI,GAAWH,GAAetX,GAAcwX,KACnD,SAACrhB,EAAO0K,EAAQvK,EAAY2O,EAAWhI,GACnC,IAAIlG,EACJ,OAAIuhB,OAAOhiB,KAAgBgiB,OAAOrT,IAAc9O,GAE5CY,EAAMZ,EAAMa,UAAUsU,SAASrO,EAAU3G,GAAsB+G,cAAepG,KAAOsU,UAE/E,sBAAN,OAA6BxU,EAA7B,YAAoCqR,GAAiBvH,EAAQvK,GAAY6U,SAClEhV,GAASA,EAAMkB,eACtBN,EAAMZ,EAAMkB,cAAciU,SAASrO,EAAU3G,GAAsB+G,cAAepG,KAAOsU,UACnF,sBAAN,OAA6BxU,EAA7B,YAEIqR,GAAiBvH,EAAQvK,GAAY6U,OAFzC,0BAGkBhV,EAAMa,UAAUsU,SAC9BrO,EAAUgI,GAAqB5H,cAC/BpG,KAAOsU,UALX,gBAFG,KC/FTqN,GAAoC,SAACxf,EAAoBb,GAC3D,IAAIsgB,EAAgC,KASpC,OARAzf,EAAMwe,SAAQ,SAASzkB,GACfA,aAAe0J,OACY1J,EAAkBgK,MAAMxM,KACzB4H,IACtBsgB,EAAc1lB,OAInB0lB,GA4GIC,gBAzGS,SAAC1L,GAAD,oBAAC,gBAClBA,EAAMnY,GAAGO,UADQ,IAEpByH,UAAWmQ,EAAMlQ,OAAOD,UACxBe,YAAaoP,EAAMlQ,OAAOc,YAC1BoC,QAASgN,EAAMlQ,OAAOkD,QACtBS,OAAQ4W,GAAUrK,GAClBwJ,iBAAkBkB,GAAwB1K,GAC1C8K,eAAgBD,GAAsB7K,GACtC1Z,SAAU0Z,EAAM1Y,UAAUhB,SAASlD,KAAI,SAACwD,GAAD,MAAyB,CAC5D+kB,MAAM,GAAD,OAAK/kB,EAAQrB,MAClB6V,MAAOxU,EAAQE,YAEnBsiB,cAAe2B,GAAiB/K,GAChCuI,gBAAiB4C,GAAmBnL,GACpC4L,SAAUL,GAAgBvL,QAIH,SAAC6L,GAAD,MAAyB,CAChDC,sBAAuB,SAAChf,GACpB+e,EAASjf,aAAwBE,KAErCif,4BAA6B,SAACnlB,GAC1BilB,EAAS7gB,aAAsBpE,KAEnColB,2BAA4B,SAAC9b,GACzB2b,EAASI,aAAiB/b,IAC1B2b,EAASnhB,aAAgB2E,OACzBwc,EAASK,iBAEbC,4BAA6B,SAACjc,GAC1B2b,EAASO,aAAmBlc,IAC5B2b,EAASnhB,aAAgB0E,OACzByc,EAASK,iBAEbG,uBAAwB,SAAClhB,EAAD,EAA0Da,GAAwB,IAA/D1D,EAA8D,EAA9DA,UAAWK,EAAmD,EAAnDA,QAClD,GAAIL,IAAc6C,EACd0gB,EAASS,oBACN,CACH,IAAMC,EAAgBf,GAAkCxf,EAAOrD,GAC3D4jB,GACAV,EAASW,aAAoBD,IAEjCV,EAASY,aAAsBthB,MAGvCuhB,wBAAyB,SAACvhB,EAAD,EAA0Da,GAAwB,IAA/D1D,EAA8D,EAA9DA,UACxC,GADsG,EAAnDK,UACnCwC,EACZ0gB,EAASS,oBACN,CACH,IAAMC,EAAgBf,GAAkCxf,EAAO1D,GAC3DikB,GACAV,EAASW,aAAoBD,IAEjCV,EAASc,aAAwBxhB,MAGzCyhB,qBAAsB,SAACzhB,GACnB0gB,EAAS9e,aAAe5B,KAE5B0hB,WAAY,WACRhB,EAASS,iBAEbQ,YAAa,WACTjB,EAAS/Q,iBAEbiS,aAAc,WAWVhkB,GACE,IAVEE,EAUH,EAVGA,UACAX,EASH,EATGA,UACAK,EAQH,EARGA,QACAgD,EAOH,EAPGA,cACA+E,EAMH,EANGA,gBACAnI,EAKH,EALGA,eACAW,EAIH,EAJGA,WACA4D,EAGH,EAHGA,OAaEkgB,EAAiC,CACnCrU,OAAQ1P,EACRyP,OAXc7G,aAAyC5I,EAAW,CAClEX,YACAK,UACAgD,gBACA+E,kBACAnI,iBACAW,aACA4D,WAKAyD,MAAOtH,IAAcoG,KAAcqB,EAAkB/E,GAEzDkgB,EACIoB,aAAW,CACPvR,MAAO,WACPnT,iBACAU,UAAW+jB,EACX/iB,cAAelB,EACfG,oBAMDwiB,EFtBoD,SAAAnP,GAC/D,MAA0BwD,mBAAS,CAACmN,SAAS,EAAOC,iBAAiB,IAArE,oBAAOnN,EAAP,KAAcC,EAAd,KAEI3Z,EASAiW,EATAjW,SACAmN,EAQA8I,EARA9I,OACA+V,EAOAjN,EAPAiN,iBACAsB,EAMAvO,EANAuO,eACA9e,EAKAuQ,EALAvQ,MACAod,EAIA7M,EAJA6M,cACArgB,EAGAwT,EAHAxT,MACA6H,EAEA2L,EAFA3L,YACAf,EACA0M,EADA1M,UAEJ,EASI0M,EAAMlU,KARNM,EADJ,EACIA,QACAgD,EAFJ,EAEIA,cACApD,EAHJ,EAGIA,eACAU,EAJJ,EAIIA,UACAX,EALJ,EAKIA,UACAoI,EANJ,EAMIA,gBACAxH,EAPJ,EAOIA,WACA4D,EARJ,EAQIA,OAIJsgB,qBAAU,WACF3Z,EAAOlM,SACPgV,EAAM8P,uBAAuB5Y,EAAO,GAAGlQ,GAAIgZ,EAAMlU,KAA0BkU,EAAMvQ,OACjFuQ,EAAMmQ,wBAAwBjZ,EAAO,GAAGlQ,GAAIgZ,EAAMlU,KAA0BkU,EAAMvQ,UAEvF,CAACyH,IAEJ,IAEI4Z,EAFEC,EAAoBthB,EAAM3G,MAAK,SAAAU,GAAG,OAAIA,aAAe0J,QACrD8P,EAAaS,EAAMkN,QDlGd,SAAS3Q,GACpB,IAAMgR,EAAY,IAAIC,IACfxhB,EAASuQ,EAATvQ,MACP,GAAIA,EAAMzE,OAEN,OADAgmB,EAAUjH,IAAI/F,GAAYlY,KAAM2D,GACzBuhB,EAL2C,qBAOnCvG,IAPmC,IAOtD,4BACIyG,EADsB,SACjBlR,EAAOgR,GARsC,8BAUtD,OAAOA,ECwF4BG,CAAcnR,GAAS,IAAIiR,IAU9D,OARIpE,GAAiB0B,EAEjBuC,EAAS,IAAIxjB,KAAO8jB,KAAGC,IAAI,IAAID,KAAGvE,GAAgB,IAAIuE,KAAG7C,KAClD1B,IAEPiE,EAAS,IAAIxjB,KAAO,IAIpB,eAAC,GAAD,CAAMtG,GAAI,OAAV,SACI,kCACI,gBAAC,GAAD,WACI,eAACsqB,GAAD,CAAKzJ,OAAO,aACZ,eAAC,GAAD,CACI1I,MAAM,iBACNC,SAAUpT,EACV0S,QAAS3U,EACTsV,SAAU,SAACI,GACPO,EAAMwP,4BAA4B/P,EAAOZ,OACzC6E,EAAS,CAACiN,SAAS,EAAMC,gBAAiBnN,EAAMmN,mBAEpD7iB,QAAS/B,EAAc,0BAAsBA,GAAmB,KAEpE,eAACgf,GAAD,UACI,eAAC,GAAD,CAAc7K,OAAQ6C,EAAYsE,MAAOtD,GAAY3Z,YAEzD,eAAC,GAAD,IACA,eAAC,GAAD,CACI8c,gBAAiB4J,EACjB/J,IAAK8J,EACLjS,MAAO,CAAClL,OAAQvE,EAAyBR,QAASxC,GAClDsH,cAAe8Y,GAAiBpgB,EAAmBkH,GACnDoL,QAASxH,EACTmI,SAAU,SAACkS,GACHA,EAAazK,aACb9G,EAAMyP,2BAA2B8B,EAAa5d,QAE9CqM,EAAM8P,uBACFyB,EAAa3iB,QACboR,EAAMlU,KACNkU,EAAMvQ,OAGdiU,EAAS,CAACiN,SAAS,EAAMC,gBAAiBnN,EAAMmN,mBAEpDzR,MAAM,MACN+H,eA7LL,cA6LqBxa,EAA2B4gB,GAAkB,KAC7Dvf,QAASiS,EAAMgM,gBACf/E,SAAU,eAAC,GAAD,CAAc9G,OAAQ6C,EAAYsE,MAAOtD,GAAY8I,iBAEnE,+BACI,eAAC,GAAD,CACInJ,QAAS,WACL3D,EAAMsQ,aACN5M,EAAS,CAACiN,QAASlN,EAAMkN,QAASC,gBAAiBnN,EAAMmN,uBAKrE,eAAC,GAAD,CACIzJ,gBAAiB4J,EACjB/J,IAAKiG,EACLpO,MAAO,CAAClL,OAAQQ,EAA2BvF,QAAS7C,GACpD2H,cAAe8Y,GAAiBzgB,EAAqBuH,GACrDoL,QAASxH,EACTmI,SAAU,SAAAkS,GACFA,EAAazK,aACb9G,EAAM4P,4BAA4B2B,EAAa5d,QAE/CqM,EAAMmQ,wBACFoB,EAAa3iB,QACboR,EAAMlU,KACNkU,EAAMvQ,OAGdiU,EAAS,CAACiN,SAAS,EAAMC,gBAAiBnN,EAAMmN,mBAEpDzR,MAAM,OACN+H,eA9NJ,aA8NoBxa,EAA4B4gB,GAAkB,KAC9Dvf,QACIkf,EAAgB,mBACEA,EAAiBtL,SAASrO,EAAUvH,GAAqB2H,gBACrE,GAEVuT,SAAU,eAAC,GAAD,CAAc9G,OAAQ6C,EAAYsE,MAAOtD,GAAYyI,sBAGvE,eAAC,GAAD,UACI,eAACY,GAAD,UACI,eAACF,GAAD,CAAQnmB,GAAG,SAAX,SACI,eAAComB,GAAD,UACI,eAAC,GAAD,CAASpmB,GAAG,UAAZ,SACI,eAAC,UAAD,CACIwqB,MAAI,EACJC,SAAO,EACPrK,SAAUpE,EAAWrD,KAAO,IAAMnT,EAClCmX,QAAS,kBACL3D,EAAMwQ,aAAaxQ,EAAMlU,KAA0BkU,EAAMxT,QALjE,gCAepB,eAAC,GAAD,CACI4W,QAAShX,IAAWL,GACpBmL,OAAQA,EACRiM,cAAe,SAACvU,GACZoR,EAAMqQ,qBAAqBzhB,IAE/BsU,eAAgB,SAAC3S,GACbyP,EAAMuP,sBAAsBhf,IAEhCyS,WAAYA,EACZC,aAAc,CACVvW,YACAC,aACA0H,cACA7H,QACA4C,gBACAhD,UACA+H,kBACApI,YACAwE,UAEJ4O,MAAO,oBACPkE,YAAa,2BACbT,SAAS,EACTrS,OAAQA,EACR+S,cAAepM,EACfqM,YAAa5W,EACb2G,UAAWA,Y,SGpSzBoe,GAAW,SAACjO,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUlG,KAAK8C,SACxD4e,GAAoB,SAAC/J,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUlG,KAAKE,gBAGjE2lB,GAAkB,SAAClO,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUqI,cAE1DqT,GAAW,SAACjK,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUxF,OACnDmhB,GAAgB,SAAClK,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUlG,KAAKa,YAC7D0J,GAAe,SAACoN,GAAD,OAAqBA,EAAMlQ,OAAOc,aACjDuZ,GAAsB,SAACnK,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUwX,kBAE9DqE,GAAe,SAACpK,GAAD,OAAqBA,EAAMlQ,OAAOD,WAE1Cwa,GAAYC,aACrB,CAACF,KACD,SAAAva,GACI,IAAM0a,EAAoB,GAS1B,OARA1a,GACIA,EAAU2a,SAAQ,SAAAza,GACd,IAAM0a,EAAc,CAChB1M,OAAQhO,EAAMgO,OACdxa,GAAIwM,EAAMxM,IAEdgnB,EAAa9jB,KAAKgkB,MAEnBF,KAIF4D,GAAmB7D,aAC5B,CAAC2D,GApBuB,SAACjO,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAU6f,eAoBhCrE,KAChC,SAAC5e,EAASkjB,EAAW9lB,GACjB,OAAK4C,GAEAkjB,EAAU9mB,OAEa8mB,EAAUhpB,MAClC,SAACipB,GAAD,OAA6BA,EAAMnjB,UAAYA,GAAWmjB,EAAMxnB,UAAYyB,KAL3D,QAiBhBgmB,IAL2BjE,aACpC,CAAC2D,GA3CkB,SAACjO,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUlG,KAAKiD,aA2CrCsH,KAC3B,SAAC7C,EAAOye,EAAY5b,OAGc0X,aAClC,CAAC2D,GAAU9D,GAAqBJ,KAChC,SAAC5e,EAASwf,EAAapiB,GACnB,IAAK4C,EAAS,OAAO,KACrB,IAAKwf,EAAYpjB,OAAQ,OAAO,KAChC,IAAM6d,EAAsBuF,EAAYtlB,MACpC,SAACulB,GAAD,OAAwBA,EAAIzf,UAAYA,GAAWyf,EAAIhkB,UAAY2B,KAEvE,OAAI6c,EACOA,EAAoB7S,QAExB,SAIFkc,GAAwBnE,aACjC,CAAC1X,GAAcuX,GAAqBJ,KACpC,SAAClS,EAAW8S,EAAapiB,GACrB,IAAKsP,EAAW,OAAO,KACvB,IAAMjH,GAAeiH,EAAU/N,WAC/B,IAAK6gB,EAAYpjB,OAAQ,OAAO,KAChC,IAAM6J,EAAmBuZ,EAAYtlB,MACjC,SAACulB,GAAD,OAAwBA,EAAIzf,UAAYyF,GAAega,EAAIhkB,UAAY2B,KAE3E,OAAI6I,EACOA,EAAiBmB,QAErB,QAIFmc,GAAkBpE,aAC3B,CAAC2D,GAAUC,GAAiBtb,KAC5B,SAAC7C,EAAO6G,EAAciB,GAClB,IAAK9H,EAAO,OAAO,KACnB,IAAK6G,EAAarP,OAAQ,OAAO,KACjC,IAAMyjB,EAAyBpU,EAAavR,MAAK,SAAC4lB,GAAD,OAA6BA,EAAS9f,UAAY4E,KACnG,OAAIib,EACOA,EAAuB9c,aAEvB6B,EAAMjG,aAAe+N,EAAU/N,WAC/B8M,EAAa,GAAGxF,sBADpB,KAMFud,GAAiBrE,aAC1B,CAAC2D,GAAUC,KACX,SAACne,EAAO6G,GACJ,IAAK7G,EAAO,OAAO,KACnB,IAAK6G,EAAarP,OAAQ,OAAO,KACjC,IAAMyjB,EAAyBpU,EAAavR,MAAK,SAAC4lB,GAAD,OAA6BA,EAAS9f,UAAY4E,KACnG,OAAIib,EACOA,EAAuB5Z,sBADlC,KAMF4J,GAAmB,SAACC,EAAkBC,GAAnB,OACrBD,GAAUA,EAAQ5V,MAAK,SAAA8V,GAAI,OAAIA,EAAK5X,KAAO2X,MAA+B,MAEjEiQ,GAAqBb,aAC9B,CA1GoB,SAACtK,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUT,cA0G1Cuc,GAAWzX,GAAcqb,GA5GzB,SAACjO,GAAD,OAAqBA,EAAMnY,GAAG0G,UAAUlG,KAAK2N,YA4GKoU,KACpE,SAACtc,EAAc2F,EAAQoE,EAAW9H,EAAOiG,EAAYnG,GACjD,GAAKmG,GAAelI,EAApB,CACA,IAAMwd,EAAOxd,EAAaoQ,SAASrO,EAAUE,GAAiBE,eAC9D,OAAOnC,EAAY,2BAEOkN,GAAiBvH,EAAQoE,GAAWkG,OAF3C,cAEuDuN,EAFvD,YAITtQ,GAAiBvH,EAAQ1D,GAAOgO,OAJvB,KAMb,OAGD6Q,GAAStE,aAClB,CAACL,GAAUrX,GAAcsX,GAAeE,KACxC,SAACrhB,EAAO8O,EAAW3O,EAAY2G,GAC3B,IAAIlG,EACEgV,EACF9O,EAAUtI,OAAS,GAAKsI,EAAU3G,GAAwB2G,EAAU3G,GAAsB6U,OAAS,OAMvG,OALIlG,GAAaA,IAAc3O,GAAcH,EACzCY,EAAG,UAAMZ,EAAMa,UAAUsU,SAASrO,EAAU3G,GAAY+G,eAArD,YAAuE0O,GACnE5V,GAASA,EAAMkB,gBACtBN,EAAG,UAAMZ,EAAMkB,cAAciU,SAASrO,EAAUgI,GAAqB5H,eAAlE,YAAoF0O,EAApF,MAEAhV,KAIF4hB,GAAkBjB,aAC3B,CAACL,GAAUI,GAAWH,GAAetX,GAAcwX,KACnD,SAACrhB,EAAO0K,EAAQvK,EAAY2O,EAAWhI,GACnC,IAAIlG,EACJ,OAAIuhB,OAAOhiB,KAAgBgiB,OAAOrT,IAAc9O,GAE5CY,EAAMZ,EAAMa,UAAUsU,SAASrO,EAAUgI,GAAqB5H,cAAepG,KAAOsU,UAE9E,sBAAN,OAA6BxU,EAA7B,YAAoCqR,GAAiBvH,EAAQvK,GAAY6U,SAClEhV,GAASA,EAAMkB,eACtBN,EAAMZ,EAAMkB,cAAciU,SAASrO,EAAU3G,GAAsB+G,cAAepG,KAAOsU,UACnF,sBAAN,OAA6BxU,EAA7B,YAEIqR,GAAiBvH,EAAQvK,GAAY6U,OAFzC,0BAGkBhV,EAAMa,UAAUsU,SAC9BrO,EAAUgI,GAAqB5H,cAC/BpG,KAAOsU,UALX,gBAFG,KCZAuN,gBA7FS,SAAC1L,GAAD,oBAAC,gBAClBA,EAAMnY,GAAG0G,WADQ,IAEpBqC,YAAaoP,EAAMlQ,OAAOc,YAC1BoC,QAASgN,EAAMlQ,OAAOkD,QACtBnD,UAAWmQ,EAAMlQ,OAAOD,UACxB4D,OAAQ4W,GAAUrK,GAClB0I,aAAcgG,GAAgB1O,GAC9BoF,oBAAqBmJ,GAAuBvO,GAC5CyF,mBAAoBgJ,GAAsBzO,GAC1C6O,YAAaF,GAAe3O,GAC5B1Z,SAAU0Z,EAAM1Y,UAAUhB,SAASlD,KAAI,SAACwD,GAAD,MAAyB,CAC5D+kB,MAAM,GAAD,OAAK/kB,EAAQrB,MAClB6V,MAAOxU,EAAQE,YAEnB6C,IAAKilB,GAAO5O,GACZuI,gBAAiB4C,GAAmBnL,GACpC4L,SAAUL,GAAgBvL,GAC1BzT,gBAAiB4hB,GAAiBnO,QAIX,SAAC6L,GAAD,MAAyB,CAChDiD,wBAAyB,SAAC5e,GACtB2b,EAASzgB,aAAgB8E,IACzB2b,EAASne,iBAEbqhB,uBAAwB,SAAC7e,GACrB2b,EAASpgB,aAAgByE,IACzB2b,EAASne,iBAEbqe,4BAA6B,SAACnlB,GAC1BilB,EAAS7gB,aAAsBpE,KAEnCooB,sBAAuB,SAAC/f,GACpB4c,EAAShhB,aAAmBoE,IAC5B4c,EAASnhB,aAAgBuE,IAAS8X,GAAgB+B,IAAM/S,KAAgBuB,QAG5EwU,sBAAuB,SAAChf,GACpB+e,EAASjf,aAAwBE,KAErCmiB,oBAAqB,SAACC,EAAD,EAA+DljB,GAAuB,EAAhEb,QAAgE,EAAvD6K,WAAwD,IAClGuW,EAvD4B,SAACvgB,EAAoBb,GAC3D,IAAIsgB,EAAgC,KASpC,OARAzf,EAAMwe,SAAQ,SAASzkB,GACfA,aAAe0J,MACY1J,EAAkBgK,MAAMxM,KACzB4H,IACtBsgB,EAAc1lB,MAInB0lB,EA6CmBD,CAAkCxf,EAAOkjB,GAC3D3C,GACAV,EAASnf,aAAqB6f,IAElCV,EAAS5gB,aAAqBikB,KAElCC,sBAAuB,SAACC,GACpBA,IAAcrI,GAAgB+B,IACxB+C,EAASnhB,aAAgBqL,OACzB8V,EAASnhB,aAAgB4M,QAEnCwV,YAAa,WACTjB,EAASnd,iBAEbqe,aAAc,WAYVhkB,GACE,IAXEE,EAWH,EAXGA,UACAV,EAUH,EAVGA,eACAW,EASH,EATGA,WACAoC,EAQH,EARGA,YACA0K,EAOH,EAPGA,WACA7K,EAMH,EANGA,QACAyF,EAKH,EALGA,YAMEgB,GADL,EAJG9E,OAIH,EAHGmC,KAIc4C,aAAyC5I,EAAW,CAClEkC,UACAyF,cACAoF,aACA1K,iBAEE0hB,EAAiC,CACnCrU,OAAQ1P,GAAa8M,KACrB2C,OAAQ9G,EACRrB,MAAOtH,IAAc8M,KAAgBzK,EAAc0K,GAEvD6V,EACIoB,aAAW,CACPvR,MAAO,YACPnT,iBACAU,UAAW+jB,EACX/iB,cAAelB,EACfG,WAAYA,SAMbwiB,EXwFuD,SAAAnP,GAClE,IACIjW,EAYAiW,EAZAjW,SACA8e,EAWA7I,EAXA6I,oBACAK,EAUAlJ,EAVAkJ,mBACAhS,EASA8I,EATA9I,OACAiV,EAQAnM,EARAmM,aACA9X,EAOA2L,EAPA3L,YACAie,EAMAtS,EANAsS,YACAtG,EAKAhM,EALAgM,gBACA5e,EAIA4S,EAJA5S,IACAZ,EAGAwT,EAHAxT,MACAwD,EAEAgQ,EAFAhQ,gBACAsD,EACA0M,EADA1M,UAGJ,EAAgG0M,EAAMlU,KAA/F8C,EAAP,EAAOA,QAASG,EAAhB,EAAgBA,YAAawB,EAA7B,EAA6BA,OAAQkJ,EAArC,EAAqCA,WAAY/M,EAAjD,EAAiDA,UAAWC,EAA5D,EAA4DA,WAAYX,EAAxE,EAAwEA,eAAgB0G,EAAxF,EAAwFA,KAGlFogB,EAAY,CACdnC,SAAS,EACTC,iBAAiB,EACjBrmB,QAAS,GACTgG,OAAQ,IACRwiB,mBAAoB,KACpBxY,gBAAiBiQ,GAAgB+B,IACjCyG,QAAQ,EACRC,QAAS,GAGb,EAA0BzP,mBAASsP,GAAnC,oBAAOrP,EAAP,KAAcC,EAAd,KACAmN,qBAAU,WACDne,IACDsN,EAAMyS,sBAAsBK,EAAUvY,iBACtCyF,EAAM4S,sBAAsBE,EAAUvY,oBAE3C,IAGHsW,qBAAU,WACF3Z,EAAOlM,QACPgV,EAAM0S,oBAAoBxb,EAAO,GAAGlQ,GAAIgZ,EAAMlU,KAA2BkU,EAAMvQ,SAEpF,CAACyH,IAEJ,IAAMvF,EAAesa,GAAWpD,EAAqBvV,EAAW1E,GAC1Did,EAAYN,GAAarU,EAAQtI,GACjC8c,EAAYQ,GAAwBC,EAAc7Y,EAAW1E,GAE7DgG,EAAcqX,GAAW/C,EAAoB5V,EAAWe,GAExD0X,EAAWR,GAAarU,EAAQ7C,GAChCsX,EAAWO,GAAwBoG,EAAahf,EAAWe,GAEjE,EAAoDrE,EAC9C,CAACA,EAAgB2B,aAAc3B,EAAgB6E,kBAC/C,CAAC,IAAIvH,KAAO,GAAI,IAAIA,KAAO,IAFjC,oBAAOse,EAAP,KAA6BE,EAA7B,KAIM9I,GACFS,EAAMkN,SAAY3kB,GAAmB+C,GAAgB0K,EAE/C,IAAIwX,ID1OH,SAASjR,GACpB,IAAMgR,EAAY,IAAIC,IACfxhB,EAASuQ,EAATvQ,MACP,GAAIA,EAAMzE,OAEN,OADAgmB,EAAUjH,IAAI/F,GAAYlY,KAAM2D,GACzBuhB,EAL4C,qBAOpCvG,IAPoC,IAOvD,4BACIyG,EADsB,SACjBlR,EAAOgR,GARuC,8BAUvD,OAAOA,EC+NGG,CAAcnR,GAGlBkT,EAAuB9G,GACzB3I,EAAMlJ,gBACNqR,EACAhd,EACAia,GAEEsK,EAAsB/G,GACxB3I,EAAMlJ,gBACNuR,EACAld,EACAsa,GAGJ,OACI,eAAC,GAAD,CAAMliB,GAAI,OAAV,SACI,kCACI,gBAAC,GAAD,WACI,eAACsqB,GAAD,CAAKzJ,OAAO,cACZ,eAAC,GAAD,CACI1I,MAAM,iBACNC,SAAUpT,EACV0S,QAAS3U,EACTsV,SAAU,SAACI,GACPO,EAAMwP,4BAA4B/P,EAAOZ,OACzC6E,EAAS,6BACFD,GADC,IAEJkN,SAAS,EACTC,gBAAiBnN,EAAMmN,oBAG/B7iB,QAAS/B,EAAc,0BAAsBA,GAAmB,KAEpE,eAACgf,GAAD,UACI,eAAC,GAAD,CAAc7K,OAAQ6C,EAAYsE,MAAOtD,GAAY3Z,YAEzD,eAACygB,GAAD,IACA,gBAACC,GAAD,WACI,eAACG,GAAD,CACIvH,QAAS,WAEL,IAAMpb,EACFkb,EAAMlJ,kBAAoBiQ,GAAgB8B,OACpC9B,GAAgB+B,IAChB/B,GAAgB8B,OAC1BtM,EAAM4S,sBAAsBrqB,GAC5Bmb,EAAS,6BACFD,GADC,IAEJlJ,gBAAiBhS,MAV7B,SAcI,eAAC+iB,GAAD,CAAU5S,KAAMkP,qBAEpB,eAACuD,GAAD,oBAAW1H,EAAMlJ,gBAAjB,mBAEJ,+BACKkJ,EAAMlJ,kBAAoBiQ,GAAgB+B,IACrCR,GACI,gBAACX,GAAD,uFAC8E,IACzES,GAAa,cAFlB,QAEsCE,EAFtC,oCAKJA,GACI,gBAACX,GAAD,8FACqF,IAChFS,GAAa,cAFlB,QAEsCE,EAFtC,sCAMd,gBAACf,GAAD,WACI,eAAC,GAAD,CACIhE,IACIvD,EAAMlJ,kBAAoBiQ,GAAgB8B,OACpCV,EACA/C,EAEV1B,cAAe+L,EACfrU,MAAO,CAAClL,OAAQ5E,EAAuBH,QAASA,GAChD8E,cAAe8Y,GAAiB5d,EAAmB0E,GACnDoL,QAASxH,EAAOvL,QAAO,SAAAynB,GAAC,OAAIA,EAAEpsB,KAAOqN,KACrCgL,SAAU,SAACkS,GACHA,EAAazK,aACb9G,EAAMuS,wBAAwBhB,EAAa5d,QAE3CqM,EAAM0S,oBACFnB,EAAa3iB,QACboR,EAAMlU,KACNkU,EAAMvQ,OAGdiU,EAAS,6BACFD,GADC,IAEJkN,SAAS,EACTqC,QAASzB,EAAazK,aACtB8J,gBAAiBnN,EAAMmN,oBAG/BzR,MAAM,GACN+H,eAAgB,KAChBnZ,QACI0V,EAAMlJ,kBAAoBiQ,GAAgB8B,OAA1C,wBACuBV,EAAqBjK,SAClC6K,GAAiB5d,EAAmB0E,KAF9C,mBAIkB3B,GAAgB,GAEtCsV,SAAU,eAAC,GAAD,CAAc9G,OAAQ6C,EAAYsE,MAAOtD,GAAYjV,gBAEnE,eAAC,GAAD,CACIiY,IACIvD,EAAMlJ,kBAAoBiQ,GAAgB8B,OACpCR,EACA5C,EAEV/B,cAAegM,EACftU,MAAO,CAAClL,OAAQ8F,EAAsB7K,QAASyF,GAC/CX,cAAe8Y,GAAiBnY,EAAaf,GAC7CoL,QAASxH,EAAOvL,QAAO,SAAAynB,GAAC,OAAIA,EAAEpsB,KAAOqN,KACrCgL,SAAU,SAAAkS,GACFA,EAAazK,eACb9G,EAAMwS,uBAAuBjB,EAAa5d,QAC1C+P,EAAS,6BACFD,GADC,IAEJkN,SAAS,EACTqC,QAAQ,EACRpC,gBAAiBnN,EAAMmN,qBAInCzR,MAAM,GACN+H,eAAgB,KAChBnZ,QACI0V,EAAMlJ,kBAAoBiQ,GAAgB8B,OAA1C,wBACuBR,EAAoBnK,SACjC6K,GAAiBnY,EAAaf,KAFxC,mBAIkBsB,GAAe,GAErCqS,SAAU,eAAC,GAAD,CAAc9G,OAAQ6C,EAAYsE,MAAOtD,GAAYvK,kBAGtEgS,GACGC,EACAC,EACAC,EAAqBjK,SAAS6K,GAAiB5d,EAAmB0E,IAClEuY,EACAC,EAAoBnK,SAAS6K,GAAiBnY,EAAaf,IAC3DyY,EACAC,EACA5e,MAGR,eAAC6d,GAAD,CAASjkB,GAAG,UAAZ,SACI,eAAC,UAAD,CACIwqB,MAAI,EACJC,SAAO,EACPrK,SAAUpE,EAAWrD,KAAO,IAAM3T,EAClC2X,QAAS,kBACL3D,EAAMwQ,aAAaxQ,EAAMlU,KAA2BkU,EAAMxT,MAAewT,EAAM1M,YALvF,SAQKmQ,EAAMlJ,oBAGf,eAAC,GAAD,CACI6I,QAASxU,IAAWyF,GACpB6C,OAAQA,EACRgM,eAAgB,SAAC3S,GACbyP,EAAMuP,sBAAsBhf,IAEhCyS,WAAYA,EACZC,aAAc,CACVvW,YACAC,WAAY0H,EACZA,cACA7H,QAEA4C,cAAeL,EACf3C,QAASiI,EACTF,gBAAiBsF,EACjB1N,UAAW6C,EACX2B,UAEJ4O,MAAO,oBACPkE,YAAa,2BACbT,SAAS,EACTrS,OAAQA,EACR+S,cAAepM,EACfqM,YAAa5W,EACb2G,UAAWA,Y,6BY/dzB+f,GAAUvU,UAAOnE,IAAV,4BAEP2Y,GAASxU,UAAOyU,GAAV,oDAINC,GAAc1U,kBAAO2U,SAAP3U,CAAH,0EAKX4U,GAAkB5U,UAAOnE,IAAV,oEAwBNgZ,GAZiB,SAAC,GAAD,IAAExU,EAAF,EAAEA,MAAOyU,EAAT,EAASA,KAAMC,EAAf,EAAeA,OAAQC,EAAvB,EAAuBA,OAAvB,OAC5B,gBAACN,GAAD,CAAaM,OAAQA,EAArB,UACI,gBAAC,aAAD,WACI,eAAC,GAAD,UAAS3U,IACT,eAACkU,GAAD,UAAUO,OAEd,eAAC,eAAD,UACI,eAACF,GAAD,UAAkBG,UCjBjBE,IAdejV,kBAAO0H,UAAP1H,CAAH,8RAcCA,kBAAO0H,UAAP1H,CAAH,gTAeVkV,GAAYlV,kBAAO0H,UAAP1H,CAAH,iUCxBhBwD,IDuCwBxD,kBAAO0H,UAAP1H,CAAH,kICvCTA,UAAOnE,IAAV,wGAMTsZ,GAAgB,SAACC,EAAmBC,EAAoB7b,GAC1D,OAAK4b,EAcOC,EAGA7b,EAKD,6FAHA,2GAHA,2HAdH,iHAEI,wBAFJ,SAGW,IACP,oBACI8b,KAAK,8GACLtQ,OAAO,SAFX,yBAoBVuQ,GAAkB,SACpBC,EACAC,EACA7X,EACA8X,GAEA,OACI,gBAAC,GAAD,YAC4B,IAAvBD,QAAgDppB,IAAhBqpB,EAA4B,KACzD,eAACT,GAAD,CACIpQ,QAAO,wBAAE,iCAAAyP,EAAA,6DACC9a,EAAWoE,EAAkBpE,SAD9B,SAGcA,EAASmc,QAAQD,GAH/B,cAIEld,EAAsBkd,EAAtBld,MAAOO,EAAe2c,EAAf3c,YACd6c,aAAaC,QAAb,UACOC,IAAYC,QADnB,YAC8Bvd,GAD9B,OACsCO,EADtC,2BAEI,QAEJyc,GAAc,GATT,2CADb,6BAgBJ,eAACP,GAAD,CACIpQ,QAAO,wBAAE,uBAAAyP,EAAA,sDACLkB,GAAc,GADT,2CADb,wBAkCGQ,GAfuB,SAAA9U,GAClC,IAAO+U,EAAsE/U,EAAtE+U,kBAAmBR,EAAmDvU,EAAnDuU,mBAAoB7X,EAA+BsD,EAA/BtD,kBAAmBpE,EAAY0H,EAAZ1H,SACjE,EAAsCkL,oBAAS,GAA/C,oBAAOwR,EAAP,KAAqBV,EAArB,KAEA,OACI,eAAC,GAAD,6BACQtU,GADR,IAEI8T,OAAQkB,EACR7V,MAAO,gCACPyU,KAAMK,GAAcc,EAAmBR,EAAoBjc,GAC3Dub,OAAQQ,GAAgBC,EAAeC,EAAoB7X,EAAmBpE,O,SCjF3E2c,GAN6B,SAAC,GAAD,IAAEC,EAAF,EAAEA,IAAKC,EAAP,EAAOA,KAAP,OACxC,eAACC,GAAD,CAAchB,KAAMc,EAAKpR,OAAO,OAAhC,SACKqR,KAMHC,GAAetW,UAAOsU,EAAV,+LCFZiC,GAAkB,SAAAC,GAAM,0DAAiDA,IAEzEC,GAA2C,SAAC,GAAD,IAAED,EAAF,EAAEA,OAAF,OAC7C,2NAE2E,wBAF3E,qBAGI,eAAC,GAAD,CAAcJ,IAAKG,GAAgBC,GAASH,KAAMG,QAcpDE,GAA8C,SAAC,GAS9C,IACCznB,EATJ0nB,EAQE,EARFA,QACAH,EAOE,EAPFA,OAEAI,GAKE,EANF3Y,OAME,EALF2Y,aACAC,EAIE,EAJFA,kBAIE,IAHFjpB,UAAY0P,EAGV,EAHUA,OAAQD,EAGlB,EAHkBA,OACpB7I,GAEE,EAH0BU,MAG1B,EAFFV,WACA3G,EACE,EADFA,WAGA,GAAIyP,IAAWvJ,MAAcuJ,IAAWtJ,KAAa,CACjD,MAA6DqJ,EAA7D,oBAAOpQ,EAAP,KAAkBK,EAAlB,KAA2B+H,EAA3B,KAA4C/E,EAA5C,KACMwmB,EAAuBtiB,EAAUlH,GAASsH,cAC1CmiB,EAAgBviB,EAAUlH,GAASoV,OACnCsU,EAAyBxiB,EAAUvH,GAAW2H,cAC9CqiB,EAAkBziB,EAAUvH,GAAWyV,OAEzCzT,EADA0nB,EACO,qCAAiCrmB,EAAcuS,SAASiU,GAAxD,YAAiFC,EAAjF,uCACG1hB,EAAgBwN,SAASmU,GAD5B,YACuDC,EADvD,KAGA,uCAAmC3mB,EAAcuS,SACpDiU,GADG,YAEFC,EAFE,uCAGG1hB,EAAgBwN,SAASmU,GAH5B,YAGuDC,EAHvD,qBAKR,GAAI3Z,IAAW5C,MAAiB4C,IAAWrB,KAAkB,CAChE,MAAwDoB,EAAxD,oBAAOvN,EAAP,KAAgByF,EAAhB,KAA6BoF,EAA7B,KAAyC1K,EAAzC,KACMkT,EAAyB3O,EAAUe,GAAaX,cAChDwO,EAAkB5O,EAAUe,GAAamN,OACzCwU,EAAqB1iB,EAAU1E,GAAS8E,cACxC0O,EAAc9O,EAAU1E,GAAS4S,OACjCyU,EAAQ7Z,IAAW5C,KAAgB,KAAO,OAChD,GAAIic,EAAS,CACT,IAAMltB,EAAS6T,IAAW5C,KAAgB,QAAU,WACpDzL,EAAO,2BAAuBxF,EAAvB,YAAiCwG,EAAY4S,SAASqU,GAAtD,YAA6E5T,EAA7E,qCACG3I,EAAWkI,SAASM,GADvB,YACkDC,EADlD,YACqE+T,EADrE,kBAEJ,CACH,IAAM1tB,EAAS6T,IAAW5C,KAAgB,MAAQ,WAClDzL,EAAO,8BAA0BxF,EAA1B,yBAAiDwG,EAAY4S,SAChEqU,GADG,YAEF5T,EAFE,qCAGG3I,EAAWkI,SAASM,GAHvB,YAGkDC,EAHlD,YAGqE+T,EAHrE,sBAOf,OAAIR,EAEI,iCACK1nB,EACD,wBAAO,IACN2nB,EAAW,kCACqBA,EAAY/T,SACnCrO,EAAU3G,GAAY+G,cACtBpG,KAAOsU,UAHL,UAKN,GACL+T,EAAiB,iBACFA,EAAkBhiB,OAAOgO,SAC/BrO,EAAU3G,GAAY+G,cACtBpG,KAAOsU,UAHC,aAINtO,EAAUqiB,EAAkB/mB,SAAS4S,QAC3C,GACN,wBAfJ,qBAgBI,eAAC,GAAD,CAAc0T,IAAKG,GAAgBC,GAASH,KAAMG,OAKtD,iCACKvnB,EADL,IAEI,wBAFJ,2CAII,eAAC,GAAD,CAAcmnB,IAAKG,GAAgBC,GAASH,KAAMG,QAsBrDY,GAAsC,SAAC,GAc7C,IAbHzmB,EAaE,EAbFA,MACA0mB,EAYE,EAZFA,MACAV,EAWE,EAXFA,QACA/oB,EAUE,EAVFA,UACA0pB,EASE,EATFA,eACAd,EAQE,EARFA,OACA/kB,EAOE,EAPFA,OACA8D,EAME,EANFA,YACA0I,EAKE,EALFA,OACAiE,EAIE,EAJFA,iBACA0U,EAGE,EAHFA,YACA/oB,EAEE,EAFFA,WACA2G,EACE,EADFA,UAEA,GAAkB,OAAd5G,QAAoCvB,IAAduB,EACtB,OAAO,KAEX,IACI0P,EAEA1P,EAFA0P,OADJ,eAGI1P,EADAyP,OAFJ,GAEapQ,EAFb,KAEwBK,EAFxB,KAEiC+H,EAFjC,KAEkD/E,EAFlD,KAKA,OAAQ+mB,GACJ,KAAK9Y,KAAOgZ,QACR,OAAO5mB,EACH,+BAAMA,EAAM1B,UAEZ,uCACI,mFACA,eAAC,GAAD,CACIhC,UAAWA,EACXK,QAASA,EACT+H,gBAAiBA,EACjB/E,cAAeA,EACfmB,OAAQA,EACR6L,OAAQA,EACR4E,iBAAkBA,EAClB1N,UAAWA,IAEf,eAAC,GAAD,CACI9G,MAAO4pB,EACP/hB,YAAaA,EACb1H,WAAYA,EACZ2G,UAAWA,OAI3B,KAAK+J,KAAOC,QACR,OAAO,eAAC,GAAD,CAAoBgY,OAAQA,IACvC,KAAKjY,KAAOI,UACR,OACI,eAAC,GAAD,CACIgY,QAASA,EACT1Y,OAAQA,EACR2Y,YAAaA,EACbJ,OAAQA,EACR5oB,UAAWA,EACX4G,UAAWA,EACX3G,WAAYA,IAGxB,QACI,OAAO,iC,qBCzLb2pB,GAAUxX,kBAAOyX,KAAPzX,CAAH,qGASP0X,IAJe1X,kBAAO4H,GAAP5H,CAAH,0DAI+D,SAAC,GAAgC,IAA/BrP,EAA8B,EAA9BA,MAAOgnB,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAC/F,EAA8BlT,oBAAS,GAAvC,oBAAOmT,EAAP,KAAgBC,EAAhB,KACA,OAAOnnB,EACH,eAACukB,GAAD,CAAWrQ,QAAS8S,EAApB,mBAEA,uCACI,eAAC/P,GAAD,CAAmB/C,QAAS8S,EAA5B,oBACCE,EACG,eAACL,GAAD,CAAS3W,KAAM,KAEf,eAACoU,GAAD,CACIpQ,QAAS,SAAAkT,GACLD,GAAW,GACXF,KAHR,wCAaVI,GAA8C,SAAC,GAAD,IAAEnT,EAAF,EAAEA,QAAF,OAAe,eAACoQ,GAAD,CAAYpQ,QAASA,EAArB,oBAE7DoT,GAA8D,SAAC,GAAD,IAAEtB,EAAF,EAAEA,QAAS9R,EAAX,EAAWA,QAAX,OAChE8R,EAAU,eAAC1B,GAAD,CAAYpQ,QAASA,EAArB,mBAAmD,eAACqQ,GAAD,CAAWrQ,QAASA,EAApB,oBAC3DqT,GAAUlY,UAAOnE,IAAV,gGAeAsc,GAA0C,SAAC,GAA4D,IAA3DxnB,EAA0D,EAA1DA,MAAO0mB,EAAmD,EAAnDA,MAAOV,EAA4C,EAA5CA,QAASgB,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,SAAUQ,EAAgB,EAAhBA,WACzFC,EAAmB,WACrBV,IACAS,KAGJ,OAAQf,GACJ,KAAK9Y,KAAOgZ,QACR,OACI,eAACW,GAAD,UACI,eAAC,GAAD,CAAkBvnB,MAAOA,EAAOgnB,QAASA,EAASC,SAAUA,MAGxE,KAAKrZ,KAAOC,QACR,OACI,eAAC0Z,GAAD,UACI,eAAC,GAAD,CAAsBrT,QAASwT,MAG3C,KAAK9Z,KAAOI,UACR,OACI,eAACuZ,GAAD,UACI,eAAC,GAAD,CAAoBrT,QAASwT,EAAkB1B,QAASA,MAGpE,QACI,OAAO,iCChFb2B,GAAsD,SAAC,GAAD,IAAE3nB,EAAF,EAAEA,MAAO0P,EAAT,EAASA,MAAT,OACxD1P,EAAQ,uEAAiD,4CAAc0P,MAErEkY,GAA8B,kBAAM,8DAEpCC,GAA4C,SAAC,GAAD,SAAE7B,QACtC,yDAAmC,uDAUpC8B,GAAwC,SAAC,GAA4C,IAA3C9nB,EAA0C,EAA1CA,MAAO0mB,EAAmC,EAAnCA,MAAOV,EAA4B,EAA5BA,QAAiBtW,GAAW,EAAnB/C,OAAmB,EAAX+C,OAClF,OAAQgX,GACJ,KAAK9Y,KAAOgZ,QACR,OAAO,eAAC,GAAD,CAAiB5mB,MAAOA,EAAO0P,MAAOA,IACjD,KAAK9B,KAAOC,QACR,OAAO,eAAC,GAAD,IACX,KAAKD,KAAOI,UACR,OAAO,eAAC,GAAD,CAAmBgY,QAASA,IACvC,QACI,OAAO,iCCfb+B,GAAsBzJ,cACxB,SAACtK,GAAD,OAAqBA,EAAMnY,GAAGmsB,SAAS1a,UACvC,SAAAA,GAAM,OAAIA,EAAOwN,WAAU,SAAAmN,GAAK,MAA2B,qBAAvBA,EAAMA,MAAMtb,WAAkC,KAoFvE+S,gBAjFS,SAAC1L,GAAD,MAAsB,CAC1CzX,eAAgByX,EAAMnY,GAAGmsB,SAASzrB,eAClCqI,YAAaoP,EAAMlQ,OAAOc,YAC1B8K,MAAOsE,EAAMnY,GAAGmsB,SAAStY,MACzB1P,MAAOgU,EAAMnY,GAAGmsB,SAAShoB,MACzB/C,UAAW+W,EAAMnY,GAAGmsB,SAAS/qB,UAC7B0P,OAAQqH,EAAMnY,GAAGmsB,SAAS/qB,UAAY+W,EAAMnY,GAAGmsB,SAAS/qB,UAAU0P,YAASjR,EAC3EirB,eAAgB3S,EAAMnY,GAAGmsB,SAASrB,eAClCD,MAAO1S,EAAMnY,GAAGmsB,SAAStB,MACzBpZ,OAAQ0G,EAAMnY,GAAGmsB,SAAS1a,OAC1BuY,OAAQ7R,EAAMnY,GAAGmsB,SAASnC,OAC1BI,YAAajS,EAAMnY,GAAGmsB,SAAS/B,YAC/B/oB,WAAY8W,EAAMnY,GAAGmsB,SAAS9qB,WAC9BqU,iBAAkByC,EAAMnY,GAAGmsB,SAASzW,iBACpCnV,SAAU4X,EAAMnY,GAAGO,SAASC,KAC5BmhB,iBAAkBxJ,EAAMnY,GAAGmsB,SAASxK,iBACpCjb,UAAWyR,EAAMnY,GAAG0G,UAAUlG,KAC9BwH,UAAWmQ,EAAMlQ,OAAOD,UACxBmiB,QAAS+B,GAAoB/T,OAGN,SAAC6L,GAAD,MAAyB,CAChDqI,YAAa,WACTrI,EAASsI,iBAEbC,qBAAsB,YAAqE,IAAnEnrB,EAAkE,EAAlEA,UAAWV,EAAuD,EAAvDA,eAAgBW,EAAuC,EAAvCA,WAAYe,EAA2B,EAA3BA,cAAe6C,EAAY,EAAZA,OAC1E+e,EACIwI,aAAyB,CACrBprB,YACAV,iBACAW,aACAe,gBACA6C,aAKZwnB,iBAAkB,YAWX,IAVHrrB,EAUE,EAVFA,UACAV,EASE,EATFA,eACAW,EAQE,EARFA,WACAe,EAOE,EAPFA,cACAsT,EAME,EANFA,iBACAjV,EAKE,EALFA,UACAK,EAIE,EAJFA,QACA+H,EAGE,EAHFA,gBACA8Y,EAEE,EAFFA,iBACA1c,EACE,EADFA,OAEA+e,EACI0I,aAAkB,CACdtrB,YACAV,iBACAW,aACAe,gBACAsT,mBACAjV,YACAK,UACAmE,SACA4D,kBACA8Y,uBAKZgL,sBAAuB,YAAqE,IAAnEvrB,EAAkE,EAAlEA,UAAWV,EAAuD,EAAvDA,eAAgBW,EAAuC,EAAvCA,WAAYe,EAA2B,EAA3BA,cAAe6C,EAAY,EAAZA,OAC3E+e,EACI4I,aAAuB,CACnBxrB,YACAV,iBACAW,aACA4D,SACA7C,oBAIZyqB,eAAgB,WACZ7I,EAAS/Q,oBAIF4Q,EC3E4B,SAAC,GAwBtC,EAvBFnjB,eAuBG,IAtBH0pB,EAsBE,EAtBFA,YACA/oB,EAqBE,EArBFA,WACAD,EAoBE,EApBFA,UACA+C,EAmBE,EAnBFA,MACA2mB,EAkBE,EAlBFA,eACAD,EAiBE,EAjBFA,MACAhX,EAgBE,EAhBFA,MACA/C,EAeE,EAfFA,OACAqZ,EAcE,EAdFA,QAEAphB,GAYE,EAbF9D,OAaE,EAZF8D,aACAihB,EAWE,EAXFA,OACAvY,EAUE,EAVFA,OAEAlR,GAQE,EATFohB,iBASE,EARFphB,UACAmG,EAOE,EAPFA,UACAsB,EAME,EANFA,UACAqkB,EAKE,EALFA,YACAE,EAIE,EAJFA,qBAEAI,GAEE,EAHFF,iBAGE,EAFFE,uBACAE,EACE,EADFA,eAEA,OAAOhC,EACH,eAAC,GAAD,CACIrC,QAAQ,EACR3U,MAAO,eAAC,GAAD,CAAeA,MAAOA,EAAO1P,MAAOA,EAAO0mB,MAAOA,EAAO/Z,OAAQA,EAAQqZ,QAASA,IACzF7B,KACI,eAAC,GAAD,CACIuC,MAAOA,EACPzpB,UAAWA,EACX2H,YAAaA,EACb5E,MAAOA,EACPgmB,QAASA,EACTzU,sBAAkB7V,EAClBoF,OAAkB,aAAV4O,EAAuBtT,EAAS0E,OAASyB,EAAUzB,OAC3D6lB,eAAgBA,EAChBd,OAAQA,EACR3oB,WAAYA,EACZ+oB,YAAaA,EACb3Y,OAAQA,EACRzJ,UAAWA,IAGnBugB,OACI,eAAC,GAAD,CACIsC,MAAOA,EACP1mB,MAAOA,EACPgmB,QAASA,EACTgB,QAASkB,EACTjB,SAAU,WACQ,aAAVvX,EACA0Y,EAAqB,6BACdhsB,GADa,IAEhBa,YAEAgB,cAAe0oB,EAAe1oB,iBAEjB,cAAVyR,GACP8Y,EAAsB,6BACfjmB,GADc,IAEjBtF,YACAgB,cAAe,SAI3BwpB,WAAYiB,MAKxB,kCCzFO7E,GANA,kBACX,eAAC8E,GAAD,UACI,4CAMFA,GAAYtZ,UAAOnE,IAAV,sPCET0Y,GAAUvU,UAAOnE,IAAV,+TAkEEwU,gBAAQ,SAAC1L,GAAD,MAAiB,CACpC8Q,mBAAoB9Q,EAAM1Y,UAAUwpB,mBACpCQ,kBAAmBtR,EAAM1Y,UAAUgqB,kBACnCrY,kBAAmB+G,EAAM1Y,UAAU2R,kBACnCpE,SAAUmL,EAAMlQ,OAAO+E,YAJZ6W,EA3CiB,SAAC,GAA0E,IAAzE4F,EAAwE,EAAxEA,kBAAmBR,EAAqD,EAArDA,mBAAoB7X,EAAiC,EAAjCA,kBAAmBpE,EAAc,EAAdA,SACpF+f,EAA6B,KACjC,GAA4B,qBAAjB3D,aAA8B,CACrC,IAAMpd,EAAQgB,EAAWA,EAAShB,MAAQ,GACpCO,EAAcS,EAAWA,EAAST,YAAc,GACtDwgB,EAAc3D,aAAa4D,QAAb,UAAwB1D,IAAYC,QAApC,YAA+Cvd,GAA/C,OAAuDO,EAAvD,4BAGlB,OACI,gBAAC,IAAM0gB,SAAP,WACI,eAAC,GAAD,IACA,gBAAC,GAAD,CAASvxB,GAAG,UAAZ,UACI,eAAC,GAAD,IAEiB,OAAhBqxB,IAA+C,IAAvB9D,IAAsD,IAAtBQ,EACrD,eAAC,GAAD,CACIR,mBAAoBA,EACpBQ,kBAAmBA,EACnBrY,kBAAmBA,EACnBpE,SAAUA,IAEd,KACJ,eAAC,IAAMkgB,SAAP,CAAgBC,SAAU,6CAA1B,SAEI,eAAC,IAAD,UACI,gBAAC,KAAD,WACI,eAAC,KAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACI,eAAC,GAAD,MAEJ,eAAC,KAAD,CAAOA,KAAK,YAAZ,SACI,eAAC,GAAD,MAEJ,eAAC,KAAD,CAAOA,KAAK,aAAZ,SACI,eAAC,GAAD,sB,gHCnE1BC,GAAe7wB,QACf8wB,GAAuB9wB,QAEvB+wB,GAAa,GAEnBF,GAAarxB,OAAO0mB,SAAQ,SAAAlW,GACxB+gB,GAAM5uB,KAAK0uB,GAAa7gB,GAAKghB,YAGjCF,GAAqBtxB,OAAO0mB,SAAQ,SAAAlW,GAChC+gB,GAAM5uB,KAAN,MAAA4uB,GAAK,aAASD,GAAqB9gB,GAAKghB,aAG5C,ICXIC,GDYWC,GADE7tB,KAAY,WAAZ,EAAgB0tB,IET3BI,GAAQ,IAAIC,KAAgBL,I,mBDAV,qBAAbM,WACPJ,GAAUK,gBAGCL,I,YAAAA,M,sCEaFM,GAA+B,CACxCvE,mBAAmB,EACnBR,oBAAoB,EACpBgF,4BAA4B,EAC5BxvB,SAAU,GAEV0F,MAAO,KAEPiN,uBAAmBvR,GAGRquB,iBAAa,sBAEnB7vB,KAAiBC,iBAAmB6vB,cAAQ,SAACC,EAAuBnxB,GACjEmxB,EAAM3E,kBAAoBxsB,EAAO0K,QAAQihB,SACzCwF,EAAMhd,kBAAoBnU,EAAO0K,QAAQ0mB,8BAJzB,gBAMnBhwB,KAAiBiwB,kBAAoBH,cAAQ,SAACC,EAAuBnxB,GAClEmxB,EAAMnF,mBAAqBhsB,EAAO0K,YAPlB,gBASnBtJ,KAAiBkB,gBAAkB4uB,cAAQ,SAACC,EAAuBnxB,GAChEmxB,EAAM3vB,SAAWxB,EAAO0K,YAVR,gBAYnBtJ,KAAiB6F,UAAYiqB,cAAQ,SAACC,EAAuBnxB,GAC1DmxB,EAAMjqB,MAAQlH,EAAO0K,YAbL,gBAenBtJ,KAAiBkwB,0BAA4BJ,cAC1C,SAACC,EAAuBnxB,GACpBmxB,EAAMhd,kBAAoBnU,EAAO0K,YAjBrB,IAqBxBqmB,I,QCvBWE,iBAAa,mBAAC,GAEpBhxB,KAAcsxB,kBAAoBL,cAAQ,SAACC,EAAoBnxB,GAC5DmxB,EAAMrlB,YAAc9L,EAAO0K,YAHX,aAAC,GAKpBzK,KAAcuxB,wBAA0BN,cAAQ,SAACC,EAAoBnxB,GAClEmxB,EAAMjjB,QAAUlO,EAAO0K,YANP,aAAC,GAQpBzK,KAAcwxB,cAAgBP,cAAQ,SAACC,EAAoBnxB,GACxDmxB,EAAM9jB,eAAiBrN,EAAO0K,YATd,aAAC,GAWpBzK,KAAcyxB,gBAAkBR,cAAQ,SAACC,EAAoBnxB,GAC1DmxB,EAAMphB,SAAW/P,EAAO0K,YAZR,aAAC,GAcpBzK,KAAc0xB,kBAAoBT,cAAQ,SAACC,EAAoBnxB,GAC5D,IAAMylB,EAAe,IAAI/D,MACP1hB,EAAO0K,QACfgb,SAAQ,SAAAza,GACd,IAAMxM,EAAKwM,EAAM,GACXgO,EAAS2Y,uBAAY3mB,EAAM,GAAGgO,QAC9B9N,EAAgBF,EAAM,GAAGE,cAC/Bsa,EAAahnB,GAAM,CAAC0M,gBAAe8N,SAAQxa,SAE/C0yB,EAAMpmB,UAAY0a,MAvBF,IAJa,CACrC1a,UAAW,KC3BA8mB,KAAf,ECkCad,GAA8B,CAEvCxtB,KAAM,CAACyE,OAA0B,qBAAXzI,OAAyBuyB,oIAAYC,WAAa,KACxEjgB,aAAc,GACdmP,iBAAkB,GAClB/Z,MAAO,IAGI+pB,iBAAa,sBAEnBe,KAAgB9uB,wBAA0BguB,cACvC,SAACC,EAAsBnxB,GACnBmxB,EAAM5tB,KAAKE,eAAiBzD,EAAO0K,YAJvB,gBAOnBsnB,KAAgB/uB,2BAA6BiuB,cAC1C,SAACC,EAAsBnxB,GACnBmxB,EAAM5tB,KAAKC,UAAYxD,EAAO0K,YATlB,gBAYnBsnB,KAAgBpuB,yBAA2BstB,cACxC,SAACC,EAAsBnxB,GACnBmxB,EAAM5tB,KAAKM,QAAU7D,EAAO0K,YAdhB,gBAiBnBsnB,KAAgB/nB,sBAAwBinB,cAAQ,SAACC,EAAsBnxB,GACpEmxB,EAAM5tB,KAAKqI,gBAAkB5L,EAAO0K,YAlBpB,gBAoBnBsnB,KAAgB9nB,oBAAsBgnB,cAAQ,SAACC,EAAsBnxB,GAClEmxB,EAAM5tB,KAAKsD,cAAgB7G,EAAO0K,YArBlB,gBAuBnBsnB,KAAgB/kB,yBAA2BikB,cACxC,SAACC,EAAsBnxB,GACnBmxB,EAAM5tB,KAAKqI,gBAAkB5L,EAAO0K,YAzBxB,gBA4BnBsnB,KAAgB9kB,uBAAyBgkB,cAAQ,SAACC,EAAsBnxB,GACrEmxB,EAAM5tB,KAAKsD,cAAgB7G,EAAO0K,YA7BlB,gBA+BnBsnB,KAAgB7pB,uBAAyB+oB,cACtC,SAACC,EAAsBnxB,GACnBmxB,EAAMltB,MAAQjE,EAAO0K,YAjCT,gBAoCnBsnB,KAAgBjpB,qBAAuBmoB,cAAQ,SAACC,EAAsBnxB,GACnEmxB,EAAMnoB,aAAehJ,EAAO0K,YArCZ,gBAuCnBsnB,KAAgBzsB,YAAc2rB,cAAQ,SAACC,GACpCA,EAAM5tB,KAAKqI,qBAAkBhJ,EAC7BuuB,EAAM5tB,KAAKsD,mBAAgBjE,EAC3BuuB,EAAM5tB,KAAKY,eAAYvB,EACvBuuB,EAAM5tB,KAAKC,eAAYZ,EACvBuuB,EAAM5tB,KAAKM,aAAUjB,EACrBuuB,EAAM5tB,KAAKE,oBAAiBb,EAE5BuuB,EAAM5tB,KAAKyE,OAA2B,qBAAXzI,OAAyBuyB,oIAAYC,WAAa,IAC7EZ,EAAMlQ,iBAAmB,GACzBkQ,EAAMjqB,MAAQ,OAjDE,gBAmDnB8qB,KAAgB7uB,WAAa+tB,cAAQ,SAACC,GACnC,IAAMc,EAAiBd,EAAM5tB,KAAKC,UAClC2tB,EAAM5tB,KAAKC,UAAY2tB,EAAM5tB,KAAKM,QAClCstB,EAAM5tB,KAAKM,QAAUouB,EACQ,aAAzBd,EAAM5tB,KAAKY,WACXgtB,EAAM5tB,KAAKqI,gBAAkBulB,EAAM5tB,KAAKsD,cACxCsqB,EAAM5tB,KAAKsD,mBAAgBjE,EAC3BuuB,EAAM5tB,KAAKY,UAAY,cAEvBgtB,EAAM5tB,KAAKsD,cAAgBsqB,EAAM5tB,KAAKqI,gBACtCulB,EAAM5tB,KAAKqI,qBAAkBhJ,EAC7BuuB,EAAM5tB,KAAKY,UAAY,gBA9DX,gBAiEnB6tB,KAAgBlsB,iBAAmBorB,cAAQ,SAACC,EAAsBnxB,GAC/DmxB,EAAM5tB,KAAKY,UAAYnE,EAAO0K,YAlEd,gBAoEnBsnB,KAAgBE,6BAA+BhB,cAC5C,SAACC,EAAsBnxB,GACnB,IAAMmyB,EAAQhB,EAAMrf,aAAakQ,WAC7B,SAACmE,GAAD,OAA6BA,EAAS9f,UAAYrG,EAAO0K,QAAQrE,YAEtD,IAAX8rB,EACAhB,EAAMrf,aAAanQ,KAAK3B,EAAO0K,SAE/BymB,EAAMrf,aAAaqgB,GAASnyB,EAAO0K,YA5E3B,gBAgFnBsnB,KAAgB7oB,0BAA4B+nB,cACzC,SAACC,EAAsBnxB,GACnB,IAAMmyB,EAAQhB,EAAMlQ,iBAAiBe,WACjC,SAACoQ,GAAD,OACIA,EAAU/rB,UAAYrG,EAAO0K,QAAQrE,SAAW+rB,EAAUtwB,UAAY9B,EAAO0K,QAAQ5I,YAE9E,IAAXqwB,GACAhB,EAAMlQ,iBAAiBtf,KAAK3B,EAAO0K,SAEvCymB,EAAMlQ,iBAAiBkR,GAASnyB,EAAO0K,YAzF3B,gBA4FnBsnB,KAAgBjuB,8BAAgCmtB,cAC7C,SAACC,EAAsBnxB,GACnBmxB,EAAMjtB,gBAAkBlE,EAAO0K,YA9FnB,gBAiGnBsnB,KAAgB9pB,iBAAmBgpB,cAAQ,SAACC,EAAsBnxB,GAC/DmxB,EAAM5tB,KAAKa,WAAapE,EAAO0K,YAlGf,gBAoGnBsnB,KAAgB/qB,UAAYiqB,cAAQ,SAACC,EAAsBnxB,GACxDmxB,EAAMjqB,MAAMvF,KAAK3B,EAAO0K,aArGR,gBAuGnBsnB,KAAgBnqB,aAAeqpB,cAAQ,SAACC,EAAsBnxB,GAC3D,IAAMqyB,EAAelB,EAAMjqB,MAAM9D,QAAO,SAAAnC,GAAG,OAAIA,EAAIuE,UAAYxF,EAAO0K,QAAQlF,WAC9E2rB,EAAMjqB,MAAQmrB,MAzGE,gBA2GnBL,KAAgB5qB,YAAc8pB,cAAQ,SAACC,EAAsBnxB,GAC1DmxB,EAAMjqB,MAAQ,OA5GE,gBA8GnB8qB,KAAgBjqB,0BAA4BmpB,cACzC,SAACC,EAAsBnxB,GACnBmxB,EAAM5tB,KAAKyE,OAAShI,EAAO0K,YAhHf,IAoHxBqmB,ICrHSA,GAA+B,CACxCxtB,KAAM,CAEFyE,OAA0B,qBAAXzI,OAAyBuyB,oIAAYC,WAAa,KAErEjgB,aAAc,GACdmP,iBAAkB,GAClBqI,cAAe,GACfpiB,MAAO,IAGI+pB,iBAAa,sBAEnBtrB,KAAiBgE,6BAA+BunB,cAC7C,SAACC,EAAuBnxB,GACpBmxB,EAAMtb,oBAAsB7V,EAAO0K,YAJvB,gBAOnB/E,KAAiB6D,uBAAyB0nB,cACvC,SAACC,EAAuBnxB,GACpBmxB,EAAMzf,eAAiB1R,EAAO0K,YATlB,gBAYnB/E,KAAiBK,eAAiBkrB,cAAQ,SAACC,EAAuBnxB,GAC/DmxB,EAAM5tB,KAAK4G,KAAOnK,EAAO0K,YAbT,gBAenB/E,KAAiBzC,wBAA0BguB,cACxC,SAACC,EAAuBnxB,GACpBmxB,EAAM5tB,KAAKE,eAAiBzD,EAAO0K,YAjBvB,gBAoBnB/E,KAAiB0B,8BAAgC6pB,cAC9C,SAACC,EAAuBnxB,GACpB,IAAMmyB,EAAQhB,EAAMrf,aAAakQ,WAC7B,SAACmE,GAAD,OAA6BA,EAAS9f,UAAYrG,EAAO0K,QAAQrE,YAEtD,IAAX8rB,EACAhB,EAAMrf,aAAanQ,KAAK3B,EAAO0K,SAE/BymB,EAAMrf,aAAaqgB,GAASnyB,EAAO0K,YA5B3B,gBAgCnB/E,KAAiB6B,uBAAyB0pB,cACvC,SAACC,EAAuBnxB,GACpB,IAAMmyB,EAAQhB,EAAMrf,aAAakQ,WAE7B,SAACsQ,GAAD,OACIA,EAAcjsB,UAAYrG,EAAO0K,QAAQrE,SACzCisB,EAActwB,UAAYhC,EAAO0K,QAAQ1I,YAElC,IAAXmwB,EAEAhB,EAAM7H,cAAc3nB,KAAK3B,EAAO0K,SAGhCymB,EAAM7H,cAAc6I,GAASnyB,EAAO0K,YA7C5B,gBAiDnB/E,KAAiBwD,0BAA4B+nB,cAC1C,SAACC,EAAuBnxB,GACpB,IAAMmyB,EAAQhB,EAAMlQ,iBAAiBe,WACjC,SAACuQ,GAAD,OACIA,EAAQlsB,UAAYrG,EAAO0K,QAAQrE,SAAWksB,EAAQzwB,UAAY9B,EAAO0K,QAAQ5I,YAE1E,IAAXqwB,EACAhB,EAAMlQ,iBAAiBtf,KAAK3B,EAAO0K,SAEnCymB,EAAMlQ,iBAAiBkR,GAASnyB,EAAO0K,YA1D/B,gBA+DnB/E,KAAiBS,uBAAyB8qB,cACvC,SAACC,EAAuBnxB,GACpBmxB,EAAM5tB,KAAK8C,QAAUrG,EAAO0K,YAjEhB,gBAoEnB/E,KAAiBY,kBAAoB2qB,cAAQ,SAACC,EAAuBnxB,GAClEmxB,EAAM5tB,KAAKiD,YAAcxG,EAAO0K,YArEhB,gBAuEnB/E,KAAiBe,qBAAuBwqB,cAAQ,SAACC,EAAuBnxB,GACrEmxB,EAAM5tB,KAAKiD,YAAcxG,EAAO0K,YAxEhB,gBA0EnB/E,KAAiBiB,kBAAoBsqB,cAAQ,SAACC,EAAuBnxB,GAClEmxB,EAAM5tB,KAAK2N,WAAalR,EAAO0K,YA3Ef,gBA6EnB/E,KAAiBoB,qBAAuBmqB,cAAQ,SAACC,EAAuBnxB,GACrEmxB,EAAM5tB,KAAK2N,WAAalR,EAAO0K,YA9Ef,gBAiFnB/E,KAAiBsB,UAAYiqB,cAAQ,SAACC,EAAuBnxB,GAC1DmxB,EAAMjqB,MAAMvF,KAAK3B,EAAO0K,aAlFR,gBAoFnB/E,KAAiBkC,aAAeqpB,cAAQ,SAACC,EAAuBnxB,GAC7D,IAAMmyB,EAAQhB,EAAMjqB,MAAM8a,WAAU,SAAC/gB,GAAD,OAAoBA,EAAIuE,UAAYxF,EAAO0K,QAAQlF,WACnF2sB,GAAS,GACThB,EAAMjqB,MAAMsrB,OAAOL,EAAO,OAvFd,gBA0FnBxsB,KAAiByB,YAAc8pB,cAAQ,SAACC,EAAuBnxB,GAC5DmxB,EAAMjqB,MAAQ,OA3FE,gBA6FnBvB,KAAiBuC,iBAAmBgpB,cAAQ,SAACC,EAAuBnxB,GACjEmxB,EAAM5tB,KAAKa,WAAapE,EAAO0K,YA9Ff,gBAgGnB/E,KAAiBG,iBAAmBorB,cAAQ,SAACC,EAAuBnxB,GACjEmxB,EAAM5tB,KAAKY,UAAYnE,EAAO0K,QAC9BymB,EAAM5tB,KAAKiD,iBAAc5D,EACzBuuB,EAAM5tB,KAAK8C,aAAUzD,EACrBuuB,EAAM5tB,KAAK2N,gBAAatO,MApGR,gBAsGnB+C,KAAiBoC,0BAA4BmpB,cAC1C,SAACC,EAAuBnxB,GACpBmxB,EAAM5tB,KAAKyE,OAAShI,EAAO0K,YAxGf,gBA2GnB/E,KAAiBwC,uBAAyB+oB,cACvC,SAACC,EAAuBnxB,GACpBmxB,EAAMltB,MAAQjE,EAAO0K,YA7GT,gBAgHnB/E,KAAiB5B,8BAAgCmtB,cAC9C,SAACC,EAAuBnxB,GACpBmxB,EAAMjtB,gBAAkBlE,EAAO0K,YAlHnB,gBAqHnB/E,KAAiBoD,qBAAuBmoB,cAAQ,SAACC,EAAuBnxB,GACrEmxB,EAAMnoB,aAAehJ,EAAO0K,YAtHZ,gBAwHnB/E,KAAiBkE,gBAAkBqnB,cAAQ,SAACC,GACzCA,EAAM5tB,KAAKY,eAAYvB,EACvBuuB,EAAM5tB,KAAKiD,iBAAc5D,EACzBuuB,EAAM5tB,KAAK8C,aAAUzD,EACrBuuB,EAAM5tB,KAAK2N,gBAAatO,EACxBuuB,EAAM5tB,KAAKE,oBAAiBb,EAE5BuuB,EAAM5tB,KAAKyE,OAA2B,qBAAXzI,OAAyBuyB,oIAAYC,WAAa,IAC7EZ,EAAMjtB,qBAAkBtB,EACxBuuB,EAAMltB,WAAQrB,EACduuB,EAAMjqB,MAAQ,GACdiqB,EAAMlQ,iBAAmB,GACzBkQ,EAAM7H,cAAgB,OApIN,gBAsInB3jB,KAAiBoE,uBAAyBmnB,cACvC,SAACC,EAAuBnxB,GACpBmxB,EAAM5tB,KAAKuI,YAAc9L,EAAO0K,YAxIpB,IA4IxBqmB,IC7LW0B,gBAAgB,CAC3BnvB,YACAmG,aACAylB,gBCGAwD,GAAqB,KACD,qBAAb7B,WACP6B,GAASC,aAAclC,KAGZgC,oBAAgB,CAC3BC,OAAQA,GACRE,SAAUA,GACVpwB,UAAWA,GACXwI,OAAQA,GACRjI,QCVJ8vB,6BACA,IAAMC,GAAgC,qBAAXvzB,OAAyBwzB,SAAMC,OAAO,CAACC,SAAUnB,oIAAYoB,WAAanyB,KAE/FoyB,GAAiBC,aAA0D,CAC7EC,aAAc,CAAClxB,KAAM2wB,MAGnBzvB,GAAQiwB,aACVC,GACAC,KAAO,WAAP,GACIC,aAAgBN,KADpB,oBCnB0B,WAC1B,GAAsB,qBAAX5zB,QAA8C,SAApBuyB,oIAAY4B,IAAgB,CAC7D,IAAMC,EAAoBp0B,OAAOq0B,8BAAgCr0B,OAAOq0B,+BACxE,GAAiC,oBAAtBD,EACP,MAAO,CAACA,GAIhB,MAAO,GDaAE,OAIXV,GAAeW,KRnBuB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAClCpD,GAAM7wB,KACFK,cAAU,SAAC6zB,GACP,OAAOA,EAAI,WAAJ,EAAQD,MAEnB/yB,cAAW,SAACC,GACR,OAAOJ,aAAGozB,aAAehzB,WQcrCoC,GAAM0jB,SAAS,CAAC5c,KAAM+pB,KAAQj0B,cAAcC,WAE7BmD,I,GAAAA,M,oBE1BF8wB,GAAK,UACLC,GAAM,UACNC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAQ,UAGRC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAEPC,GAAeC,gBAAK,GAAI,GAAI,IAAK,IACjCC,GAAiBnC,GAEjBzM,GAAU2O,gBAAK,GAAI,GAAI,IAAK,IAC5BE,GAAYL,GACZxK,GAAUkJ,GACV4B,GAAUrC,GACVsC,GAAS/C,GACTgD,GAAO7D,GACP8D,GAAU1D,GACV2D,GAASP,gBAAK,IAAK,IAAK,IAAK,IAC7BQ,GAAchE,GACdzH,GAAOuH,GACPmE,GAAYT,gBAAK,IAAK,IAAK,IAAK,IAChCU,GAAYjE,GACZkE,GAAO1B,GACP2B,GAAY1B,GC3DV2B,GA1BD,WAAqD,IAApDC,EAAmD,uDAArC,CAAC,OAAQ,OAAQ,OAAQ,QAC5CC,EAAQ,CACVC,KAAMF,EAAY,GAClBG,OAAQH,EAAY,GACpBI,KAAMJ,EAAY,GAClBK,OAAQL,EAAY,GACpBM,KAAMN,EAAY,GAClBO,OAAQP,EAAY,GACpBQ,KAAMR,EAAY,GAClBS,OAAQT,EAAY,IAGlBU,EAAS,CAAC,OAAQ,OAAQ,OAAQ,QAExC,OAAOp6B,OAAOD,KAAK45B,GAAOnpB,QAAO,SAAC6pB,EAAazS,GAC3C,IAAM0S,EAAUX,EAAM/R,GAOtB,OALAyS,EAAYzS,GAAS,kBAAa2S,cAAZ,QAAD,4FACFH,EAAO1X,SAASkF,GAAS,MAAQ,MAAgB0S,EAClEC,MAAG,WAAH,eAGKF,IACR,K,qBCvBMG,GAAmB,SAACC,EAAgBC,GAC7C,IAAMliB,EAAQmiB,KACV,CACIviB,MAAO,CACHwiB,WAAY,IAEhBC,SAAU,GACVC,WAAY,IAEhBL,GAGJ,OAAOE,KAAa,GAAID,EAAkBliB,GAAQA,EAAMsiB,WAAYtiB,EAAMJ,MAAMwiB,WAAWpiB,EAAMqiB,YCqHtFE,GAnIc,SAAAC,GAAM,MAAK,ICKlC5iB,GAAQ,CACV6iB,aAAc,MACdD,OAAO,gBAAKA,GACZE,MAAM,gBAAKA,GACXC,WAAY,OACZC,SAAU,OACVC,WAAY,OACZC,WAAW,8KAWXC,OAAQ,CACJC,QAAS,GACTC,MAAO,GACPC,KAAM,EACNC,OAAQ,GAEZf,WAAYA,GAAWI,IAOZ5iB,IAJDwjB,KAICxjB,ICjCF8c,GAAK,UACLC,GAAM,UACNC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAQ,UAGRC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAEPC,GAAeC,gBAAK,GAAI,GAAI,IAAK,IACjCC,GAAiBnC,GAEjBzM,GAAU2O,gBAAK,GAAI,GAAI,IAAK,IAC5BE,GAAYL,GACZxK,GAAUkJ,GACV4B,GAAUrC,GACVsC,GAAS/C,GACTgD,GAAO7D,GACP8D,GAAU1D,GACV2D,GAASP,gBAAK,IAAK,IAAK,IAAK,IAC7BQ,GAAchE,GACdzH,GAAOuH,GACPmE,GAAYT,gBAAK,IAAK,IAAK,IAAK,IAChCU,GAAYjE,GACZkE,GAAO1B,GACP2B,GAAY1B,GCsFViD,GA1Kc,SAAAC,GAAM,MAAK,ICIlCA,GAASa,KAAiBC,EAAeC,GAEzCC,GAAc,CAChBC,eAAgB,mDAChBC,0BAA2B,2EAC3BlB,UACAJ,WAAYuB,GAAkBnB,KAG5B5iB,GAAQyjB,KAAiBO,GAAcJ,ICbhC9G,IDeC0G,GAAaxjB,GAAMshB,aCff,WACLvE,GAAM,UACNC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAQ,UAGRC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAEPC,GAAe,UACfE,GAAiB,UAEjB5O,GAAU0O,GACVG,GAAYD,GACZ5K,GAAUkJ,GACV4B,GAAUrC,GACVsC,GAAS/C,GACTgD,GAAOvD,GACPwD,GAAU1D,GACV2D,GAASP,gBAAK,GAAI,GAAI,IAAK,IAC3BQ,GAAcR,gBAAK,GAAI,GAAI,IAAK,IAChCjL,GAAO+H,GACP2D,GAAY7D,GACZ8D,GAAYjE,GACZkE,GAAO1B,GACP2B,GAAY1B,GCkHViD,GAvMc,SAAAC,GAAM,MAAK,CAIpCqB,WAAY,CACRC,WAAYtB,EAAO9F,GACnBqH,aAAcvB,EAAOxF,KACrBgH,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1BwH,mBAAoB1B,EAAO/Q,SAE/B0S,iBAAkB,CACdL,WAAYtB,EAAO9F,IAEvB0H,UAAW,CACPN,WAAYtB,EAAO9F,GACnB2H,UAAW,QAEfC,yBAA0B,CACtBP,aAAcvB,EAAO3B,UACrBmD,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1B6H,wBAAyBC,mBAAQ,GAAKhC,EAAO/Q,SAC7CyS,mBAAoB1B,EAAO/Q,SAE/BgT,oBAAqB,CACjBV,aAAcvB,EAAO3B,UACrBmD,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1BwH,mBAAoB1B,EAAO/Q,SAE/BiT,UAAW,CACPZ,WAAYtB,EAAO9F,IAOvBiI,iBAAkB,CACdC,YAAapC,EAAO1F,KAEpB+H,iBAAkB,MAClBC,UAAWtC,EAAO3B,WAiDtBtgB,MAAO,CACHqkB,YAAapC,EAAO7B,OACpBmD,WAAYtB,EAAO9F,IAmCvB1d,OAAQ,CACJ4lB,YAAa,UACbG,gBAAiB,UACjBjB,WAAY,UACZkB,eAAgB,cAChBC,gBAAiB,UACjBC,cAAe,WA0BnBC,MAAO,CACHC,iBAAkB5C,EAAO9F,GACzB2I,qBAAsB,yBACtBC,sBAAuB9C,EAAO9F,IAyBlC6I,QAAS,CACLzB,WAAYtB,EAAO7F,KAEvBlJ,MAAO,CACH+R,gBAAiB,UACjBjtB,MAAO,UACPktB,qBAAqB,uBC/LvBjD,GAASa,KAAiBC,EAAeC,GAEzCC,GAAc,CAChBC,eAAgBjB,GAAO7F,IACvB6F,UACAJ,WAAYuB,GAAkBnB,KAG5B5iB,GAAQyjB,KAAiBO,GAAcJ,IAK9B5jB,IAHDwjB,GAAaxjB,GAAMshB,aAGlBthB,IChBF8c,GAAK,UACLC,GAAM,UACNC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAQ,UAGRC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAGPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UACPC,GAAO,UAEPC,GAAeP,GACfS,GAAiBnC,GAEjBzM,GAAUmO,GACVU,GAAYL,GACZxK,GAAUkJ,GACV4B,GAAUrC,GACVsC,GAAS/C,GACTgD,GAAOvD,GACPwD,GAAU1D,GACV2D,GAASP,gBAAK,GAAI,GAAI,IAAK,IAC3BQ,GAAcR,gBAAK,GAAI,GAAI,IAAK,IAChCjL,GAAO+H,GACP2D,GAAY7D,GACZ8D,GAAYjE,GACZkE,GAAO1B,GACP2B,GAAY1B,GC6GViD,GAlMc,SAAAC,GAAM,MAAK,CAIpCqB,WAAY,CACRC,WAAYtB,EAAO9F,GACnBqH,aAAcvB,EAAOxF,KACrBgH,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1BwH,mBAAoB1B,EAAO/Q,SAE/B0S,iBAAkB,CACdL,WAAYtB,EAAO9F,IAEvB0H,UAAW,CACPN,WAAYtB,EAAO9F,GACnB2H,UAAW,QAEfC,yBAA0B,CACtBP,aAAcvB,EAAO3B,UACrBmD,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1B6H,wBAAyBC,mBAAQ,GAAKhC,EAAO/Q,SAC7CyS,mBAAoB1B,EAAO/Q,SAE/BgT,oBAAqB,CACjBV,aAAcvB,EAAO3B,UACrBmD,uBAAwBxB,EAAO/Q,QAC/BwS,kBAAmBzB,EAAO9F,GAC1BwH,mBAAoB1B,EAAO/Q,SAE/BiT,UAAW,CACPZ,WAAYtB,EAAO9F,IAOvBiI,iBAAkB,CACdC,YAAapC,EAAO1F,KACpB4I,iBAAkBlD,EAAO/Q,QACzBoT,iBAAkB,MAClBC,UAAWtC,EAAO3B,UAClB8E,eAAgBnD,EAAO/Q,SA+C3BlR,MAAO,CACHqkB,YAAapC,EAAO7B,OACpBmD,WAAYtB,EAAO9F,IAkCvB1d,OAAQ,CACJ4lB,YAAapC,EAAO1F,KACpBiI,gBAAiBvC,EAAO1F,KACxBgH,WAAYtB,EAAO9F,GACnBsI,eAAgBxC,EAAO9F,GACvBuI,gBAAiBzC,EAAOrC,aACxB+E,cAAe1C,EAAOrN,MAyB1BgQ,MAAO,CACHC,iBAAkB5C,EAAO9F,GACzB2I,qBAAsB,yBACtBC,sBAAuB9C,EAAO9F,IAyBlC6I,QAAS,CACLzB,WAAYtB,EAAO7F,KAEvBlJ,MAAO,CACHqQ,WAAYtB,EAAO7F,OC1LrB6F,GAASa,KAAiBC,EAAeC,GAEzCC,GAAc,CAChBC,eAAgBjB,GAAO7F,IACvB6F,UACAJ,WAAYuB,GAAkBnB,KAG5B5iB,GAAQyjB,KAAiBO,GAAcJ,ICF9B5jB,IDIDwjB,GAAaxjB,GAAMshB,aCPc0E,ICUhCC,GAVC,kBACZ,eAAC,IAAD,CAAUj6B,MAAOA,GAAjB,SACI,eAAC,gBAAD,CAAegU,MAAOA,GAAtB,SACI,eAAC,IAAD,CAAkBhU,MAAOA,GAAzB,SACI,eAAC,GAAD,WC8BhBk6B,IAAS/gB,OACL,eAAC,IAAMghB,WAAP,UACI,eAAC,GAAD,MAEJ3M,SAAS4M,eAAe,U,4HC/Cb,GACX,CACIh9B,KAAM,UACN1B,KAAM,MAEV,CACI0B,KAAM,qBACN1B,KAAM,MAEV,CACI0B,KAAM,2BACN1B,KAAM,WAEV,CACI0B,KAAM,2BACN1B,KAAM,YCHC2+B,EAPM,CACjBC,G,OACAC,G,OACAC,O,OACAC,O,kCCTSC,EAAb,WAII,WAAY16B,EAAOwM,GAAS,yBAH5BxM,WAG2B,OAF3BwM,YAE2B,EACvBmuB,KAAK36B,MAAQA,EAET26B,KAAKnuB,OADLA,EACA,UAAiBA,EAAjB,KAEc,GAT1B,kDAaI,SAAeL,GACX,MAAM,GAAN,OAAUwuB,KAAKnuB,QAAf,OAAwBL,KAdhC,qBAiBI,SAAQA,GACJ,OAAOwuB,KAAK36B,MAAQ26B,KAAK36B,MAAM0sB,QAAQiO,KAAKC,eAAezuB,IAAQ,OAlB3E,qBAqBI,SAAQA,EAAK8G,GACT,OAAO0nB,KAAK36B,MAAQ26B,KAAK36B,MAAM+oB,QAAQ4R,KAAKC,eAAezuB,GAAM8G,GAAS,OAtBlF,wBAyBI,SAAW9G,GACPwuB,KAAK36B,MAAM66B,WAAWF,KAAKC,eAAezuB,MA1BlD,0BA6BI,WAEI,IADA,IAAMxQ,EAAY,GACTikB,EAAI,EAAGkb,EAAMH,KAAK36B,MAAMZ,OAAQwgB,EAAIkb,EAAKlb,GAAK,EAAG,CACtD,IAAMzT,EAAMwuB,KAAK36B,MAAMmM,IAAIyT,GACvBzT,EAAI4uB,WAAWJ,KAAKnuB,SACpB7Q,EAAK2C,KAAK6N,GAGlB,OAAOxQ,IArCf,mBAwCI,WACI,GAAoB,KAAhBg/B,KAAKnuB,OAAT,CADI,oBAKcmuB,KAAKK,gBALnB,IAKJ,2BAAuC,CAAC,IAA7B7uB,EAA4B,QACnCwuB,KAAK36B,MAAM66B,WAAW1uB,IANtB,oCAEAwuB,KAAK36B,MAAMi7B,YA1CvB,KAoDIC,EAAqC,KAGzC,IAE0B,qBAAXh/B,SACPg/B,EAAgB,IAAIR,EAAQx+B,OAAO4sB,aAFxB,MAGO,IAAI4R,EAAQx+B,OAAOi/B,eAH1B,OAKjB,UAEK,IAAMrS,EAAeoS,E,OCrDxBE,EAAkB,KACtB,IAC0B,qBAAXl/B,SACPk/B,EAAkBl/B,OAAOm/B,UAAUC,UAEzC,UAEF,IAkBMC,EAAa,SAACC,EAASC,EAAWC,GACpC,IAAMC,EAAkBH,GAAUA,EAAQ9O,QAAQ,gBAAoCgP,EAChFE,EAAenE,KAAO,SAACoE,GAAD,OAAeF,EAAgBlhB,cAAc6D,SAASud,EAAKngC,QAAlE+7B,CAAyEgE,GAC9F,OAAOG,EAAenE,IAAUmE,EAAcnE,IAAU,CAACmE,GAAXnE,CAA0BgE,IAAcA,GAGpFK,EAAkB,SAAAzB,GAAY,OAEhCz+B,OAAOmgC,QAAQ1B,GAAcp/B,KAAI,mCAAES,EAAF,KAAQsgC,EAAR,YAAwBC,YAA0BD,EAAOtgC,OAE/EwgC,UA5BE,SAAA3/B,GAAO,OACpBA,EAAQE,KACJC,YAAOm0B,IAAQj0B,cAAcC,UAC7B6L,aAAS,kBACLlL,IAAE,WAAF,GACI2+B,YAAW,CACPV,UAAWF,EAAWzS,EAAcsT,EAAoBhB,GACxDtoB,QAAS,CACLupB,sBAAsB,EACtBC,qBAAsB,gBAAEC,EAAF,EAAEA,cAAF,iBAAyBA,EAAzB,UALlC,mBASOT,EAAgBzB,Y,gCC9BnC,ozBAKY1L,EALZ,S,SAKYA,K,2DAAAA,E,iEAAAA,E,6DAAAA,E,uDAAAA,E,mDAAAA,E,6DAAAA,E,yDAAAA,E,+DAAAA,E,yDAAAA,E,2DAAAA,E,uDAAAA,E,qDAAAA,E,mCAAAA,E,iCAAAA,E,6CAAAA,E,qEAAAA,E,6CAAAA,E,+DAAAA,E,+DAAAA,E,uEAAAA,E,+BAAAA,E,mCAAAA,E,qCAAAA,E,uDAAAA,E,yDAAAA,M,KA4BL,IAAM9rB,EAAwBL,YACjCmsB,EAAgB9uB,yBAChB,SAACpB,GAAD,OAAqBA,KAGZ+lB,EAA0BhiB,YACnCmsB,EAAgB/uB,4BAChB,SAACO,GAAD,OAAuBA,KAGdmkB,EAAwB9hB,YACjCmsB,EAAgBpuB,0BAChB,SAACC,GAAD,OAAqBA,KAGZyjB,EAAqBzhB,YAC9BmsB,EAAgB/nB,uBAChB,SAAC2B,GAAD,OAA6BA,KAGpBub,EAAmBthB,YAC5BmsB,EAAgB9nB,qBAChB,SAACrD,GAAD,OAA2BA,KAGlBuD,EAAwBvE,YACjCmsB,EAAgB/kB,0BAChB,SAACrB,GAAD,OAA6BA,KAGpBvB,EAAsBxE,YAC/BmsB,EAAgB9kB,wBAChB,SAACrG,GAAD,OAA2BA,KAGlBoB,EAAiBpC,YAAamsB,EAAgB9pB,kBAAkB,SAAC7B,GAAD,OAAqBA,KAErF4C,EAAyBpD,YAClCmsB,EAAgB7oB,2BAChB,SAACC,GAAD,OAAiCA,KAGxB/D,EAAuBQ,YAAamsB,EAAgB7pB,wBAAwB,SAACtD,GAAD,OAAeA,KAE3F+D,EAAwB/C,YAAamsB,EAAgBnpB,yBAErDnF,EAAsBmC,YAAamsB,EAAgB5kB,uBAAuB,SAAC/G,EAAS5C,GAC7F,MAAO,CACH4C,UACA5C,qBAIK6E,EAAsBzC,YAAamsB,EAAgBzpB,uBAEnDO,EAAqBjD,YAC9BmsB,EAAgBjpB,sBAChB,SAACC,GAAD,OAA0BA,KAGjBgN,EAAanQ,YAAamsB,EAAgBzsB,aAE1CiiB,EAAY3hB,YAAamsB,EAAgB7uB,YAIzCyC,GAF0BC,YAAamsB,EAAgB6N,4BAErCh6B,YAAamsB,EAAgBlsB,kBAAkB,SAAC3B,GAAD,OAAuBA,MAExFgD,EAAoBtB,YAC7BmsB,EAAgBE,8BAChB,SAAC5qB,GAAD,OAAgCA,KAGvBc,EAAuBvC,YAChCmsB,EAAgBjuB,+BAChB,SAACsE,GAAD,OAAsBA,KAGbP,EAA0BjC,YACnCmsB,EAAgBjqB,2BAChB,SAACC,GAAD,OAAoBA,KAGXtC,EAAmBG,YAAamsB,EAAgB/qB,WAAW,SAACC,GAAD,OAAsBA,KAEjFwgB,EAAsB7hB,YAAamsB,EAAgBnqB,cAAc,SAAC5G,GAAD,OAAoBA,KAErFmmB,EAAavhB,YAAamsB,EAAgB5qB,aA+CxC4qB,O,yGClJR,SAASttB,EACZF,EACAf,EACAW,EACAJ,GAIA,OAAOA,EAAIiI,OAAO6zB,KAAKC,YAAY,CAAC57B,UAAWK,EAAIw7B,eAAgB57B,EAAY67B,WAF5D,sBAEyEngC,KACxFK,aAAU,SAAA+/B,GACN,OAAOr/B,YAAG,CAACq/B,EAA+BA,U,ijBC1BhCC,EAAtB,kDAKI,WAAsBC,EAAaC,GAAoB,IAAD,uBAClD,cAAMD,IALD3/B,UAI6C,IAHtD6/B,YAGsD,IAFtDC,eAEsD,EAElD,EAAKD,OAASD,EAEd,IAAMG,GAAc,2CAAWC,UAJmB,OAM9CxhC,OAAOyhC,eACPzhC,OAAOyhC,eAAPzhC,OAAA,IAAAA,CAAA,GAA4BuhC,GAE5B,EAAKD,UAAYC,EAT6B,EAL1D,sBAAwC1hC,QA0B3B2G,EAAb,kDAEI,WAAY26B,GAAM,IAAD,8BACb,cAAMA,IAFV3/B,KAAe,8BACE,EAFrB,UAAiD0/B,GAOpC3sB,EAAb,kDAEI,WAAY4sB,GAAM,IAAD,8BACb,cAAMA,IAFV3/B,KAAe,kBACE,EAFrB,UAAqC0/B,GAcxBx1B,EAAb,kDAGI,WAAYM,GAAe,IAAD,8BACtB,4CAA6BA,EAAMgO,OAAnC,gBAHJxY,KAAe,YAEW,EAD1BwK,WAC0B,EAEtB,EAAKA,MAAQA,EAFS,EAH9B,UAA+Bk1B,GA+BlB3b,EAAb,kDAGI,WAAYvZ,EAAczL,EAAiBmhC,GAAkB,IAAD,8BACxD,kDACiC11B,EAAMgO,OADvC,sBAC2DzZ,EAAQ4Z,SAAS,GAD5E,sBAC4FunB,EAAQvnB,SAC5F,MALZ3Y,KAAe,uBAE6C,EAD5DwK,WAC4D,EAMxD,EAAKA,MAAQA,EAN2C,EAHhE,UAA0Ck1B,GAa7B3f,EAAb,kDAGI,WAAYvV,EAAczL,GAAmB,IAAD,8BACxC,cACIA,EAAO,yCACiCA,EAAQ4Z,SAASnO,EAAME,cAAepG,IAAOsU,UAD9E,YAEGpO,EAAMgO,QAFT,yBAJfxY,KAAe,uBAE6B,EAD5CwK,WAC4C,EAQxC,EAAKA,MAAQA,EAR2B,EAHhD,UAA0Ck1B,GAe7B5e,EAAb,kDAGI,WAAYqf,EAAiBphC,EAAiBmhC,GAAkB,IAAD,8BAC3D,mCACkBC,EAAS3nB,OAD3B,mEAC4FzZ,GACpFA,EAAQ4Z,SAASwnB,EAASz1B,cAAepG,IAAOsU,aAL5D5Y,KAAe,6BAEgD,EAD/DmgC,cAC+D,EAK3D,EAAKA,SAAWA,EAL2C,EAHnE,UAAgDT,GAYnCzf,EAAb,kDAGI,WAAYzV,EAAczL,EAAkBmhC,GAAmB,IAAD,8BAC1D,cACInhC,EAAO,qBACayL,EAAMgO,OADnB,mCACoDzZ,EAAQ4Z,SACzDnO,EAAME,cACNpG,IAAOsU,UAHV,wBAKgBsnB,EAAQvnB,SAASnO,EAAME,gBALvC,qBAMaF,EAAMgO,OANnB,mBAJfxY,KAAe,2BAE+C,EAD9DwK,WAC8D,EAU1D,EAAKA,MAAQA,EAV6C,EAHlE,UAA8Ck1B,GAiBjCjgB,EAAb,kDAEI,WAAYjH,GAAiB,IAAD,8BACxB,qCAAsBA,EAAtB,aAFJxY,KAAe,0BACa,EAFhC,UAA6C0/B,GAchC/f,EAAb,kDAEI,WAAYnH,GAAiB,IAAD,8BACxB,qCAAsBA,EAAtB,aAFJxY,KAAe,wBACa,EAFhC,UAA2C0/B,GAO9Bhc,EAAb,kDAEI,aAAe,IAAD,8BACV,cAAM,2BAFV1jB,KAAe,uBACD,EAFlB,UAA0C0/B,GAO7B1b,EAAb,kDAEI,aAAe,IAAD,8BACV,cAAM,2BAFVhkB,KAAe,qBACD,EAFlB,UAAwC0/B,GAO3BhgB,EAAb,kDAEI,aAAe,IAAD,8BACV,cAAM,6BAFV1f,KAAe,qBACD,EAFlB,UAAwC0/B,GAO3B9b,EAAb,kDAGI,WAAYtF,GAAqB,IAAD,8BAC5B,cAAM,gBAHVte,KAAe,gBAEiB,EADhCse,WACgC,EAE5B,EAAKA,MAAQA,EAFe,EAHpC,UAAmCohB,GA2BtB5tB,EAAb,kDAEI,aAAe,IAAD,8BACV,cAAM,uDAFV9R,KAAe,qBACD,EAFlB,UAAwC0/B,I,gCCtMxC,0KAAO,IAAM51B,EAAc,WACdD,EAAa,YACb2G,EAAgB,eAChBuB,EAAmB,kBAIzB,SAASzF,EACZ5I,EACAyP,GAOA,OAAQzP,GACJ,KAAK8M,EAOL,KAAKuB,EACD,MAAO,CACFoB,EAA6BvN,QAC7BuN,EAA6B9H,YAC7B8H,EAA6B1C,WAC7B0C,EAA6BpN,aAEtC,KAAK+D,EAQL,KAAKD,EACD,MAAO,CACFsJ,EAA4BpQ,UAC5BoQ,EAA4B/P,QAC5B+P,EAA4BhI,gBAE5BgI,EAA4B/M,eAErC,QACI,MAAO,M,gCCzDnB,wVAOYg6B,EAPZ,iB,SAOYA,K,oCAAAA,E,sCAAAA,E,6CAAAA,E,0CAAAA,E,sDAAAA,E,6CAAAA,E,kEAAAA,E,4DAAAA,E,sEAAAA,E,wDAAAA,E,gCAAAA,E,qCAAAA,M,KA8CL,IAAM1Y,EAAatiB,YACtBg7B,EAAgBC,aAChB,kBASmB,CACflqB,MAVJ,EACIA,MAUAnT,eAXJ,EAEIA,eAUAU,UAZJ,EAGIA,UAUAgB,cAbJ,EAIIA,cAUAf,WAdJ,EAKIA,WAUAqU,iBAfJ,EAMIA,iBAUAjV,UAhBJ,EAOIA,UAUAkhB,iBAjBJ,EAQIA,qBAeK6K,GAFkB1pB,YAAag7B,EAAgBE,sBAAsB,SAACl8B,GAAD,OAAiBA,KAE3DgB,YACpCg7B,EAAgBltB,4BAChB,kBAAqE,CACjExP,UADJ,EAAEA,UAEEV,eAFJ,EAAaA,eAGTW,WAHJ,EAA6BA,WAIzBe,cAJJ,EAAyCA,cAKrC6C,OALJ,EAAwDA,YAQ/CynB,EAAoB5pB,YAC7Bg7B,EAAgBG,yBAChB,kBAWmB,CACf78B,UAZJ,EACIA,UAYAV,eAbJ,EAEIA,eAYAW,WAdJ,EAGIA,WAYAe,cAfJ,EAIIA,cAYAsT,iBAhBJ,EAKIA,iBAYAjV,UAjBJ,EAMIA,UAYAK,QAlBJ,EAOIA,QAYA+H,gBAnBJ,EAQIA,gBAYA8Y,iBApBJ,EASIA,iBAYA1c,OArBJ,EAUIA,WAeK2nB,EAAyB9pB,YAClCg7B,EAAgBvrB,8BAChB,YACI,MAAO,CACHnR,UAF6E,EAAnFA,UAGMV,eAH6E,EAAxEA,eAILW,WAJ6E,EAAxDA,WAKrBe,cAL6E,EAA5CA,cAMjC6C,OAN6E,EAA7BA,WAW/C6M,EAAchP,YAAag7B,EAAgB9qB,cAAc,SAAC6X,GAAD,OAAmBA,KAE5EyB,EAAcxpB,YAAag7B,EAAgBI,cAE3CtsB,EAAe9O,YAAag7B,EAAgBK,gBAAgB,SAACnU,GAAD,OAAoBA,KAEhF9X,EAAiBpP,YAAag7B,EAAgBM,kBAAkB,SAAC3sB,GAAD,OAA2BA,KAO3FW,GALmBtP,YAC5Bg7B,EAAgBO,uBAChB,SAAC/4B,GAAD,OAAsDA,KAG5BxC,YAAag7B,EAAgB55B,WAAW,SAAChG,GAAD,OAAoBA,MAE1D4E,YAAamsB,IAAgB5qB,aAwB9Cy5B,O,qZCvJR,SAASlzB,EAA2B3J,EAAKP,EAAgBgK,EAAYpH,GACxE,OAAOrC,EAAIsJ,MAAMC,aAAa8zB,MAAM59B,GAAgB3D,KAChDK,aACI,SAACmhC,GACG,IACI/O,EADEgP,EAAUD,EAAYE,UAE5B,GAAID,EAAQ9+B,OAAS,EAAG,CACpB,IAAMg/B,EAAWF,EAAQhhC,MAAK,SAAAmhC,GAAI,OAAIA,EAAKjjC,GAAGuG,aAAe28B,sBAAY,eACnEn0B,EAAci0B,EAAYh0B,EAAgBm0B,IAAIH,EAASr2B,QAAU,IAAIrG,IAAO,GAClFwtB,EAAU,IAAIxtB,IAAOyI,EAAYxI,iBAEjCutB,EAAU,IAAIxtB,IAAQ0I,EAAgBzI,YAE1C,IAAM4I,EAAkB,CAACvH,UAASvE,QAAS2B,EAAgBgK,QAAS8kB,GACpE,OAAO1xB,aAAG+M,OAMnB,IAAMi0B,EAA6B,SACtCjiC,EACAC,EAFsC,OAGrCsC,EAHqC,EAGrCA,KAHqC,OAKtCC,wBAAc,CAACD,EAAMvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUrJ,+BAA+B7H,KACvFyC,YAAe1C,GACfuD,aAAO,wCAAuB4H,OAAOqC,kBAErCtB,aACI,YAQgC,IAAD,yCANvB/H,EAMuB,YAJnB0G,QAAUrE,EAIS,EAJTA,QAAS5C,EAIA,EAJAA,eAKpB4J,EADoB,KACIrC,OAAxBqC,eACP,OAAOrJ,EAAIsJ,MAAMC,aAAaC,YAAYnH,EAAS5C,GAAgB3D,KAE/DK,aAAU,SAACsN,GAEP,GAAIpH,IAAYgH,EAAeK,WAC3B,OAAOC,EAAwB3J,EAAKP,EAAgBgK,EAASpH,GAASvG,KAClEK,aAAU,SAACyN,GACP,OAAO/M,aAAGoI,YAAuB2E,QAI7C,IAAMA,EAAkB,CACpBvH,UACAvE,QAAS2B,EACTgK,QAAS,IAAI1I,IAAO0I,EAAQzI,aAEhC,OAAOnE,aAAGoI,YAAuB2E,OAErCtI,YAAU1F,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAUnH,yBAMxDi4B,EAAyC,SAClDliC,EACAC,EAFkD,OAGjDsC,EAHiD,EAGjDA,KAHiD,OAKlDC,wBAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU9I,iBAAkB7F,IAAMU,GAAGiO,UAAU9N,4BAC7EpD,KACCyC,YAAe1C,GAEfuD,aAAO,gBAAIC,EAAJ,2BAAeA,EAAMN,GAAG0G,UAAUlG,KAAKa,cAAgBf,EAAMN,GAAG0G,UAAUlG,KAAKE,kBACtFtD,aACI,YAAyC,IACrC,EADoC,oBACO4C,GAAG0G,UAAUlG,KAAjDa,EAAP,EAAOA,WAAYX,EAAnB,EAAmBA,eACnB,OAAO5C,aAAG6G,YAAwBtD,EAAYX,SAKjDs+B,EAAmC,SAC5CniC,EACAC,EAF4C,OAG3CsC,EAH2C,EAG3CA,KAH2C,OAK5CC,wBAAc,CACVD,EACAvC,EAAQE,KAAKC,YAAOsC,IAAMU,GAAGiO,UAAU5K,uBAAwB/D,IAAMU,GAAGiO,UAAU9N,4BACnFpD,KACCyC,YAAe1C,GAEfuD,aAAO,gBAAIC,EAAJ,2BAAeA,EAAMN,GAAG0G,UAAUlG,KAAK8C,WAAahD,EAAMN,GAAG0G,UAAUlG,KAAKE,kBACnFtD,aACI,YAAyC,IAC9BkG,EAD6B,oBACZtD,GAAG0G,UAAUlG,KAA9B8C,QACD3E,EAA+B,GAErC,OADAA,EAAcC,KAAK0H,YAAsBhD,IAClCjG,YAAKsB,QAKbmB,sBACXg/B,EACAC,EACAC,I,iCC/HJ,kCAYA,IASalxB,EAA8B,CACvCmxB,yBAA0B,CACtBt3B,QAAS,GACTvG,UAAW,CACP89B,mBAAoB,6BAG5BC,SAhBmB,CACnBx3B,QAAS,CACLy3B,UAAW,QAEfh+B,UAAW,CACPi+B,IAAK,iBAYTC,aAAc,CACV33B,QAAS,CACLuF,YAAa,QAEjB9L,UAAW,IAEfm+B,WAAY,CACR53B,QAAS,GACTvG,UAAW,CACPo+B,MAAO,mBAGfC,iBAAkB,CACd93B,QAAS,CACL4E,YAAa,OAEjBnL,UAAW,IAEfs+B,eAAgB,CACZ/3B,QAAS,CACLg4B,mBAAoB,OAExBv+B,UAAW,M,+iBC/CJ,GACXnB,SAAUgvB,IACVhhB,UAAWrL,IACX+N,SAAUmtB,KCHC,KACXz/B,qBACAnB,kBACA8C,O,gCCPJ,kPAGY9C,EAHZ,S,SAGYA,K,kCAAAA,E,oBAAAA,E,0CAAAA,E,sDAAAA,E,uCAAAA,E,0CAAAA,E,mCAAAA,M,KAUY4F,YAAa5F,EAAcC,UAA5C,IAEM+zB,EAAiBpuB,YAAa5F,EAAc0iC,eAAe,SAAC1hC,GAAD,OAAgBA,KAE3E8M,EAAkBlI,YAAa5F,EAAcsxB,mBAAmB,SAAAzlB,GAAW,OAAIA,KAE/EqC,EAAgBtI,YAAa5F,EAAcuxB,yBAAyB,SAAAtjB,GAAO,OAAIA,KAE/EG,EAAqBxI,YAAa5F,EAAcwxB,eAAe,SAAAprB,GAAO,OAAIA,KAE1EyK,EAAiBjL,YAAa5F,EAAcyxB,iBAAiB,SAAA3hB,GAAQ,OAAIA,KAEzEnB,EAAmB/I,YAAa5F,EAAc0xB,mBAAmB,SAAA5mB,GAAS,OAAIA,KAY5E9K,O,wEClBH6U,E,4CAAAA,K,kBAAAA,E,kBAAAA,E,uBAAAA,M,KAuBL,IAAMic,EAA8B,CACvCna,MAAO,GACPpC,OAAQ,GACR/Q,eAAgB,IAGLwtB,iBAAa,mBAEnB4P,IAAgBI,cAAe,WAC5B,OAAOlQ,KAHS,cAKnB8P,IAAgB9qB,aAAemb,aAAQ,SAACC,EAAsBnxB,GAC3DmxB,EAAMvD,MAAQ5tB,EAAO0K,YANL,cAQnBm2B,IAAgBC,YAAc5P,aAAQ,SAACC,EAAsBnxB,GAC1D,MAAwFA,EAAO0K,QAAxFkM,EAAP,EAAOA,MAAOnT,EAAd,EAAcA,eAAgBU,EAA9B,EAA8BA,UAAWgB,EAAzC,EAAyCA,cAAef,EAAxD,EAAwDA,WAAYsgB,EAApE,EAAoEA,iBACpEyM,EAAMva,MAAQA,EACdua,EAAMhtB,UAAYA,EAClBgtB,EAAMtD,eAAiB1oB,EACvBgsB,EAAM1tB,eAAiBA,EACvB0tB,EAAMvD,MAAQ9Y,EAAOgZ,QACrBqD,EAAM/sB,WAAaA,EACnB+sB,EAAMzM,iBAAmBA,MAhBT,cAkBnBmc,IAAgBE,qBAAuB7P,aAAQ,SAACC,EAAsBnxB,GACnEmxB,EAAMhE,YAAcntB,EAAO0K,YAnBX,cAqBnBm2B,IAAgBM,iBAAmBjQ,aAAQ,SAACC,EAAsBnxB,GAC/DmxB,EAAM3c,OAASxU,EAAO0K,YAtBN,cAwBnBm2B,IAAgBK,eAAiBhQ,aAAQ,SAACC,EAAsBnxB,GAC7DmxB,EAAMpE,OAAS/sB,EAAO0K,YAzBN,cA2BnBm2B,IAAgB55B,UAAYiqB,aAAQ,SAACC,EAAsBnxB,GACxDmxB,EAAMjqB,MAAQlH,EAAO0K,YA5BL,cA8BnBm2B,IAAgBltB,2BAA6Bud,aAC1C,SAACC,EAAsBnxB,GACnB,MAAuEA,EAAO0K,QAAvEvG,EAAP,EAAOA,UAAWV,EAAlB,EAAkBA,eAAgBW,EAAlC,EAAkCA,WAAYe,EAA9C,EAA8CA,cAAe6C,EAA7D,EAA6DA,OAC7DmpB,EAAMhtB,UAAYA,EAClBgtB,EAAM1tB,eAAiBA,EACvB0tB,EAAM/sB,WAAaA,EACnB+sB,EAAMhsB,cAAgBA,EACtBgsB,EAAMnpB,OAASA,MArCH,cAwCnB64B,IAAgBz5B,YAAc8pB,aAAQ,SAACC,EAAsBnxB,GAE1DmxB,EAAMjqB,MAAQ,SA1CE,cA4CnB25B,IAAgBG,wBAA0B9P,aAAQ,SAACC,EAAsBnxB,GACtE,MAAiFA,EAAO0K,QAAjFvG,EAAP,EAAOA,UAAWV,EAAlB,EAAkBA,eAAgBW,EAAlC,EAAkCA,WAAYe,EAA9C,EAA8CA,cAAeuf,EAA7D,EAA6DA,iBAC7DyM,EAAMhtB,UAAYA,EAClBgtB,EAAM1tB,eAAiBA,EACvB0tB,EAAM/sB,WAAaA,EAEnB+sB,EAAMhsB,cAAgBA,EAAgBA,EAAcA,cAAgB,KACpEgsB,EAAMzM,iBAAmBA,MAnDT,cAqDnBmc,IAAgBvrB,6BAA+B4b,aAC5C,SAACC,EAAsBnxB,GACnB,MAAuEA,EAAO0K,QAAvEvG,EAAP,EAAOA,UAAWV,EAAlB,EAAkBA,eAAgBW,EAAlC,EAAkCA,WAAYe,EAA9C,EAA8CA,cAAe6C,EAA7D,EAA6DA,OAC7DmpB,EAAMhtB,UAAYA,EAClBgtB,EAAM1tB,eAAiBA,EACvB0tB,EAAM/sB,WAAaA,EACnB+sB,EAAMnpB,OAASA,EAEfmpB,EAAMhsB,cAAgBA,EAAgBA,EAAcA,cAAgB,SA7DxD,GAiExB4rB,I,2HC9GQ9rB,E,uFAAAA,K,QAAAA,E,cAAAA,M,KAKZ,IAEaF,EAAb,kDAOI,WAAYuR,GAAiG,IAAD,EAAnEssB,EAAmE,uDAAhD39B,EAAWC,GAAIiG,EAAiC,uDATxF,EAUhB,GADwG,oBACpGy3B,IAAS39B,EAAWC,GACpB,cAAMoR,EAAMtR,SAAWsR,EAAMtR,WAAasR,QAI1C,IACI,IAAMusB,EAAM,IAAIC,IAAUxsB,EAAMtR,YAChC,cAAM69B,EAAIE,aAAaC,KAAKC,IAAI,GAAI93B,IAAgBnG,SAAS,KAC/D,MAAOnG,GACL,cAAM,GAV0F,sBAPhH,4CAsBI,SAASsM,GAEL,OADc,IAAI23B,IAAU9E,KAAKh5B,YACpBoN,IAAI4wB,KAAKC,IAAI,GAAI93B,MAxBtC,sBA2BI,SAASA,GAAuE,IAA/C+3B,EAA8C,uDAA3Bn+B,EAAOo+B,WACvD,YAAsBvgC,IAAlBuI,EAGO6yB,KAAKoF,SAjCA,GAkCPj4B,cAlCO,EAkCgB+3B,GACvBG,UAGErF,KAAKoF,SAASj4B,GAChBA,cAAcA,EAAe+3B,GAC7BG,cAtCjB,GAA4Bxa,KAAf9jB,EAEFsU,SAAmB,EAFjBtU,EAKFo+B,WAAqB,G,gCCdhC,8KAIY/hC,EAJZ,S,SAIYA,K,gDAAAA,E,kDAAAA,E,8CAAAA,E,sDAAAA,E,kCAAAA,E,mEAAAA,M,KASL,IAAMN,EAAmB+E,YAC5BzE,EAAiBC,kBACjB,SAACsqB,EAAmByF,GAChB,MAAO,CAACzF,WAAUyF,gCAIbxvB,EAAoBiE,YAC7BzE,EAAiBiwB,mBACjB,SAACiS,GAAD,OAA0BA,KAUjBrhC,GAP0B4D,YACnCzE,EAAiBkwB,2BACjB,SAACnd,GAAD,OAA0CA,KAGJtO,YAAazE,EAAiBmiC,qBAExC19B,YAAazE,EAAiBkB,iBAAiB,SAACkhC,GAAD,OAA6BA,MAE/FtiC,EAAoB2E,YAAazE,EAAiB6F,WAAW,SAACw8B,GAAD,OAAyBA,M","file":"static/js/main.5fede09e.chunk.js","sourcesContent":["var map = {\n\t\"./arda.svg\": 1119,\n\t\"./cennz.svg\": 1120,\n\t\"./certi.svg\": 1121,\n\t\"./co2.svg\": 1122,\n\t\"./cpay.svg\": 1123,\n\t\"./cusd.svg\": 1124,\n\t\"./plug.svg\": 1125,\n\t\"./sylo.svg\": 1126\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1118;","export default __webpack_public_path__ + \"static/media/arda.66373148.svg\";","export default __webpack_public_path__ + \"static/media/cennz.587937d9.svg\";","export default __webpack_public_path__ + \"static/media/certi.4a0f4367.svg\";","export default __webpack_public_path__ + \"static/media/co2.f83e91ef.svg\";","export default __webpack_public_path__ + \"static/media/cpay.89fa8916.svg\";","export default __webpack_public_path__ + \"static/media/cusd.938abaf1.svg\";","export default __webpack_public_path__ + \"static/media/plug.ed8973a5.svg\";","export default __webpack_public_path__ + \"static/media/sylo.1bc91f82.svg\";","export default \"data:image/png;base64,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\"","var map = {\n\t\"./checkPolkadotExtension.epic.ts\": 1569,\n\t\"./exchange/balance.epic.ts\": 1573,\n\t\"./exchange/calculateFee.epic.ts\": 1574,\n\t\"./exchange/clearFields.epic.ts\": 1628,\n\t\"./exchange/exchangeRate.epic.ts\": 1629,\n\t\"./exchange/poolBalance.epic.ts\": 1630,\n\t\"./exchange/price.epic.ts\": 1631,\n\t\"./exchange/transactionFee.epic.ts\": 1632,\n\t\"./exchange/updatePayAssetBalance.epic.ts\": 1633,\n\t\"./global.epic.ts\": 1634,\n\t\"./i18n.epic.ts\": 1648,\n\t\"./liquidity/balance.epic.ts\": 1635,\n\t\"./liquidity/calculateFee.epic.ts\": 1636,\n\t\"./liquidity/clearFields.epic.ts\": 1637,\n\t\"./liquidity/exchangeRate.epic.ts\": 1638,\n\t\"./liquidity/liquidityRate.epic.ts\": 1639,\n\t\"./liquidity/poolBalance.epic.ts\": 1640,\n\t\"./liquidity/transactionFee.epic.ts\": 1641,\n\t\"./liquidity/updatePayAssetBalance.epic.ts\": 407,\n\t\"./txDialog/submitTransaction.epic.ts\": 1642\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1568;","import {InjectedAccountWithMeta, InjectedExtension} from '@polkadot/extension-inject/types';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, from, Observable, of, timer} from 'rxjs';\nimport {EMPTY} from 'rxjs/internal/observable/empty';\nimport {catchError, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {IEpicDependency} from '../../typings';\nimport types from '../actions';\nimport {updateSelectedAccount as updateSelectedExchangeAccount} from '../actions/ui/exchange.action';\nimport {updateSelectedAccount as updateSelectedLiquidityAccount} from '../actions/ui/liquidity.action';\nimport {AppState} from '../reducers';\nimport action from './../actions';\nimport {setExtensionError, updateExAccounts, updateExConnected, updateExDetected} from './../actions/extension.action';\nlet web3AccountsSubscribe: null | any = null;\nlet web3Enable: null | any = null;\n\nif (typeof window !== 'undefined') {\n    web3Enable = require('@polkadot/extension-dapp').web3Enable;\n    web3AccountsSubscribe = require('@polkadot/extension-dapp').web3AccountsSubscribe;\n}\n\nconst stream$ = timer(500);\n\n// Updated the extension detected epic to wait for a half second before calling web3Enable as it needs sometime load\nexport const extensionDetectedEpic = (action$: Observable<Action<any>>, store$: Observable<AppState>) =>\n    action$.pipe(ofType(action.GlobalActions.INIT_APP)).pipe(\n        switchMap(() => {\n            return stream$.pipe(\n                switchMap(() => {\n                    return from(web3Enable('cennzx')).pipe(\n                        //@ts-ignore\n                        switchMap((polkadotInjectedGlobal: InjectedExtension[]) => {\n                            const cennznetExtensionFetched = polkadotInjectedGlobal.find(\n                                ext => ext.name === 'cennznet-extension' || ext.name === 'polkadot-js'\n                            );\n                            let cennznetExtensionDetected = false;\n                            if (typeof window !== 'undefined') {\n                                let injected = (window as any).injectedWeb3['cennznet-extension'];\n                                if (!injected) {\n                                    injected = (window as any).injectedWeb3['polkadot-js'];\n                                }\n                                cennznetExtensionDetected = injected ? true : false;\n                            }\n                            if (cennznetExtensionFetched) {\n                                return of(updateExDetected(cennznetExtensionDetected, cennznetExtensionFetched));\n                            }\n                            return EMPTY;\n                        }),\n                        catchError(err => {\n                            return of(setExtensionError(err));\n                        })\n                    );\n                })\n            );\n        })\n    );\n\n// This observable will keep an eyes on callback and add the account to its subscription\nfunction checkAccountsObservable(): Observable<any> {\n    return new Observable(observer => {\n        web3AccountsSubscribe((accounts: InjectedAccountWithMeta[]) => {\n            observer.next(accounts);\n        });\n    });\n}\n\n// This observable will waits till detection update is triggered and then switch the observation to the account list changes\nexport const observableAccountsEpic = action$ => {\n    return action$.pipe(ofType(action.ExtensionActions.DETECTION_UPDATE)).pipe(\n        switchMap(() => {\n            return checkAccountsObservable().pipe(\n                switchMap(accounts => {\n                    const retObservable: Action<any>[] = [];\n                    retObservable.push(updateExConnected(true));\n                    const accountList = accounts.map(account => ({\n                        name: account.meta.name,\n                        address: account.address,\n                    }));\n                    retObservable.push(updateExAccounts(accountList));\n                    return from(retObservable);\n                })\n            );\n        }),\n        catchError(err => {\n            const retObservable: Action<any>[] = [];\n            retObservable.push(updateExConnected(false));\n            retObservable.push(setExtensionError(err));\n            return from(retObservable);\n        })\n    );\n};\n\nexport const updateSelectedAccountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ExtensionActions.ACCOUNTS_UPDATE))]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                const accounts = store.extension.accounts;\n                if (accounts.length) {\n                    return from([\n                        updateSelectedLiquidityAccount(accounts[0].address),\n                        updateSelectedExchangeAccount(accounts[0].address),\n                    ]);\n                } else {\n                    //@ts-ignore\n                    return from([updateSelectedLiquidityAccount(undefined), updateSelectedExchangeAccount(undefined)]);\n                }\n            }\n        )\n    );\n\nexport default combineEpics(updateSelectedAccountEpic, extensionDetectedEpic, observableAccountsEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, Observable} from 'rxjs';\nimport {of} from 'rxjs/internal/observable/of';\nimport {filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IEpicDependency} from '../../../typings';\nimport types from '../../actions';\nimport {requestAssetBalance} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\nexport const prepareBalanceParamsForSellAssetEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_ACCOUNT_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        filter(([, store]) => store.ui.exchange.form.fromAsset && !!store.ui.exchange.form.signingAccount),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {fromAsset, signingAccount} = store.ui.exchange.form;\n                return of(requestAssetBalance(fromAsset, signingAccount));\n            }\n        )\n    );\n\nexport const prepareBalanceParamsForBuyAssetEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_ACCOUNT_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        filter(([, store]) => store.ui.exchange.form.toAsset && !!store.ui.exchange.form.signingAccount),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {toAsset, signingAccount} = store.ui.exchange.form;\n                return of(requestAssetBalance(toAsset, signingAccount));\n            }\n        )\n    );\n\nexport default combineEpics(prepareBalanceParamsForSellAssetEpic, prepareBalanceParamsForBuyAssetEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {catchError, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {BaseError, InsufficientFeeForOperation} from '../../../error/error';\nimport {IEpicDependency, IFee} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport {observableEstimatedFee} from '../../../util/feeUtil';\nimport types from '../../actions';\nimport {setExchangeError, updateTransactionFee} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\nexport const calculateTxFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Exchange.TRANSACTION_FEE_PARAMS_UPDATE))]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api, action], store]): Observable<Action<any>> => {\n                const {txFee, extrinsicParams} = store.ui.exchange;\n                const {extrinsic, signingAccount, feeAssetId} = store.ui.exchange.form;\n                const [assetToSell, assetToBuy, sellAmount, buyAmount]: any = extrinsicParams;\n                const tx = api.tx.cennzx[extrinsic as any](null, assetToSell, assetToBuy, sellAmount, 1);\n                return observableEstimatedFee(tx, signingAccount as string, feeAssetId as number, api).pipe(\n                    switchMap(([cpayFee, feeAssetFee]) => {\n                        const feeInCpay = new Amount(cpayFee.toString(), AmountUnit.UN);\n                        const feeInFeeAsset = feeAssetFee ? new Amount(feeAssetFee.toString(), AmountUnit.UN) : null;\n                        const fee = {feeInCpay: feeInCpay, feeInFeeAsset: feeInFeeAsset};\n                        if (\n                            !txFee ||\n                            !fee.feeInCpay.eq(txFee.feeInCpay) ||\n                            (fee.feeInFeeAsset === null && txFee.feeInFeeAsset !== null) ||\n                            (fee.feeInFeeAsset !== null && txFee.feeInFeeAsset === null) ||\n                            (fee.feeInFeeAsset && txFee.feeInFeeAsset && !fee.feeInFeeAsset.eq(txFee.feeInFeeAsset))\n                        ) {\n                            return of(updateTransactionFee(fee as IFee));\n                        }\n                        return EMPTY;\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET))),\n                    catchError((err: any) => {\n                        if (err.message === 'Pool balance is low') {\n                            // In case if the fee asset pool balance is low, then converting the fee from CPAY to feeAsset will result in 'Pool balance is low'\n                            // TODO need to check on how to handle it\n                            const err = new InsufficientFeeForOperation(\n                                'Insufficient amount in fee asset of selected account'\n                            );\n                            return of(setExchangeError(err));\n                        }\n                        return of(setExchangeError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport default combineEpics(calculateTxFeeEpic);\n","import {createAction} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {IAssetBalance, IAssetSwap, IExchangePool, IExtrinsic, IFee, IUserShareInPool} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\n\nexport enum LiquidityActions {\n    EXTRINSIC_UPDATE = 'LIQUIDITY/EXTRINSIC_UPDATE',\n    SELECTED_ACCOUNT_UPDATE = 'LIQUIDITY/SELECTED_ACCOUNT_UPDATE',\n    SELECTED_ASSET1_UPDATE = 'LIQUIDITY/SELECTED_ASSET1_UPDATE',\n    ASSET1_AMOUNT_SET = 'LIQUIDITY/ASSET1_AMOUNT_SET',\n    ASSET2_AMOUNT_SET = 'LIQUIDITY/ASSET2_AMOUNT_SET', // asset2 - core asset\n    ASSET1_AMOUNT_UPDATE = 'LIQUIDITY/ASSET1_AMOUNT_UPDATE',\n    ASSET2_AMOUNT_UPDATE = 'LIQUIDITY/ASSET2_AMOUNT_UPDATE',\n    ERROR_SET = 'LIQUIDITY/ERROR_SET',\n    ERROR_RESET = 'LIQUIDITY/ERROR_RESET',\n    ERROR_REMOVE = 'LIQUIDITY/ERROR_REMOVE',\n    LIQUIDITY_POOL_BALANCE_UPDATE = 'LIQUIDITY/LIQUIDITY_POOL_BALANCE_UPDATE',\n    LIQUIDITY_TYPE = 'LIQUIDITY/LIQUIDITY_TYPE',\n    TRANSACTION_BUFFER_UPDATE = 'LIQUIDITY/TRANSACTION_BUFFER_UPDATE',\n    FEE_ASSET_UPDATE = 'LIQUIDITY/FEE_ASSET_UPDATE',\n    TRANSACTION_FEE_UPDATE = 'LIQUIDITY/TRANSACTION_FEE_UPDATE',\n    TRANSACTION_FEE_PARAMS_UPDATE = 'LIQUIDITY/TRANSACTION_FEE_PARAMS_UPDATE',\n    TRANSACTION_FEE_REQUEST = 'LIQUIDITY/TRANSACTION_FEE_REQUEST',\n    EXCHANGE_RATE_UPDATE = 'LIQUIDITY/EXCHANGE_RATE_UPDATE',\n    EXCHANGE_RATE_REQUEST = 'LIQUIDITY/EXCHANGE_RATE_REQUEST',\n    USER_ASSET_BALANCE_REQUEST = 'LIQUIDITY/USER_ASSET_BALANCE_REQUEST',\n    USER_ASSET_BALANCE_UPDATE = 'LIQUIDITY/USER_ASSET_BALANCE_UPDATE',\n    USER_POOL_SHARE_UPDATE = 'LIQUIDITY/USER_POOL_SHARE_UPDATE',\n    TOTAL_LIQUIDITY_REQUEST = 'LIQUIDITY/TOTAL_LIQUIDITY_REQUEST',\n    TOTAL_LIQUIDITY_UPDATE = 'LIQUIDITY/TOTAL_LIQUIDITY_UPDATE',\n    POOL_BALANCE_REQUEST = 'LIQUIDITY/POOL_BALANCE_REQUEST',\n    CORE_LIQUIDITY_PRICE_REQUEST = 'LIQUIDITY/CORE_LIQUIDITY_PRICE_REQUEST',\n    ASSET_LIQUIDITY_PRICE_REQUEST = 'LIQUIDITY/ASSETLIQUIDITY_PRICE_REQUEST',\n    LIQUIDITY_TO_WITHDRAW_UPDATE = 'LIQUIDITY/LIQUIDITY_TO_WITHDRAW_UPDATE',\n    LIQUIDITY_RESET = 'LIQUIDITY/LIQUIDITY_RESET',\n    SELECTED_ASSET2_UPDATE = 'LIQUIDITY/SELECTED_ASSET2_UPDATE',\n}\n\nexport const updateExtrinsic = createAction(LiquidityActions.EXTRINSIC_UPDATE, (extrinsic: string) => extrinsic);\n\nexport const setLiquidityAction = createAction(\n    LiquidityActions.LIQUIDITY_TYPE,\n    (liquidityType: string) => liquidityType\n);\n\nexport const updateSelectedAccount = createAction(\n    LiquidityActions.SELECTED_ACCOUNT_UPDATE,\n    (account: string) => account\n);\nexport const updateSelectedAsset1 = createAction(LiquidityActions.SELECTED_ASSET1_UPDATE, (assetId: number) => assetId);\nexport const setAsset1Amount = createAction(LiquidityActions.ASSET1_AMOUNT_SET, (assetAmount: Amount) => assetAmount);\nexport const updateAsset1Amount = createAction(\n    LiquidityActions.ASSET1_AMOUNT_UPDATE,\n    (assetAmount: Amount) => assetAmount\n);\nexport const setAsset2Amount = createAction(\n    LiquidityActions.ASSET2_AMOUNT_SET,\n    (toAssetAmount: Amount) => toAssetAmount\n);\nexport const updateAsset2Amount = createAction(\n    LiquidityActions.ASSET2_AMOUNT_UPDATE,\n    (toAssetAmount: Amount) => toAssetAmount\n);\nexport const setLiquidityError = createAction(LiquidityActions.ERROR_SET, (error: BaseError) => error);\nexport const resetError = createAction(LiquidityActions.ERROR_RESET);\nexport const updatePoolBalance = createAction(\n    LiquidityActions.LIQUIDITY_POOL_BALANCE_UPDATE,\n    (poolBalance: IExchangePool) => poolBalance\n);\n\nexport const updateUserPoolShare = createAction(\n    LiquidityActions.USER_POOL_SHARE_UPDATE,\n    (userShareInPool: IUserShareInPool) => userShareInPool\n);\n\nexport const requestUserAssetBalance = createAction(\n    LiquidityActions.USER_ASSET_BALANCE_REQUEST,\n    (assetId, signingAccount) => {\n        return {\n            assetId,\n            signingAccount,\n        };\n    }\n);\n\nexport const removeLiquidityError = createAction(LiquidityActions.ERROR_REMOVE, (err: BaseError) => err);\n\nexport const updateTransactionBuffer = createAction(\n    LiquidityActions.TRANSACTION_BUFFER_UPDATE,\n    (buffer: number) => buffer\n);\n\nexport const updateFeeAsset = createAction(LiquidityActions.FEE_ASSET_UPDATE, (assetId: number) => assetId);\n\nexport const updateTransactionFee = createAction(LiquidityActions.TRANSACTION_FEE_UPDATE, (fee: IFee) => fee);\nexport const updateTxFeeParameter = createAction(\n    LiquidityActions.TRANSACTION_FEE_PARAMS_UPDATE,\n    (feeParams: any[]) => feeParams\n);\n\nexport const requestExchangeRate = createAction(LiquidityActions.EXCHANGE_RATE_REQUEST);\nexport const requestCoreLiquidityPrice = createAction(LiquidityActions.CORE_LIQUIDITY_PRICE_REQUEST);\nexport const requestAssetLiquidityPrice = createAction(LiquidityActions.ASSET_LIQUIDITY_PRICE_REQUEST);\nexport const requestTransactionFee = createAction(LiquidityActions.TRANSACTION_FEE_REQUEST);\nexport const updateExchangeRate = createAction(\n    LiquidityActions.EXCHANGE_RATE_UPDATE,\n    (exchangeRate: Amount) => exchangeRate\n);\nexport const requestPoolBalance = createAction(LiquidityActions.POOL_BALANCE_REQUEST, (assetId: number) => assetId);\n\nexport const requestLiquidityRate = createAction(LiquidityActions.EXCHANGE_RATE_REQUEST);\nexport const updateUserAssetBalance = createAction(\n    LiquidityActions.USER_ASSET_BALANCE_UPDATE,\n    (assetBalance: IAssetBalance) => assetBalance\n);\n\nexport const requestTotalLiquidity = createAction(\n    LiquidityActions.TOTAL_LIQUIDITY_REQUEST,\n    (assetId: number) => assetId\n);\n\nexport const updateTotalLiquidity = createAction(\n    LiquidityActions.TOTAL_LIQUIDITY_UPDATE,\n    (liquidity: Amount) => liquidity\n);\n\nexport const updateLiquidityForWithdrawal = createAction(\n    LiquidityActions.LIQUIDITY_TO_WITHDRAW_UPDATE,\n    (liquidity: Amount) => liquidity\n);\n\nexport const resetLiquidity = createAction(LiquidityActions.LIQUIDITY_RESET);\n\nexport const updateSelectedAsset2 = createAction(LiquidityActions.SELECTED_ASSET2_UPDATE, (assetId: number) => assetId);\n\nexport type UpdateLiquidityForWithdrawalAction = ReturnType<typeof updateLiquidityForWithdrawal>;\nexport type UpdateTotalLiquidityAction = ReturnType<typeof updateTotalLiquidity>;\nexport type RequestLiquidityRateAction = ReturnType<typeof requestLiquidityRate>;\nexport type UpdateExchangeRateAction = ReturnType<typeof updateExchangeRate>;\nexport type RequestTransactionFeeAction = ReturnType<typeof requestTransactionFee>;\nexport type UpdateTxFeeParameterAction = ReturnType<typeof updateTxFeeParameter>;\nexport type UpdateTransactionFeeAction = ReturnType<typeof updateTransactionFee>;\nexport type UpdateFeeAssetAction = ReturnType<typeof updateFeeAsset>;\nexport type UpdateTransactionBufferAction = ReturnType<typeof updateTransactionBuffer>;\nexport type UpdateExtrinsicAction = ReturnType<typeof updateExtrinsic>;\nexport type UpdateSelectedAccountAction = ReturnType<typeof updateSelectedAccount>;\nexport type UpdateSelectedAsset1Action = ReturnType<typeof updateSelectedAsset1>;\nexport type UpdateAsset1AmountAction = ReturnType<typeof updateAsset1Amount>;\nexport type UpdateAsset2AmountAction = ReturnType<typeof updateAsset2Amount>;\nexport type SetAsset1AmountAction = ReturnType<typeof setAsset1Amount>;\nexport type SetAsset2AmountAction = ReturnType<typeof setAsset2Amount>;\nexport type SetLiquidityErrorAction = ReturnType<typeof setLiquidityError>;\nexport type ResetLiquidityErrorAction = ReturnType<typeof resetError>;\nexport type UpdatePoolBalanceAction = ReturnType<typeof updatePoolBalance>;\nexport type UpdateUserPoolShareAction = ReturnType<typeof updateUserPoolShare>;\nexport type SetLiquidityAction = ReturnType<typeof setLiquidityAction>;\nexport type RemoveLiquidityErrorAction = ReturnType<typeof removeLiquidityError>;\n\nexport type UpdateUserAssetBalanceAction = ReturnType<typeof updateUserAssetBalance>;\nexport type RequestUserAssetBalanceAction = ReturnType<typeof requestUserAssetBalance>;\nexport type RequestExchangeRateAction = ReturnType<typeof requestExchangeRate>;\nexport type UpdateSelectedAsset2Action = ReturnType<typeof updateSelectedAsset2>;\nexport default LiquidityActions;\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {from, Observable, of} from 'rxjs/index';\nimport {EMPTY} from 'rxjs/internal/observable/empty';\nimport {filter, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {EmptyPool} from '../../../error/error';\nimport {ExchangeFormData, IEpicDependency} from '../../../typings';\nimport {SWAP_INPUT, SWAP_OUTPUT} from '../../../util/extrinsicUtil';\nimport types from '../../actions';\nimport {\n    SetExchangeErrorAction,\n    updateExchangeRate,\n    updateFromAssetAmount,\n    updateToAssetAmount,\n    updateTransactionFee,\n} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\nexport const clearEstimatedAmountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$\n        .pipe(\n            ofType(\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.FROM_ASSET_AMOUNT_SET,\n                types.ui.Exchange.TO_ASSET_AMOUNT_SET\n            )\n        )\n        .pipe(\n            withLatestFrom(store$),\n            switchMap(([action, store]) => {\n                const {extrinsic} = store.ui.exchange.form as ExchangeFormData;\n                if (action.type === types.ui.Exchange.TO_ASSET_AMOUNT_SET) {\n                    //@ts-ignore\n                    return of(updateFromAssetAmount(undefined));\n                } else if (action.type === types.ui.Exchange.FROM_ASSET_AMOUNT_SET) {\n                    //@ts-ignore\n                    return of(updateToAssetAmount(undefined));\n                } else if (\n                    (extrinsic === SWAP_INPUT && action.type === types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE) ||\n                    (extrinsic === SWAP_OUTPUT && action.type === types.ui.Exchange.SELECTED_TO_ASSET_UPDATE)\n                ) {\n                    //@ts-ignore\n                    return from([updateFromAssetAmount(undefined), updateToAssetAmount(undefined)]);\n                }\n                return EMPTY;\n            })\n        );\n\nexport const clearExchangeRateAmountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$\n        .pipe(\n            ofType(\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        )\n        .pipe(\n            switchMap(() => {\n                //@ts-ignore\n                return of(updateExchangeRate(undefined));\n            })\n        );\n\nexport const clearAmountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$.pipe(\n        ofType<SetExchangeErrorAction>(types.ui.Exchange.ERROR_SET),\n        filter(action => action.payload instanceof EmptyPool),\n        switchMap(() => {\n            //@ts-ignore\n            return from([updateToAssetAmount(undefined), updateFromAssetAmount(undefined)]);\n        })\n    );\n\nexport const clearTxFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$.pipe(\n        ofType(\n            types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n            types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n            types.ui.Exchange.FROM_ASSET_AMOUNT_SET,\n            types.ui.Exchange.TO_ASSET_AMOUNT_SET,\n            types.ui.Exchange.ASSET_SWAP,\n            types.ui.Exchange.SELECTED_ACCOUNT_UPDATE\n        ),\n        switchMap(() => {\n            //@ts-ignore\n            return of(updateTransactionFee(undefined));\n        })\n    );\n\nexport default combineEpics(clearEstimatedAmountEpic, clearExchangeRateAmountEpic, clearAmountEpic, clearTxFeeEpic);\n","import {ApiRx} from '@cennznet/api';\nimport {PriceResponse} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs';\nimport {catchError, filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {ExchangeFormData, IEpicDependency} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport types from '../../actions';\nimport {requestExchangeRate, setExchangeError, updateExchangeRate} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\nimport {ExchangeState} from '../../reducers/ui/exchange.reducer';\n\nexport const getExchangeRateEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<any> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Exchange.EXCHANGE_RATE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        switchMap(([obj, store]) => {\n            const api: ApiRx = obj[0];\n            const {exchangeRate} = store.ui.exchange as ExchangeState;\n            const {assetInfo} = store.global;\n            const {fromAsset, toAsset} = store.ui.exchange.form as ExchangeFormData;\n            const asset = assetInfo ? assetInfo[fromAsset] : undefined;\n            const toAssetDecimal = asset ? asset.decimalPlaces : 0;\n            const amount = new Amount(1, AmountUnit.DISPLAY, toAssetDecimal);\n            return (api.rpc as any).cennzx.sellPrice(fromAsset, amount, toAsset).pipe(\n                filter(\n                    (exchangeRateFromAPI: PriceResponse) =>\n                        !exchangeRate || !new Amount(exchangeRateFromAPI.price.toString()).eq(exchangeRate)\n                ),\n                map((exchangeRateFromAPI: PriceResponse) => {\n                    const exRate = new Amount(exchangeRateFromAPI.price.toString(), AmountUnit.UN);\n                    return updateExchangeRate(exRate);\n                }),\n                takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET))),\n                catchError((err: any) => {\n                    if (err.message === 'Pool balance is low') {\n                        return EMPTY;\n                    }\n                    return of(setExchangeError(err));\n                })\n            );\n        })\n    );\n\nexport const requestExchangeRateEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Exchange.FROM_ASSET_AMOUNT_SET,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.exchange.form.fromAsset &&\n                store.ui.exchange.form.toAsset &&\n                !!store.ui.exchange.form.fromAssetAmount\n        ),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                return of(requestExchangeRate());\n            }\n        )\n    );\n\nexport default combineEpics(getExchangeRateEpic, requestExchangeRateEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {catchError, filter, mergeMap, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {EmptyPool} from '../../../error/error';\nimport {IEpicDependency} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport types from '../../actions';\nimport {\n    setExchangeError,\n    updatePoolBalance,\n    UpdatePoolBalanceAction,\n    UpdateSelectedFromAssetAction,\n    UpdateSelectedToAssetAction,\n} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\nexport const getAssetPoolBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<UpdatePoolBalanceAction> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType<UpdateSelectedToAssetAction | UpdateSelectedFromAssetAction>(\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(([, store]) => !!store.global.coreAssetId),\n        mergeMap(\n            ([[api, action], store]): Observable<Action<any>> => {\n                const poolAsset = action.payload;\n                const assetInfo = store.global.assetInfo;\n                const coreAssetId = store.global.coreAssetId;\n                //@ts-ignore\n                if (poolAsset.toString() === coreAssetId.toString()) {\n                    return EMPTY;\n                }\n                return combineLatest([\n                    api.derive.cennzx.poolAssetBalance(poolAsset),\n                    api.derive.cennzx.poolCoreAssetBalance(poolAsset),\n                    api.derive.cennzx.exchangeAddress(poolAsset),\n                ]).pipe(\n                    switchMap(([assetBalance, coreBalance, exchangeAddress]) => {\n                        const coreAssetBalance: Amount = new Amount(coreBalance);\n                        const poolAssetBalance: Amount = new Amount(assetBalance);\n                        if (coreAssetBalance.isZero() || poolAssetBalance.isZero()) {\n                            return of(setExchangeError(new EmptyPool(assetInfo[poolAsset])));\n                        }\n                        const poolBalance = {\n                            coreAssetBalance: coreAssetBalance,\n                            assetBalance: poolAssetBalance,\n                            address: exchangeAddress.toString(),\n                            assetId: poolAsset,\n                        };\n                        return of(updatePoolBalance(poolBalance));\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET))),\n                    catchError((err: any) => {\n                        return of(setExchangeError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport default combineEpics(getAssetPoolBalanceEpic);\n","import {PriceResponse} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs';\nimport {catchError, filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {ExchangeFormData, IEpicDependency} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport types from '../../actions';\nimport {\n    setExchangeError,\n    SetFromAssetAmountAction,\n    SetToAssetAmountAction,\n    updateFromAssetAmount,\n    UpdateSelectedFromAssetAction,\n    UpdateSelectedToAssetAction,\n    updateToAssetAmount,\n} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\n// tslint:disable:no-magic-numbers\n// FIXME\nexport const getInputPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType<SetFromAssetAmountAction | UpdateSelectedToAssetAction>(\n                types.ui.Exchange.FROM_ASSET_AMOUNT_SET,\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.exchange.form.fromAsset &&\n                store.ui.exchange.form.toAsset &&\n                !!store.ui.exchange.form.fromAssetAmount\n        ),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {fromAssetAmount, fromAsset, toAsset, toAssetAmount} = store.ui.exchange.form as ExchangeFormData;\n                const {error} = store.ui.exchange;\n                return (api.rpc as any).cennzx.sellPrice(fromAsset, fromAssetAmount, toAsset).pipe(\n                    filter(\n                        (priceRes: PriceResponse) =>\n                            !toAssetAmount || !new Amount(priceRes.price.toString()).eq(toAssetAmount)\n                    ),\n                    map((priceRes: PriceResponse) => {\n                        const amount = new Amount(priceRes.price.toString(), AmountUnit.UN);\n                        return updateToAssetAmount(amount);\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET))),\n                    catchError((err: any) => {\n                        if (err.message === 'Pool balance is low') {\n                            return EMPTY;\n                        }\n                        if (err.message === '2: Cannot exchange by requested amount.: ') {\n                            err.message = 'Sell price cannot be calculated, issue with the requested amount';\n                        }\n                        const ifErrorAlreadyReported = error.find(er => er.message === err.message);\n                        if (ifErrorAlreadyReported) {\n                            return EMPTY;\n                        }\n                        return of(setExchangeError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport const getOutputPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType<SetToAssetAmountAction | UpdateSelectedFromAssetAction>(\n                types.ui.Exchange.TO_ASSET_AMOUNT_SET,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.ASSET_SWAP\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.exchange.form.fromAsset &&\n                store.ui.exchange.form.toAsset &&\n                !!store.ui.exchange.form.toAssetAmount\n        ),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {fromAssetAmount, fromAsset, toAsset, toAssetAmount} = store.ui.exchange.form as ExchangeFormData;\n                const {error} = store.ui.exchange;\n                return (api.rpc as any).cennzx.buyPrice(toAsset, toAssetAmount, fromAsset).pipe(\n                    filter(\n                        (priceRes: PriceResponse) =>\n                            !fromAssetAmount || !new Amount(priceRes.price.toString()).eq(fromAssetAmount)\n                    ),\n                    map((priceRes: PriceResponse) => {\n                        const amount = new Amount(priceRes.price.toString(), AmountUnit.UN);\n                        return updateFromAssetAmount(amount);\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET))),\n                    catchError((err: any) => {\n                        if (err.message === 'Pool balance is low') {\n                            return EMPTY;\n                        }\n                        if (err.message === '2: Cannot exchange for requested amount.: ') {\n                            err.message = 'Buy price cannot be calculated, issue with the requested amount';\n                        }\n                        const ifErrorAlreadyReported = error.find(er => er.message === err.message);\n                        if (ifErrorAlreadyReported) {\n                            return EMPTY;\n                        }\n                        return of(setExchangeError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport default combineEpics(getInputPriceEpic, getOutputPriceEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {filter, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {ExchangeFormData, IEpicDependency} from '../../../typings';\nimport {prepareExchangeExtrinsicParamsWithBuffer} from '../../../util/extrinsicUtil';\nimport types from '../../actions';\nimport {requestTransactionFee, updateTxFeeParameter} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\n\nexport const prepareTransactionFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Exchange.TRANSACTION_FEE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {extrinsic} = store.ui.exchange.form as ExchangeFormData;\n\n                const paramList = prepareExchangeExtrinsicParamsWithBuffer(extrinsic, store.ui.exchange.form);\n                return of(updateTxFeeParameter(paramList));\n            }\n        )\n    );\n\nexport const requestTransactionFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Exchange.FROM_ASSET_AMOUNT_UPDATE,\n                types.ui.Exchange.TO_ASSET_AMOUNT_UPDATE,\n                types.ui.Exchange.ASSET_SWAP,\n                types.ui.Exchange.SELECTED_FROM_ASSET_UPDATE,\n                types.ui.Exchange.SELECTED_TO_ASSET_UPDATE,\n                types.ui.Exchange.EXTRINSIC_UPDATE,\n                types.ui.Exchange.SELECTED_ACCOUNT_UPDATE,\n                types.ui.Exchange.FEE_ASSET_UPDATE\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([[, action], store]) =>\n                //@ts-ignore\n                store.ui.exchange.form.fromAsset &&\n                store.ui.exchange.form.toAsset &&\n                !!store.ui.exchange.form.fromAssetAmount &&\n                !!store.ui.exchange.form.toAssetAmount &&\n                !!store.ui.exchange.form.signingAccount &&\n                !(store.ui.exchange.form.fromAssetAmount.isZero() && store.ui.exchange.form.toAssetAmount.isZero()) &&\n                !!store.ui.exchange.form.extrinsic\n        ),\n        switchMap(([, store]) => {\n            return of(requestTransactionFee());\n        })\n    );\n\nexport default combineEpics(prepareTransactionFeeEpic, requestTransactionFeeEpic);\n","import {AssetId, Balance} from '@cennznet/types';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {filter, map, mergeMap, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IAssetBalance, IEpicDependency} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport types from '../../actions';\nimport {\n    requestAssetBalance,\n    updateUserAssetBalance,\n    UpdateUserAssetBalanceAction,\n} from '../../actions/ui/exchange.action';\nimport {AppState} from '../../reducers';\nimport {fetchBalanceExcludeLock} from '../liquidity/updatePayAssetBalance.epic';\n\nexport const updateAssetsBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<UpdateUserAssetBalanceAction> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Exchange.ASSET_BALANCE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        filter(([, store]) => !!store.global.stakingAssetId),\n        // MergeMap to merge request for fee asset's balance and with asset's balance\n        mergeMap(\n            ([\n                [\n                    api,\n                    {\n                        payload: {assetId, signingAccount},\n                    },\n                ],\n                store,\n            ]): Observable<Action<any>> => {\n                const {stakingAssetId} = store.global;\n                return api.query.genericAsset.freeBalance(assetId, signingAccount).pipe(\n                    //@ts-ignore\n                    switchMap((balance: Balance) => {\n                        //@ts-ignore\n                        if (assetId === stakingAssetId.toNumber()) {\n                            return fetchBalanceExcludeLock(api, signingAccount, balance, assetId).pipe(\n                                switchMap((newAssetBalance: IAssetBalance) => {\n                                    return of(updateUserAssetBalance(newAssetBalance));\n                                })\n                            );\n                        }\n                        const newAssetBalance = {\n                            assetId,\n                            account: signingAccount,\n                            balance: new Amount(balance.toString()),\n                        };\n                        return of(updateUserAssetBalance(newAssetBalance));\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Exchange.TRADE_RESET)))\n                );\n            }\n        )\n    );\n\nexport const prepareBalanceParamsForFeeAssetEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Exchange.FEE_ASSET_UPDATE, types.ui.Exchange.SELECTED_ACCOUNT_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.exchange.form.feeAssetId &&\n                !!store.ui.exchange.form.signingAccount &&\n                store.ui.exchange.form.feeAssetId !== store.ui.exchange.form.fromAsset\n        ),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {feeAssetId, signingAccount} = store.ui.exchange.form;\n                return of(requestAssetBalance(feeAssetId, signingAccount));\n            }\n        )\n    );\n\nexport default combineEpics(updateAssetsBalanceEpic, prepareBalanceParamsForFeeAssetEpic);\n","import {AssetId} from '@cennznet/types';\nimport {getSpecTypes} from '@polkadot/types-known';\nimport {defaults as addressDefaults} from '@polkadot/util-crypto/address/defaults';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, from, Observable, of} from 'rxjs';\nimport {catchError, map, switchMap} from 'rxjs/operators';\nimport {IEpicDependency} from '../../typings';\nimport {setExchangeError, updateFeeAsset} from '../actions/ui/exchange.action';\nimport {updateFeeAsset as updateLiquidityFeeAsset, updateSelectedAsset2} from '../actions/ui/liquidity.action';\nimport {cennznetExtensions} from '../cennznetExtensions';\nimport {AppState} from '../reducers';\nimport types, {\n    updateAssetsInfo,\n    updateCoreAsset,\n    updateFeeRate,\n    updateMetadata,\n    updateStakingAsset,\n} from './../actions/global.action';\n\nexport const getCoreAsset = (action$: Observable<Action<any>>, store$: Observable<AppState>, {api$}: IEpicDependency) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return api.query.cennzx.coreAssetId().pipe(\n                    //@ts-ignore\n                    switchMap((coreAssetId: AssetId) => {\n                        // update core asset and second asset on liquidity page\n                        return from([\n                            updateCoreAsset(coreAssetId.toNumber()),\n                            updateSelectedAsset2(coreAssetId.toNumber()),\n                        ]);\n                    })\n                );\n            }\n        )\n    );\n\nexport const getFeeRate = (action$: Observable<Action<any>>, store$: Observable<AppState>, {api$}: IEpicDependency) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return api.query.cennzx.defaultFeeRate().pipe(map(feeRate => updateFeeRate(feeRate)));\n            }\n        )\n    );\nexport const getStakingAsset = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return api.query.genericAsset.stakingAssetId().pipe(map(assetId => updateStakingAsset(assetId)));\n            }\n        )\n    );\n\nexport const getFeeAsset = (action$: Observable<Action<any>>, store$: Observable<AppState>, {api$}: IEpicDependency) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return api.query.genericAsset.spendingAssetId().pipe(\n                    //@ts-ignore\n                    switchMap((feeAssetId: AssetId) => {\n                        return from([\n                            updateFeeAsset(feeAssetId.toNumber()),\n                            updateLiquidityFeeAsset(feeAssetId.toNumber()),\n                        ]);\n                    })\n                );\n            }\n        )\n    );\n\nconst getExtensionMetadata = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return api.rpc.system.chain().pipe(\n                    map(systemChain => {\n                        const specTypes = getSpecTypes(\n                            api.registry,\n                            systemChain,\n                            api.runtimeVersion.specName,\n                            api.runtimeVersion.specVersion\n                        );\n                        // remove all the classes from the spectypes\n                        // the metadata that gets updated on the cennznet extension requires types of type (Record<string, string|object>)\n                        const filteredSpecTypes = Object.keys(specTypes)\n                            .filter(key => {\n                                if (typeof specTypes[key] === 'function') {\n                                    // tslint:disable-next-line:no-console\n                                    // console.log('extension meta update - Filtered from spec types:', specTypes[key]);\n                                    return false;\n                                }\n                                return true;\n                            })\n                            .reduce((obj, key) => {\n                                obj[key] = specTypes[key];\n                                return obj;\n                            }, {});\n\n                        const DEFAULT_SS58 = api.registry.createType('u32', addressDefaults.prefix);\n                        const DEFAULT_DECIMALS = api.registry.createType('u32', 4);\n                        const metadata = {\n                            chain: systemChain,\n                            color: '#191a2e',\n                            genesisHash: api.genesisHash.toHex(),\n                            icon: 'CENNZnet',\n                            metaCalls: Buffer.from(api.runtimeMetadata.asCallsOnly.toU8a()).toString('base64'),\n                            specVersion: api.runtimeVersion.specVersion.toNumber(),\n                            ss58Format: DEFAULT_SS58.toNumber(),\n                            tokenDecimals: DEFAULT_DECIMALS.toNumber(),\n                            tokenSymbol: 'CENNZ',\n                            types: (filteredSpecTypes as unknown) as Record<string, string>,\n                            userExtensions: cennznetExtensions,\n                        };\n                        return updateMetadata(metadata);\n                    })\n                );\n            }\n        ),\n        catchError((err: any) => {\n            return of(setExchangeError(err));\n        })\n    );\n\nexport const getRegisteredAssets = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    combineLatest([api$, action$.pipe(ofType(types.INIT_APP))]).pipe(\n        switchMap(\n            ([api]): Observable<Action<any>> => {\n                return (api.rpc as any).genericAsset\n                    .registeredAssets()\n                    .pipe(map(assets => updateAssetsInfo((assets as any).toJSON())));\n            }\n        ),\n        catchError((err: any) => {\n            return of(setExchangeError(err));\n        })\n    );\n\nexport default combineEpics(\n    getCoreAsset,\n    getStakingAsset,\n    getFeeRate,\n    getFeeAsset,\n    getExtensionMetadata,\n    getRegisteredAssets\n);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, Observable} from 'rxjs';\nimport {of} from 'rxjs/internal/observable/of';\nimport {filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IEpicDependency} from '../../../typings';\nimport {ADD_LIQUIDITY} from '../../../util/extrinsicUtil';\nimport types from '../../actions';\nimport {requestUserAssetBalance} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const prepareRequestUserBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Liquidity.SELECTED_ASSET1_UPDATE,\n                types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE,\n                types.ui.Liquidity.EXTRINSIC_UPDATE\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.liquidity.form.assetId &&\n                !!store.ui.liquidity.form.signingAccount &&\n                store.ui.liquidity.form.extrinsic === ADD_LIQUIDITY\n        ),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {assetId, signingAccount} = store.ui.liquidity.form;\n                return of(requestUserAssetBalance(assetId, signingAccount));\n            }\n        )\n    );\n\nexport default combineEpics(prepareRequestUserBalanceEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {catchError, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {BaseError, InsufficientFeeForOperation} from '../../../error/error';\nimport {IEpicDependency, IFee} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport {observableEstimatedFee} from '../../../util/feeUtil';\nimport types from '../../actions';\nimport {setLiquidityError, updateTransactionFee} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const calculateTxFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.TRANSACTION_FEE_PARAMS_UPDATE))]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api, action], store]): Observable<Action<any>> => {\n                const {txFee, extrinsicParams} = store.ui.liquidity;\n                const {\n                    extrinsic,\n                    signingAccount,\n                    feeAssetId,\n                    assetId,\n                    coreAmount,\n                    buffer,\n                    assetAmount,\n                } = store.ui.liquidity.form;\n                if (!coreAmount || !assetAmount) return EMPTY;\n                // const minSale = new Amount(amount.muln(1 - buffer)).asString(DECIMALS)\n                let tx;\n                if (extrinsic === 'addLiquidity') {\n                    const min_liquidity = new Amount(assetAmount.muln(1 - (buffer as number)));\n                    const max_asset_amount = new Amount(assetAmount.muln(1 + (buffer as number)));\n                    tx = api.tx.cennzx.addLiquidity(assetId, min_liquidity, max_asset_amount, coreAmount);\n                } else {\n                    const min_asset_withdraw = new Amount(assetAmount.muln(1 - (buffer as number)));\n                    const min_core_withdraw = new Amount(coreAmount.muln(1 - (buffer as number)));\n                    tx = api.tx.cennzx.removeLiquidity(assetId, assetAmount, min_asset_withdraw, min_core_withdraw);\n                }\n                return observableEstimatedFee(tx, signingAccount as string, feeAssetId as number, api).pipe(\n                    switchMap(([cpayFee, feeAssetFee]) => {\n                        const feeInCpay = new Amount(cpayFee.toString(), AmountUnit.UN);\n                        const feeInFeeAsset = feeAssetFee ? new Amount(feeAssetFee.toString(), AmountUnit.UN) : null;\n                        const fee = {feeInCpay, feeInFeeAsset};\n                        if (\n                            !txFee ||\n                            !fee.feeInCpay.eq(txFee.feeInCpay) ||\n                            (fee.feeInFeeAsset === null && txFee.feeInFeeAsset !== null) ||\n                            (fee.feeInFeeAsset !== null && txFee.feeInFeeAsset === null) ||\n                            (fee.feeInFeeAsset && txFee.feeInFeeAsset && !fee.feeInFeeAsset.eq(txFee.feeInFeeAsset))\n                        ) {\n                            return of(updateTransactionFee(fee as IFee));\n                        }\n                        return EMPTY;\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Liquidity.LIQUIDITY_RESET))),\n                    catchError((err: any) => {\n                        if (err.message === 'Pool balance is low') {\n                            // In case if the fee asset pool balance is low, then converting the fee from CPAY to feeAsset will result in 'Pool balance is low'\n                            // TODO need to check on how to handle it\n                            const err = new InsufficientFeeForOperation(\n                                'Insufficient amount in fee asset of selected account'\n                            );\n                            return of(setLiquidityError(err));\n                        }\n                        return of(setLiquidityError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport default combineEpics(calculateTxFeeEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {from, Observable, of} from 'rxjs/index';\nimport {switchMap} from 'rxjs/operators';\nimport {IEpicDependency} from '../../../typings';\nimport types from '../../actions';\nimport {\n    updateAsset1Amount,\n    updateAsset2Amount,\n    updateExchangeRate,\n    updateTotalLiquidity,\n    updateTransactionFee,\n} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const clearExchangeRateAmountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$.pipe(ofType(types.ui.Liquidity.SELECTED_ASSET1_UPDATE)).pipe(\n        switchMap(() => {\n            //@ts-ignore\n            return of(updateExchangeRate(undefined));\n        })\n    );\n\nexport const clearAmountEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$.pipe(ofType(types.ui.Liquidity.SELECTED_ASSET1_UPDATE, types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE)).pipe(\n        switchMap(() => {\n            return from([\n                //@ts-ignore\n                updateAsset1Amount(undefined),\n                //@ts-ignore\n                updateAsset2Amount(undefined),\n                //@ts-ignore\n                updateTotalLiquidity(undefined),\n            ]);\n        })\n    );\n\nexport const clearTxFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    action$.pipe(\n        ofType(\n            types.ui.Liquidity.SELECTED_ASSET1_UPDATE,\n            types.ui.Liquidity.ASSET1_AMOUNT_SET,\n            types.ui.Liquidity.ASSET2_AMOUNT_SET,\n            types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE\n        ),\n        switchMap(() => {\n            //@ts-ignore\n            return of(updateTransactionFee(undefined));\n        })\n    );\n\nexport default combineEpics(clearExchangeRateAmountEpic, clearTxFeeEpic, clearAmountEpic);\n","import {ApiRx} from '@cennznet/api';\nimport {PriceResponse} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs';\nimport {catchError, filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {ExchangeFormData, IEpicDependency} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport types from '../../actions';\nimport {requestExchangeRate, setLiquidityError, updateExchangeRate} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const getExchangeRateEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<any> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.EXCHANGE_RATE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        switchMap(([obj, store]) => {\n            const api: ApiRx = obj[0];\n            const {exchangeRate} = store.ui.liquidity;\n            const {assetInfo} = store.global;\n            const totalLiquidity = store.ui.liquidity.totalLiquidity;\n            if (!totalLiquidity || totalLiquidity.isZero()) {\n                return EMPTY;\n            }\n            const {assetId, coreAssetId} = store.ui.liquidity.form;\n            const asset = assetInfo ? assetInfo[coreAssetId as number] : undefined;\n            const assetDecimal = asset ? asset.decimalPlaces : 0;\n            const amount = new Amount(1, AmountUnit.DISPLAY, assetDecimal);\n            return (api.rpc as any).cennzx.sellPrice(coreAssetId, amount, assetId).pipe(\n                filter(\n                    (exchangeRateFromAPI: PriceResponse) =>\n                        !exchangeRate || !new Amount(exchangeRateFromAPI.price.toString()).eq(exchangeRate)\n                ),\n                map((exchangeRateFromAPI: PriceResponse) => {\n                    const exRate = new Amount(exchangeRateFromAPI.price.toString(), AmountUnit.UN);\n                    return updateExchangeRate(exRate);\n                }),\n                takeUntil(action$.pipe(ofType(types.ui.Liquidity.LIQUIDITY_RESET))),\n                catchError((err: any) => {\n                    return of(setLiquidityError(err));\n                })\n            );\n        })\n    );\n\nexport const requestExchangeRateEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Liquidity.SELECTED_ASSET1_UPDATE, types.ui.Liquidity.TOTAL_LIQUIDITY_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                return of(requestExchangeRate());\n            }\n        )\n    );\n\nexport default combineEpics(getExchangeRateEpic, requestExchangeRateEpic);\n","import BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, from, Observable, of} from 'rxjs';\nimport {catchError, filter, map, mergeMap, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IncorrectLiquidity} from '../../../error/error';\nimport {IEpicDependency, LiquidityFormData} from '../../../typings';\nimport {Amount, AmountUnit} from '../../../util/Amount';\nimport {ADD_LIQUIDITY, REMOVE_LIQUIDITY} from '../../../util/extrinsicUtil';\nimport types from '../../actions';\nimport {\n    removeLiquidityError,\n    requestAssetLiquidityPrice,\n    requestCoreLiquidityPrice,\n    setLiquidityError,\n    updateAsset1Amount,\n    updateAsset2Amount,\n    updateLiquidityForWithdrawal,\n} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const getCoreLiquidityPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.CORE_LIQUIDITY_PRICE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        switchMap(([[api], store]) => {\n            const {assetId, assetAmount} = store.ui.liquidity.form as LiquidityFormData;\n            const exchangeReserve = store.ui.liquidity.exchangePool.find(exPool => exPool.assetId === assetId);\n            const totalLiquidity = store.ui.liquidity.totalLiquidity;\n            const liquidityAction = store.ui.liquidity.form.extrinsic;\n            // If its the first time to add liquidity, no need to calculate the liquidity value, can use any combination\n            if (!totalLiquidity || totalLiquidity.isZero()) {\n                return EMPTY;\n            }\n            const coreAssetReserve = exchangeReserve ? exchangeReserve.coreAssetBalance : new Amount(0);\n            const tradeAssetReserve = exchangeReserve ? exchangeReserve.assetBalance : new Amount(0);\n            if (liquidityAction === ADD_LIQUIDITY) {\n                let coreAmount: Amount | BN = assetAmount;\n                if (!coreAssetReserve.isZero() || !tradeAssetReserve.isZero()) {\n                    if (coreAssetReserve.toString() === tradeAssetReserve.toString()) {\n                        // rate is 1:1 so core amount should be 1 less than asset amount\n                        coreAmount = assetAmount\n                            .mul(coreAssetReserve)\n                            .div(tradeAssetReserve)\n                            .isubn(1);\n                    } else {\n                        coreAmount = assetAmount.mul(coreAssetReserve).div(tradeAssetReserve);\n                    }\n                }\n                if (coreAmount.ltn(0)) {\n                    //@ts-ignore\n                    return from([setLiquidityError(new IncorrectLiquidity()), updateAsset2Amount(undefined)]);\n                }\n                return from([\n                    removeLiquidityError(new IncorrectLiquidity()),\n                    updateAsset2Amount(new Amount(coreAmount)),\n                ]);\n            } else if (liquidityAction === REMOVE_LIQUIDITY) {\n                let liquidityAmount;\n                if (tradeAssetReserve.toString() === coreAssetReserve.toString()) {\n                    liquidityAmount = assetAmount.mul(totalLiquidity).div(tradeAssetReserve);\n                } else {\n                    liquidityAmount = assetAmount\n                        .mul(totalLiquidity)\n                        .div(tradeAssetReserve)\n                        .addn(1);\n                }\n                const coreAmount = liquidityAmount.mul(coreAssetReserve).div(totalLiquidity);\n                const retObservable: Action<any>[] = [];\n                retObservable.push(updateAsset2Amount(new Amount(coreAmount)));\n                retObservable.push(updateLiquidityForWithdrawal(new Amount(liquidityAmount)));\n                return from(retObservable);\n            }\n        })\n    );\n\nexport const getAssetLiquidityPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n) =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.ASSET_LIQUIDITY_PRICE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        switchMap(([[api], store]) => {\n            const {assetId, coreAmount} = store.ui.liquidity.form as LiquidityFormData;\n            const exchangeReserve = store.ui.liquidity.exchangePool.find(exPool => exPool.assetId === assetId);\n            const totalLiquidity = store.ui.liquidity.totalLiquidity;\n            // If its the first time to add liquidity, no need to calculate the liquidity price, can use any combination\n            if (!totalLiquidity || totalLiquidity.isZero()) {\n                return EMPTY;\n            }\n            const liquidityAction = store.ui.liquidity.form.extrinsic;\n            const coreAssetReserve = exchangeReserve ? exchangeReserve.coreAssetBalance : new Amount(0);\n            const tradeAssetReserve = exchangeReserve ? exchangeReserve.assetBalance : new Amount(0);\n            if (liquidityAction === ADD_LIQUIDITY) {\n                let assetAmount: Amount | BN = coreAmount;\n                if (!coreAssetReserve.isZero() || !tradeAssetReserve.isZero()) {\n                    assetAmount = coreAmount\n                        .mul(tradeAssetReserve)\n                        .div(coreAssetReserve)\n                        .addn(1);\n                }\n                return of(updateAsset1Amount(new Amount(assetAmount)));\n            } else if (liquidityAction === REMOVE_LIQUIDITY) {\n                let liquidityAmount;\n                if (totalLiquidity.toString() === coreAssetReserve.toString()) {\n                    liquidityAmount = coreAmount;\n                } else {\n                    liquidityAmount = coreAmount\n                        .mul(totalLiquidity)\n                        .div(coreAssetReserve)\n                        .addn(1);\n                }\n                const assetAmount = liquidityAmount.mul(tradeAssetReserve).div(totalLiquidity);\n                const retObservable: Action<any>[] = [];\n                retObservable.push(updateAsset1Amount(new Amount(assetAmount)));\n                retObservable.push(updateLiquidityForWithdrawal(new Amount(liquidityAmount)));\n                return from(retObservable);\n            }\n        })\n    );\n\nexport const requestAssetLiquidityPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.ASSET2_AMOUNT_SET))]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.liquidity.form.assetId &&\n                store.ui.liquidity.form.coreAssetId &&\n                !!store.ui.liquidity.form.coreAmount\n        ),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                return of(requestAssetLiquidityPrice());\n            }\n        )\n    );\n\nexport const requestCoreLiquidityPriceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Liquidity.ASSET1_AMOUNT_SET, types.ui.Liquidity.SELECTED_ASSET1_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([, store]) =>\n                //@ts-ignore\n                store.ui.liquidity.form.assetId &&\n                store.ui.liquidity.form.coreAssetId &&\n                !!store.ui.liquidity.form.assetAmount\n        ),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                return of(requestCoreLiquidityPrice());\n            }\n        )\n    );\n\nexport default combineEpics(\n    getCoreLiquidityPriceEpic,\n    getAssetLiquidityPriceEpic,\n    requestAssetLiquidityPriceEpic,\n    requestCoreLiquidityPriceEpic\n);\n","import {LiquidityValueResponse} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {catchError, filter, map, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IEpicDependency, IUserShareInPool} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport types from '../../actions';\n\nimport {\n    setLiquidityError,\n    updatePoolBalance,\n    UpdatePoolBalanceAction,\n    UpdateSelectedAsset1Action,\n    updateTotalLiquidity,\n    updateUserPoolShare,\n} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const getAssetPoolBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<UpdatePoolBalanceAction> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType<UpdateSelectedAsset1Action>(types.ui.Liquidity.SELECTED_ASSET1_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api, action], store]): Observable<Action<any>> => {\n                const poolAsset = action.payload;\n                const coreAssetId = store.global.coreAssetId;\n                //@ts-ignore\n                if (poolAsset.toString() === coreAssetId.toString()) {\n                    return EMPTY;\n                }\n                return combineLatest([\n                    api.derive.cennzx.poolAssetBalance(poolAsset),\n                    api.derive.cennzx.poolCoreAssetBalance(poolAsset),\n                    api.derive.cennzx.exchangeAddress(poolAsset),\n                ]).pipe(\n                    switchMap(([assetBalance, coreBalance, exchangeAddress]) => {\n                        const coreAssetBalance: Amount = new Amount(coreBalance);\n                        const poolAssetBalance: Amount = new Amount(assetBalance);\n                        const poolBalance = {\n                            coreAssetBalance: coreAssetBalance,\n                            assetBalance: poolAssetBalance,\n                            address: exchangeAddress.toString(),\n                            assetId: poolAsset,\n                        };\n                        return of(updatePoolBalance(poolBalance));\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Liquidity.LIQUIDITY_RESET))),\n                    catchError((err: any) => {\n                        return of(setLiquidityError(err));\n                    })\n                );\n            }\n        )\n    );\n\nexport const getUserPoolShareEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<UpdatePoolBalanceAction> => {\n    return combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Liquidity.SELECTED_ASSET1_UPDATE, types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api, action], store]): Observable<Action<any>> => {\n                const poolAsset = store.ui.liquidity.form.assetId;\n                const coreAsset = store.global.coreAssetId;\n                const {signingAccount} = store.ui.liquidity.form;\n                if (!poolAsset || !signingAccount || poolAsset === coreAsset) {\n                    return EMPTY;\n                }\n\n                return (api.rpc as any).cennzx.liquidityValue(signingAccount, poolAsset).pipe(\n                    switchMap((liquidityValue: LiquidityValueResponse) => {\n                        const liquidity: Amount = new Amount(liquidityValue.liquidity);\n                        const userAssetShare: Amount = new Amount(liquidityValue.asset);\n                        const userCoreShare: Amount = new Amount(liquidityValue.core);\n                        const userShare: IUserShareInPool = {\n                            coreAssetBalance: userCoreShare,\n                            assetBalance: userAssetShare,\n                            address: signingAccount,\n                            liquidity: liquidity,\n                            assetId: poolAsset,\n                        };\n                        return of(updateUserPoolShare(userShare));\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Liquidity.LIQUIDITY_RESET))),\n                    catchError((err: any) => {\n                        return of(setLiquidityError(err));\n                    })\n                );\n            }\n        )\n    );\n};\n\nexport const getTotalLiquidityEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.TOTAL_LIQUIDITY_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        switchMap(([[api, action], store]) => {\n            const {totalLiquidity} = store.ui.liquidity;\n            return api.derive.cennzx.totalLiquidity(action.payload).pipe(\n                filter((liquidity: BN) => !totalLiquidity || !liquidity.eq(totalLiquidity)),\n                map((liquidity: BN) => {\n                    const totalLiqudityAmt = new Amount(liquidity.toString());\n                    return updateTotalLiquidity(totalLiqudityAmt);\n                })\n            );\n        })\n    );\n\nexport default combineEpics(getAssetPoolBalanceEpic, getUserPoolShareEpic, getTotalLiquidityEpic);\n","import {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, Observable, of} from 'rxjs/index';\nimport {filter, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {IEpicDependency, LiquidityFormData} from '../../../typings';\nimport {prepareExchangeExtrinsicParamsWithBuffer} from '../../../util/extrinsicUtil';\nimport types from '../../actions';\nimport {requestTransactionFee, updateTxFeeParameter} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport const prepareTransactionFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.TRANSACTION_FEE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([[api], store]): Observable<Action<any>> => {\n                const {extrinsic} = store.ui.liquidity.form as LiquidityFormData;\n                const paramList = prepareExchangeExtrinsicParamsWithBuffer(extrinsic, store.ui.liquidity.form);\n                return of(updateTxFeeParameter(paramList));\n            }\n        )\n    );\n\nexport const requestTransactionFeeEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(\n            ofType(\n                types.ui.Liquidity.ASSET1_AMOUNT_UPDATE,\n                types.ui.Liquidity.ASSET2_AMOUNT_UPDATE,\n                types.ui.Liquidity.EXTRINSIC_UPDATE,\n                types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE,\n                types.ui.Liquidity.FEE_ASSET_UPDATE\n            )\n        ),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(\n            ([[, action], store]) => !!store.ui.liquidity.form.signingAccount && !!store.ui.liquidity.form.extrinsic\n        ),\n        switchMap(([, store]) => {\n            return of(requestTransactionFee());\n        })\n    );\n\nexport default combineEpics(prepareTransactionFeeEpic, requestTransactionFeeEpic);\n","import {SubmittableResult} from '@cennznet/api';\nimport {InjectedExtension} from '@polkadot/extension-inject/types';\nimport BN from 'bn.js';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {combineLatest, EMPTY, from, Observable, of} from 'rxjs';\nimport {catchError, filter, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {ExtrinsicFailed, InsufficientBalanceForOperation} from '../../../error/error';\nimport {IEpicDependency} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport types from '../../actions';\nimport {resetTrade} from '../../actions/ui/exchange.action';\nimport {resetLiquidity, updateExtrinsic} from '../../actions/ui/liquidity.action';\nimport {\n    RequestSubmitLiquidity,\n    RequestSubmitTransaction,\n    setDialogError,\n    updateStage,\n    UpdateStageAction,\n    updateTxEvents,\n    updateTxHash,\n} from '../../actions/ui/txDialog.action';\nimport {AppState} from '../../reducers';\nimport {Stages} from '../../reducers/ui/txDialog.reducer';\n\nlet web3FromSource: any = null;\n\nif (typeof window !== 'undefined') {\n    web3FromSource = require('@polkadot/extension-dapp').web3FromSource;\n}\n\nfunction getExtrinsicErr(err: Error) {\n    let extrinsicErr;\n    if (err.message === '1010: Invalid Transaction (3)') {\n        extrinsicErr = new ExtrinsicFailed(\"Sending account's balance is too low to execute this operation.\");\n    } else if (err.message === '1010: Invalid Transaction (0)') {\n        extrinsicErr = new ExtrinsicFailed('BadSignature fails the extrinsic');\n    } else if (err.message === '1010: Invalid Transaction (1)') {\n        extrinsicErr = new ExtrinsicFailed('Nonce too low.');\n    } else if (err.message === '1010: Invalid Transaction (2)') {\n        extrinsicErr = new ExtrinsicFailed('Nonce too high.');\n    } else if (err.message === '1010: Invalid Transaction (4)') {\n        extrinsicErr = new ExtrinsicFailed('Block is full, no more extrinsics can be applied.');\n    } else {\n        extrinsicErr = new ExtrinsicFailed(err.message);\n    }\n    return extrinsicErr;\n}\n\nexport const submitTransactionEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType<RequestSubmitTransaction>(types.ui.TxDialog.TRANSACTION_SUBMIT_REQUEST)),\n    ]).pipe(\n        withLatestFrom(store$),\n        switchMap(\n            ([\n                [\n                    api,\n                    {\n                        payload: {extrinsic, signingAccount, buffer},\n                    },\n                ],\n                store,\n            ]): Observable<Action<any>> => {\n                let tx;\n                const [fromAsset, toAsset, fromAssetAmount, toAssetAmount] = extrinsic.params;\n                if (extrinsic.method === 'sellAsset') {\n                    const sellAmount = fromAssetAmount;\n                    const minSale = new Amount(toAssetAmount.muln(1 - buffer));\n                    tx = api.tx.cennzx.sellAsset(null, fromAsset, toAsset, sellAmount, minSale);\n                } else {\n                    const buyAmount = toAssetAmount;\n                    const maxSale = new Amount(fromAssetAmount.muln(1 + buffer));\n                    const recipient = null;\n                    tx = api.tx.cennzx.buyAsset(recipient, fromAsset, toAsset, buyAmount, maxSale);\n                }\n\n                const extension = store.extension.cennznetExtension;\n                const source = extension ? extension.name : undefined;\n                return from(web3FromSource(source)).pipe(\n                    //@ts-ignore\n                    switchMap(\n                        (injector: InjectedExtension): Observable<Action<any>> => {\n                            const signer = injector.signer;\n                            return tx.signAndSend(signingAccount, {signer}).pipe(\n                                switchMap(({events, status}: SubmittableResult) => {\n                                    if (status.isInBlock) {\n                                        return of(updateTxHash(tx.hash.toString()), updateStage(Stages.InBlock));\n                                    } else if (status.isFinalized && events) {\n                                        return of(updateTxEvents(events), updateStage(Stages.Finalised));\n                                    } else {\n                                        return EMPTY;\n                                    }\n                                }),\n                                catchError((err: Error) => {\n                                    return of(setDialogError(getExtrinsicErr(err)));\n                                })\n                            );\n                        }\n                    )\n                );\n            }\n        ),\n        catchError((err: Error) => {\n            const extrinsicErr = new ExtrinsicFailed(err.message);\n            return of(setDialogError(extrinsicErr));\n        })\n    );\n\nexport const submitLiquidityEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType<RequestSubmitLiquidity>(types.ui.TxDialog.TRANSACTION_SUBMIT_LIQUIDITY)),\n    ]).pipe(\n        withLatestFrom(store$),\n        filter(([, store]) => !!store.ui.liquidity.totalLiquidity),\n        switchMap(\n            ([\n                [\n                    api,\n                    {\n                        payload: {extrinsic, signingAccount, buffer},\n                    },\n                ],\n                store,\n            ]): Observable<Action<any>> => {\n                const [assetId, , coreAmount, assetAmount] = extrinsic.params;\n                const currentExchangePool = store.ui.liquidity.exchangePool.find(ex => ex.assetId === assetId);\n                const coreAssetReserve = currentExchangePool ? currentExchangePool.coreAssetBalance : new Amount(0);\n                const totalLiquidity = store.ui.liquidity.totalLiquidity;\n                let tx;\n                if (extrinsic.method === 'addLiquidity') {\n                    //@ts-ignore\n                    const minLiquidity = totalLiquidity.isZero()\n                        ? new Amount(coreAmount)\n                        : //@ts-ignore\n                          new Amount(coreAmount).mul(totalLiquidity.div(coreAssetReserve) as BN);\n                    //@ts-ignore\n                    const maxAssetAmount = totalLiquidity.isZero()\n                        ? new Amount(assetAmount)\n                        : new Amount(assetAmount.muln(1 + buffer));\n                    tx = api.tx.cennzx.addLiquidity(assetId, minLiquidity, maxAssetAmount, coreAmount);\n                } else {\n                    const minAssetWithdraw = new Amount(assetAmount.muln(1 - buffer));\n                    const minCoreWithdraw = new Amount(coreAmount.muln(1 - buffer));\n                    const liquidityToWithdraw = store.ui.liquidity.liquidityToWithdraw;\n                    tx = api.tx.cennzx.removeLiquidity(assetId, liquidityToWithdraw, minAssetWithdraw, minCoreWithdraw);\n                }\n\n                const extension = store.extension.cennznetExtension;\n                const source = extension ? extension.name : undefined;\n                return from(web3FromSource(source)).pipe(\n                    //@ts-ignore\n                    switchMap(\n                        (injector: InjectedExtension): Observable<Action<any>> => {\n                            const signer = injector.signer;\n                            return tx.signAndSend(signingAccount, {signer}).pipe(\n                                switchMap(({events, status}) => {\n                                    if (status.isInBlock) {\n                                        return of(\n                                            updateTxHash(tx.hash.toString()),\n                                            updateStage(Stages.InBlock),\n                                            resetLiquidity(),\n                                            updateExtrinsic(extrinsic.method)\n                                        );\n                                    } else if (status.isFinalized && events) {\n                                        return of(updateTxEvents(events), updateStage(Stages.Finalised));\n                                    } else {\n                                        return EMPTY;\n                                    }\n                                }),\n                                catchError((err: Error) => {\n                                    return of(setDialogError(getExtrinsicErr(err)));\n                                })\n                            );\n                        }\n                    )\n                );\n            }\n        ),\n        catchError((err: Error) => {\n            const extrinsicErr = new ExtrinsicFailed(err.message);\n            return of(setDialogError(extrinsicErr));\n        })\n    );\n\nexport const resetTradeOnInBlockCastedStage = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    action$.pipe(\n        ofType<UpdateStageAction>(types.ui.TxDialog.STAGE_UPDATE),\n        switchMap(action => {\n            if (action.payload === Stages.InBlock) {\n                return of(resetTrade());\n            } else {\n                return EMPTY;\n            }\n        })\n    );\n\nexport default combineEpics(submitTransactionEpic, submitLiquidityEpic, resetTradeOnInBlockCastedStage);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1643;","import {IOption} from '../typings';\n\nexport const getOptionByValue = (options: IOption[], valueOfSelectedItem: number | string) =>\n    options ? options.find(item => item.value === valueOfSelectedItem) || null : null;\n\n// respect window.config.ASSETS rather than assetRegistry, so we can use test assets(not only reserve assets)\n// export const getAssetSymbol = assetId => assetRegistry.findAssetById(assetId).symbol;\n","import styled from 'styled-components';\n\nexport default styled.div`\n    color: #7f878d;\n    font-family: 'Open Sans', sans-serif;\n    margin-top: 8px;\n    font-size: 12px;\n`;\n","import {Select} from 'centrality-react-core';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled(Select)`\n    min-width: 112px;\n    div {\n        background-color: #ffffff;\n    }\n`;\n\nexport default StyledSelect;\n","import Identicon from '@polkadot/react-identicon';\nimport React, {FC} from 'react';\nimport styled from 'styled-components';\nimport {IOption} from '../typings';\nimport {getOptionByValue} from '../util/component';\nimport MessageBox from './../components/MessageBox';\nimport DropDown from './DropDown';\n\ninterface AccountPickerProps {\n    title: string;\n    selected: string;\n    options: IOption[];\n    onChange: Function;\n    message: string;\n}\n\nconst AccountWrapper = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n\n    .select {\n        margin-left: 16px;\n        width: calc(100% - 16px);\n        .react-select__value-container--has-value {\n            margin-left: 10px;\n        }\n    }\n\n    .identicon {\n        position: relative;\n        top: -40px;\n        right: 0px;\n        height: 0;\n    }\n\n    .message {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n`;\n\nconst AccountPicker: FC<AccountPickerProps> = ({title, selected, options, onChange, message}) => (\n    <div>\n        <span>\n            {' '}\n            <h2>{title}</h2>\n        </span>\n        <AccountWrapper className=\"accountWrapper\">\n            <DropDown\n                isSearchable={false}\n                className=\"select\"\n                value={getOptionByValue(options, selected)}\n                options={options}\n                onChange={picked => onChange(picked)}\n                help={getOptionByValue(options, selected)}\n            />\n            <Identicon value={selected} size={32} theme={'beachball'} className=\"identicon\" />\n            <MessageBox className=\"message\">{message}</MessageBox>\n        </AccountWrapper>\n    </div>\n);\n\nexport default AccountPicker;\n","import React, {FC, PropsWithChildren} from 'react';\nimport styled from 'styled-components';\n\ninterface BoxProps {\n    center: boolean;\n}\n\nconst Box = styled.ul<BoxProps>`\n    list-style-type: none;\n    max-height: 100px;\n    color: #eb161e;\n    font-family: 'Open Sans', sans-serif;\n    font-size: 14px;\n    overflow-y: scroll;\n    margin: 0.2rem;\n    text-align: ${props => (props.center.toString() === 'true' ? 'center' : 'left')};\n`;\n\ninterface ErrorBoxProps {\n    errors?: Error[];\n    center?: boolean;\n}\n\n// FIXME: handle i18n for errors here\nconst ErrorBox: FC<PropsWithChildren<ErrorBoxProps>> = ({errors, children, center = false}) => (\n    <Box center={center}>{errors ? errors.map(err => <li key={err.message}>{err.message}</li>) : children}</Box>\n);\n\nexport default ErrorBox;\n","import React, {FC} from 'react';\nimport styled from 'styled-components';\nimport MessageBox from './MessageBox';\n\nconst Trade = styled.div`\n    margin-top: 20px;\n    flex-direction: row;\n    h2 {\n        font-size: 16px;\n        font-weight: 600;\n        color: #4e5458;\n    }\n`;\n\nconst Top = styled.div`\n    display: flex;\n    flex-direction: row;\n    margintop: 20px;\n    justify-content: space-between;\n    min-width: 224px;\n`;\n\nconst Input = styled.div`\n    display: flex;\n    height: 48px;\n    line-height: 48px;\n    width: calc(100% - 2rem);\n    background-color: #fff;\n    border: 1px solid #b5babd;\n    border-radius: 3px;\n    font-size: 14px;\n    :hover {\n        border: 1px solid #1130ff;\n        border-radius: 3px;\n    }\n    input {\n        border: 0;\n        flex: 1;\n        padding: 0 1rem;\n    }\n`;\n\nconst Multiple = styled.div`\n    display: inline-block;\n    padding: 0 12px;\n    border-left: 1px solid #b5babd;\n`;\n\ninterface InputProps {\n    value?: string | number;\n    onChange: (event: any) => void;\n    title: string;\n    placeholder?: string;\n    message?: string;\n    multiple?: any;\n    type?: string;\n}\n\nconst InputBox: FC<InputProps> = ({value, onChange, title, placeholder, message, multiple, type = 'text'}) => {\n    return (\n        <Trade>\n            <Top>\n                <span>\n                    <h2>{title}</h2>\n                </span>\n            </Top>\n            <Input onChange={onChange}>\n                <input type={type} value={value} placeholder={placeholder} />\n                {multiple && <Multiple>{multiple}</Multiple>}\n            </Input>\n            {/* {message && <MessageBox>{message}</MessageBox>} */}\n        </Trade>\n    );\n};\n\nexport default InputBox;\n","import styled from 'styled-components';\n\nconst PageInside = styled.div`\n    padding: 0 50px;\n    max-width: 600px;\n`;\n\nexport default PageInside;\n","import React, {FC} from 'react';\nimport styled from 'styled-components';\nimport {AssetDetails} from '../../redux/reducers/global.reducer';\nimport {Amount} from '../../util/Amount';\nimport {ADD_LIQUIDITY, REMOVE_LIQUIDITY, SWAP_INPUT, SWAP_OUTPUT} from '../../util/extrinsicUtil';\n\ntype AssetSwapParams = [number, number, Amount, Amount];\n\nconst Em = styled.span`\n    color: #1130ff;\n`;\n\nexport interface SummaryBuyProps {\n    fromAsset: number | undefined;\n    toAsset: number | undefined;\n    fromAssetAmount: Amount | undefined;\n    toAssetAmount: Amount | undefined;\n    method: string | undefined;\n    buffer: number | undefined;\n    recipientAddress?: string;\n    assetInfo: AssetDetails[];\n}\n\nconst showRecipientAddress = recipientAddress => {\n    if (recipientAddress) {\n        return (\n            <>\n                to <Em>{recipientAddress}</Em>\n            </>\n        );\n    }\n};\n\nexport const SummaryBuy: FC<SummaryBuyProps> = ({\n    fromAsset,\n    toAsset,\n    toAssetAmount,\n    fromAssetAmount,\n    method,\n    buffer,\n    recipientAddress,\n    assetInfo,\n}) => {\n    if (!toAssetAmount || !fromAssetAmount) return null;\n    switch (method) {\n        case SWAP_OUTPUT: {\n            const [assetB, assetA, amountB, amountA] = [fromAsset, toAsset, fromAssetAmount, toAssetAmount];\n            const assetADecimalPlaces = assetInfo[assetA as number].decimalPlaces;\n            const assetASymbol = assetInfo[assetA as number].symbol;\n            const assetBDecimalPlaces = assetInfo[assetB as number].decimalPlaces;\n            const assetBSymbol = assetInfo[assetB as number].symbol;\n            return (\n                <div>\n                    <p>\n                        You are buying{' '}\n                        <Em>\n                            {amountA.asString(assetADecimalPlaces, Amount.ROUND_UP)} {assetASymbol}\n                        </Em>{' '}\n                        with estimated{' '}\n                        <Em>\n                            {amountB.asString(assetBDecimalPlaces)} {assetBSymbol}\n                        </Em>{' '}\n                        {showRecipientAddress(recipientAddress)}.{' '}\n                    </p>\n                    <p>\n                        If the amount of {assetBSymbol} used sits outside{' '}\n                        <Em>\n                            {(buffer as number) * 100}% (\n                            {new Amount(amountB.muln(1 - (buffer as number))).asString(assetBDecimalPlaces)}-\n                            {new Amount(amountB.muln(1 + (buffer as number))).asString(assetBDecimalPlaces)} CPAY)\n                        </Em>\n                        , the transaction will fail.\n                    </p>\n                </div>\n            );\n        }\n        case SWAP_INPUT: {\n            const [assetB, assetA, amountA, amountB] = [fromAsset, toAsset, toAssetAmount, fromAssetAmount];\n            const assetADecimalPlaces = assetInfo[assetA as number].decimalPlaces;\n            const assetASymbol = assetInfo[assetA as number].symbol;\n            const assetBDecimalPlaces = assetInfo[assetB as number].decimalPlaces;\n            const assetBSymbol = assetInfo[assetB as number].symbol;\n            return (\n                <div>\n                    <p>\n                        You are buying estimated{' '}\n                        <Em>\n                            {amountA.asString(assetADecimalPlaces, Amount.ROUND_UP)} {assetASymbol}\n                        </Em>{' '}\n                        with{' '}\n                        <Em>\n                            {amountB.asString(assetBDecimalPlaces)} {assetBSymbol}\n                        </Em>{' '}\n                        {showRecipientAddress(recipientAddress)}.{' '}\n                    </p>\n                    <p>\n                        If the amount of {assetASymbol} received sits outside{' '}\n                        <Em>\n                            {(buffer as number) * 100}% (\n                            {new Amount(amountA.muln(1 - (buffer as number))).asString(assetADecimalPlaces)}-\n                            {new Amount(amountA.muln(1 + (buffer as number))).asString(assetADecimalPlaces)}{' '}\n                            {assetASymbol})\n                        </Em>\n                        , the transaction will fail.\n                    </p>\n                </div>\n            );\n        }\n\n        case REMOVE_LIQUIDITY: {\n            const [assetA, assetB, amountA, amountB] = [fromAsset, toAsset, toAssetAmount, fromAssetAmount];\n            const assetADecimalPlaces = assetInfo[assetA as number].decimalPlaces;\n            const assetASymbol = assetInfo[assetA as number].symbol;\n            const assetBDecimalPlaces = assetInfo[assetB as number].decimalPlaces;\n            const assetBSymbol = assetInfo[assetB as number].symbol;\n            return (\n                <div>\n                    <p>\n                        You are withdrawing{' '}\n                        <Em>\n                            {amountA.asString(assetADecimalPlaces, Amount.ROUND_UP)} {assetASymbol}\n                        </Em>{' '}\n                        +{' '}\n                        <Em>\n                            {amountB.asString(assetBDecimalPlaces)} {assetBSymbol}\n                        </Em>\n                        .\n                    </p>\n                    <p>\n                        If the amount of{' '}\n                        <Em>\n                            {assetASymbol} or {assetBSymbol}\n                        </Em>{' '}\n                        received sits outside{' '}\n                        <Em>\n                            {(buffer as number) * 100}% (\n                            {new Amount(amountA.muln(1 - (buffer as number))).asString(assetADecimalPlaces)}-\n                            {new Amount(amountA.muln(1 + (buffer as number))).asString(assetADecimalPlaces)}{' '}\n                            {assetASymbol}, or{' '}\n                            {new Amount(amountB.muln(1 - (buffer as number))).asString(assetBDecimalPlaces)}-\n                            {new Amount(amountB.muln(1 + (buffer as number))).asString(assetBDecimalPlaces)}{' '}\n                            {assetBSymbol})\n                        </Em>\n                        , the transaction will fail.\n                    </p>\n                </div>\n            );\n        }\n\n        case ADD_LIQUIDITY: {\n            const [investmentAsset, coreAsset, investmentAmount, coreAmount] = [\n                fromAsset,\n                toAsset,\n                toAssetAmount,\n                fromAssetAmount,\n            ];\n            const investmentAssetDecimalPlaces = assetInfo[investmentAsset as number].decimalPlaces;\n            const investmentAssetSymbol = assetInfo[investmentAsset as number].symbol;\n            const coreAssetDecimalPlaces = assetInfo[coreAsset as number].decimalPlaces;\n            const coreAssetSymbol = assetInfo[coreAsset as number].symbol;\n            return (\n                <div>\n                    <p>\n                        You are depositing{' '}\n                        <Em>\n                            {investmentAmount.asString(investmentAssetDecimalPlaces, Amount.ROUND_UP)}{' '}\n                            {investmentAssetSymbol}\n                        </Em>{' '}\n                        +{' '}\n                        <Em>\n                            {coreAmount.asString(coreAssetDecimalPlaces)} {coreAssetSymbol}\n                        </Em>\n                        .\n                    </p>\n                    <p>\n                        If the amount of{' '}\n                        <Em>\n                            {investmentAssetSymbol} or {coreAssetSymbol}\n                        </Em>{' '}\n                        deposited sits outside{' '}\n                        <Em>\n                            {(buffer as number) * 100}% (\n                            {new Amount(investmentAmount.muln(1 - (buffer as number))).asString(\n                                investmentAssetDecimalPlaces\n                            )}\n                            -\n                            {new Amount(investmentAmount.muln(1 + (buffer as number))).asString(\n                                investmentAssetDecimalPlaces\n                            )}{' '}\n                            {investmentAssetSymbol},{' '}\n                            {new Amount(coreAmount.muln(1 - (buffer as number))).asString(coreAssetDecimalPlaces)}-\n                            {new Amount(coreAmount.muln(1 + (buffer as number))).asString(coreAssetDecimalPlaces)}{' '}\n                            {coreAssetSymbol})\n                        </Em>\n                        , the transaction will fail.\n                    </p>\n                </div>\n            );\n        }\n        default:\n            return <div></div>;\n    }\n};\n","import BN from 'bn.js';\nimport React, {FC} from 'react';\nimport styled from 'styled-components';\nimport {AssetDetails} from '../../redux/reducers/global.reducer';\nimport {IFee} from '../../typings';\n\nexport interface SummaryFeeProps {\n    txFee: IFee | undefined;\n    feeAssetId: number | undefined;\n    coreAssetId: number;\n    assetInfo: AssetDetails[];\n}\n\nconst Em = styled.span`\n    color: #1130ff;\n    font-weight: 300;\n`;\n\nconst getFeeMsg = ({txFee, feeAssetId, coreAssetId, assetInfo}: SummaryFeeProps) => {\n    let fee;\n    const assetSymbol = assetInfo[feeAssetId as number].symbol;\n\n    if (coreAssetId && coreAssetId === feeAssetId && txFee) {\n        // If fee asset is CPAY use cpayFee\n        fee = txFee.feeInCpay.asString(assetInfo[coreAssetId].decimalPlaces);\n        return (\n            <>\n                Transaction fee (estimated):{' '}\n                <Em>\n                    {fee} {assetSymbol}\n                </Em>\n            </>\n        );\n    } else if (txFee && txFee.feeInFeeAsset) {\n        fee = txFee.feeInFeeAsset.asString(assetInfo[feeAssetId as number].decimalPlaces);\n        return (\n            <>\n                Transaction fee (estimated):{' '}\n                <Em>\n                    {fee} {assetSymbol}\n                </Em>{' '}\n                (converted to ${txFee.feeInCpay.asString(assetInfo[coreAssetId].decimalPlaces)} CPAY)\n            </>\n        );\n    }\n    return (\n        <>\n            Estimating transaction fee for <Em>{assetSymbol}</Em>\n        </>\n    );\n};\n\nconst SummaryFee: FC<SummaryFeeProps> = props => <div>{getFeeMsg(props)}</div>;\n\nexport default SummaryFee;\n","import {faChevronDown} from '@fortawesome/free-solid-svg-icons';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport React, {FC, useState} from 'react';\nimport styled from 'styled-components';\nimport {FormSection} from '../../pages/exchange/exchange';\nimport {AssetDetails} from '../../redux/reducers/global.reducer';\nimport {Asset, IFee} from '../../typings';\nimport {Amount} from '../../util/Amount';\nimport ErrorBox from '../Error/ErrorBox';\nimport InputBox from '../InputBox';\nimport PageInside from '../PageInside';\nimport {FormErrors as ExchangeFormErrors} from './../../pages/exchange/validation';\nimport {FormErrors as LiquidityFormErrors} from './../../pages/liquidity/validation';\nimport {SummaryBuy} from './SummaryBuy';\nimport SummaryFee from './SummaryFee';\n\nconst Container = styled.div`\n    background: #f8f9f9;\n    margin-top: 2em;\n`;\nconst SummaryBody = styled.div`\n    margin: 20px 0;\n    color: #7f878d;\n    font-size: 14px;\n`;\n\nconst Inside = styled.div`\n    padding: 24px 0;\n`;\n\nconst Title = styled.div`\n    cursor: pointer;\n    svg {\n        margin-left: 6px;\n        vertical-align: middle;\n    }\n`;\n\nconst Top = styled.div`\n    display: flex;\n    flex-direction: row;\n    margintop: 20px;\n    justify-content: space-between;\n    min-width: 224px;\n`;\n\ninterface FontAwesomeIconProps {\n    spinner: string;\n}\nconst ArrowIcon = styled(FontAwesomeIcon)<FontAwesomeIconProps>`\n    height: 16px;\n    width: 16px;\n    color: rgba(17, 48, 255, 0.3);\n    font-size: 16px;\n    line-height: 16px;\n    text-align: center;\n    cursor: pointer;\n    transform: ${props => (props.spinner === 'true' ? 'rotate(180deg) ' : 'rotate(0deg)')};\n    -webkit-transform: ${props => (props.spinner === 'true' ? 'rotate(180deg) ' : 'rotate(0deg)')};\n    transition-duration: 0.2s;\n    transition-property: transform;\n    :hover {\n        color: #1130ff;\n    }\n`;\nconst Em = styled.span`\n    color: #1130ff;\n    font-weight: 300;\n`;\n\nconst P = styled.p`\n    color: #7f878d;\n    font-size: 14px;\n`;\n\nexport interface TxSummaryProps {\n    toAssetAmount: Amount | undefined;\n    fromAssetAmount: Amount | undefined;\n    toAsset: number | undefined;\n    fromAsset: number | undefined;\n    buffer: number | undefined;\n    txFee: IFee | undefined;\n    feeAssetId: number | undefined;\n    coreAssetId: number;\n    extrinsic: string | undefined;\n}\n\ntype SummaryOrErrorProps = {\n    formErrors: LiquidityFormErrors | ExchangeFormErrors;\n    summaryProps: TxSummaryProps;\n    onAssetChange?: (assetId: number) => void;\n    onBufferChange: (buffer: number) => void;\n    assets: Asset[];\n    show: boolean;\n    title: string;\n    selectTitle: string;\n    recipientAddress?: string;\n    spinner: boolean;\n    buffer: number;\n    selectOptions: Asset[];\n    selectValue: number;\n    assetInfo: AssetDetails[];\n};\n\nconst AdvancedSetting: FC<SummaryOrErrorProps> = ({\n    formErrors,\n    summaryProps,\n    onAssetChange,\n    assets,\n    onBufferChange,\n    show,\n    title,\n    recipientAddress,\n    selectTitle,\n    spinner,\n    selectOptions,\n    selectValue,\n    assetInfo,\n}) => {\n    const {\n        toAssetAmount,\n        fromAssetAmount,\n        toAsset,\n        fromAsset,\n        buffer,\n        txFee,\n        feeAssetId,\n        coreAssetId,\n        extrinsic,\n    } = summaryProps;\n    const [state, setState] = useState({spinner});\n    return (\n        <Container>\n            <PageInside>\n                {show && (\n                    <Inside>\n                        <Title\n                            onClick={() => {\n                                setState({spinner: !state.spinner});\n                            }}\n                        >\n                            {title}\n                            <ArrowIcon spinner={state.spinner.toString()} icon={faChevronDown as any} />\n                        </Title>\n                        {state.spinner && (\n                            <>\n                                <InputBox\n                                    type={'number'}\n                                    title={'Slippage'}\n                                    placeholder={'Maximum slippage percent'}\n                                    value={(buffer as number) * 100}\n                                    onChange={e => {\n                                        onBufferChange(Number(e.target.value / 100));\n                                    }}\n                                    multiple={'%'}\n                                />\n                                <P>\n                                    <SummaryBuy\n                                        fromAsset={fromAsset}\n                                        toAsset={toAsset}\n                                        fromAssetAmount={fromAssetAmount}\n                                        toAssetAmount={toAssetAmount}\n                                        buffer={buffer}\n                                        method={extrinsic}\n                                        recipientAddress={recipientAddress}\n                                        assetInfo={assetInfo}\n                                    />\n                                </P>\n                                <SummaryBody>\n                                    <SummaryFee\n                                        txFee={txFee}\n                                        coreAssetId={coreAssetId}\n                                        feeAssetId={feeAssetId}\n                                        assetInfo={assetInfo}\n                                    />\n                                </SummaryBody>\n                            </>\n                        )}\n                    </Inside>\n                )}\n            </PageInside>\n            {formErrors.has(FormSection.form as never) && (\n                <>\n                    <ErrorBox center={true} errors={formErrors.get(FormSection.form as never)} />\n                </>\n            )}\n            {formErrors.size > 0 && <ErrorBox center={true}></ErrorBox>}\n        </Container>\n    );\n};\n\nexport default AdvancedSetting;\n","import {Input} from 'centrality-react-core';\nimport {InputProps} from 'centrality-react-core/components/Input';\nimport React from 'react';\nimport styled from 'styled-components';\nimport {Amount, AmountUnit} from '../util/Amount';\n\n// extend the props excluding handled ones and including extra ones\nexport type StyledInputProps = InputProps & {\n    onChange: (value: React.ChangeEvent) => void;\n};\n\nconst StyledInput = styled(Input as any)<StyledInputProps>`\n    background-color: ${props => (props.readOnly ? '#EBECED' : 'white')};\n    color: black;\n    height: 100%;\n    border: none;\n    caret-color: #1130ff;\n    margin-top: auto;\n    margin-bottom: auto;\n    min-width: 0px !important;\n\n    :hover {\n        border: none;\n    }\n\n    :focus {\n        border: none;\n    }\n`;\n\nconst StyledInputParent = styled.div`\n    min-width: 0px !important;\n    flex: 1 0 60%;\n\n    div {\n        margin-top: 0px;\n        height: 100%;\n    }\n`;\n\nconst MAX_DECIMALS = 18;\n\ninterface AmountBoxProps {\n    value: Amount;\n    onChange: Function;\n    readOnly: boolean;\n    decimalPlaces?: number;\n}\n\ninterface AmountBoxState {\n    displayValue: string;\n}\n\nclass AmountBox extends React.Component<AmountBoxProps, AmountBoxState> {\n    constructor(props: AmountBoxProps) {\n        super(props);\n\n        // set the display value as soon as this component is built\n        this.state = {\n            displayValue: props.value ? props.value.asString(this.props.decimalPlaces) : '',\n        };\n    }\n\n    removeTrailingZero = (valueIn: string, removeDecimal: boolean) => {\n        let value = valueIn;\n\n        if (value.indexOf('.') === -1) {\n            return value;\n        }\n        while (value.charAt(value.length - 1) === '0') {\n            value = value.substring(0, value.length - 1);\n            // remove all zeros\n        }\n        if (removeDecimal) {\n            // remove dot at end if there is one\n            if (value.charAt(value.length - 1) === '.') {\n                value = value.substring(0, value.length - 1);\n            }\n        }\n\n        return value;\n    };\n\n    componentWillReceiveProps = nextProps => {\n        if (!nextProps.value) {\n            this.setState({displayValue: ''});\n        } else if (\n            !new Amount(this.removeTrailingZero(this.state.displayValue, true), AmountUnit.DISPLAY).eq(nextProps.value)\n        ) {\n            this.setState({displayValue: nextProps.value.asString(this.props.decimalPlaces)});\n        }\n    };\n\n    render = () => (\n        <StyledInputParent>\n            <StyledInput\n                valid\n                readOnly={this.props.readOnly}\n                value={this.state.displayValue}\n                onChange={e =>\n                    this.maybeSetValue((e.target as HTMLInputElement).value, this.props.value, this.props\n                        .decimalPlaces as number)\n                }\n                children={<></>}\n            />\n        </StyledInputParent>\n    );\n\n    updateAmount = (value: string): Amount => {\n        return this.props.onChange(\n            value !== '' ? new Amount(value.toString(), AmountUnit.DISPLAY, this.props.decimalPlaces) : null\n        );\n    };\n\n    // wherever return is below it means , totally ignore the change, as in those situations the character is invalid\n    // and the display value and the amount value should not be updated\n    maybeSetValue = (valueIn: any, oldAmount: Amount, decimalPlaces: number) => {\n        let value = valueIn;\n\n        // disallow spaces\n        if (value.indexOf(' ') !== -1) {\n            return;\n        }\n\n        // make . become 0. as this is a number and . is not\n        if (value === '.') {\n            value = '0.';\n        }\n\n        const firstDot = value.indexOf('.');\n        const lastDot = value.lastIndexOf('.');\n        // dont allow more then one  dot\n        if (lastDot !== -1 && firstDot !== lastDot) {\n            return;\n        }\n\n        if (value.toUpperCase() === 'E' || value[0] === '-') {\n            return;\n        }\n\n        const stringAfterDecimalPlace = value.split('.')[1];\n        if (stringAfterDecimalPlace && decimalPlaces && stringAfterDecimalPlace.length > decimalPlaces) {\n            return;\n        }\n        // only allow numbers\n        if (isNaN(value)) {\n            return;\n        }\n\n        // only allow a certain number of decimal places\n        if (firstDot !== -1) {\n            const decimalPlaces = value.substring(firstDot + 1).length;\n            if (decimalPlaces > MAX_DECIMALS) {\n                return;\n            }\n        }\n\n        // if the code gets here it means the value is valid\n        const newAmount = this.removeTrailingZero(value, true);\n        if (oldAmount && oldAmount.eq(new Amount(newAmount, AmountUnit.DISPLAY, this.props.decimalPlaces))) {\n            this.setState({displayValue: value}); // no change only uopdate display value ( don't inform parent)\n        } else {\n            /*\n            The value has changed, update the display value and then inform parent right after in the callback.\n            allow the user's display value to be put into the text input, and then update the amount; that will\n            update the outside in this case AssetInput > exchange page > That will update the Amount in it's self,\n            then this control's component will receive props method will be called,\n            and will only update the display value in this if the amount has changed\n            */\n\n            this.setState({displayValue: value}, () => this.updateAmount(newAmount));\n        }\n    };\n}\n\nexport default AmountBox;\n","import {Select} from 'centrality-react-core';\nimport {SelectProps} from 'centrality-react-core/components/Select';\nimport React, {FC} from 'react';\nimport styled from 'styled-components';\nimport {Asset} from '../typings';\n\ntype AssetDropDownStyledProps = SelectProps<any> & {\n    showBorder: boolean;\n    showInterval: boolean;\n};\n\nconst StyledSelect = styled(Select)<AssetDropDownStyledProps>`\n    flex: 1 0 30%;\n    max-width: calc(32px + 2em);\n\n    > div {\n        border-width: ${props => (props.showBorder.toString() === 'true' ? '1px' : '0px')};\n    }\n\n    .react-select__indicators {\n        padding: 0px;\n        display: none;\n    }\n\n    // add border to left of select \n    .react-select__value-container {\n        border-left: ${props => (props.showInterval.toString() === 'true' ? '1px solid #b5babd;' : 'none')}; !important;\n        min-height: 32px;\n\n        span {\n            display: none;\n        }\n    }\n\n    // drop down indicator hover color\n    .react-select__dropdown-indicator > svg:hover {\n        color: #1130ff !important;\n    }\n\n    // remove padding from select option, this padding is added back to the container\n    .react-select__option {\n        padding: 2px;\n        background-color: white;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n\n    .react-select__option--is-selected:hover,\n    .react-select__option--is-focused:hover {\n        // background hover/active color\n        background-color: #1130ff;\n\n        // color of text on hover/active\n        span {\n            color: #ffffff !important;\n        }\n    }\n\n    // remove padding around the entire menu\n    .react-select__menu-list {\n        position: absolute;\n        top: 0;\n        right: 0;\n    }\n`;\n\nconst Icon = styled.img`\n    margin-top: auto;\n    margin-bottom: auto;\n    min-height: 32px;\n    min-width: 32px;\n    max-height: 32px;\n    max-width: 32px;\n`;\n\nconst Text = styled.span`\n    margin-left: 0.4rem;\n`;\n\nconst Container = styled.div`\n    color: #4e5458;\n    padding: 4px 0px 4px 3px;\n    align-items: center;\n    min-width: 6rem;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    :hover {\n        color: #1130ff;\n    }\n    border: none !important;\n`;\n\nconst getLabel = ({symbol}) => {\n    try {\n        return (\n            <Container>\n                <Icon src={require(`./../images/${symbol.toLowerCase()}.svg`)} />\n                <Text className=\"symbol\">{symbol}</Text>\n            </Container>\n        );\n    } catch (e) {\n        // when a new asset is added and image does not exist\n        return (\n            <Container>\n                <Icon src={require(`./../images/logoMissing.png`)} />\n                <Text className=\"symbol\">{symbol}</Text>\n            </Container>\n        );\n    }\n};\n\nconst getOptionByValue = (options: Asset[], assetId: number) =>\n    options ? options.find(item => item.id === assetId) || null : null;\n\nexport type AssetDropDownProps = Pick<SelectProps<Asset>, Exclude<keyof SelectProps<Asset>, 'value'>> & {\n    options: Asset[];\n    value: number;\n    showBorder: boolean;\n    showInterval?: boolean;\n};\n\nconst AssetDropDown: FC<AssetDropDownProps> = props => (\n    <StyledSelect\n        {...props}\n        value={getOptionByValue(props.options, props.value)}\n        getOptionLabel={getLabel}\n        showBorder={props.showBorder}\n        showInterval={props.showInterval === true ? false : !props.showBorder}\n    />\n);\n\nexport default AssetDropDown;\n","import styled from 'styled-components';\n\nexport default styled.div`\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    background-color: red;\n`;\n","import {Button} from 'centrality-react-core';\nimport styled from 'styled-components';\n\nexport default styled(Button as any)`\n    font-size: 14px;\n    border: 2px solid transparent;\n    color: #7f878d;\n    background-color: transparent;\n    border-radius: 3px;\n    font-weight: 600;\n    margin-right: 12px;\n\n    :hover {\n        background-color: #1130ff;\n        color: #ffffff;\n        border: 2px solid transparent;\n    }\n`;\n","import React, {FC} from 'react';\nimport styled from 'styled-components';\nimport {AmountParams, Asset} from '../typings';\nimport {Amount} from '../util/Amount';\nimport AmountBox from './AmountBox';\nimport AssetDropDown from './AssetDropDown';\nimport FlexDiv from './FlexDiv';\nimport MessageBox from './MessageBox';\nimport TransparentButton from './TransparentButton';\n\nconst Trade = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    width: 100%;\n\n    h2 {\n        font-size: 16px;\n        font-weight: 600;\n        color: #4e5458;\n    }\n`;\n\nconst MaxButton = styled(TransparentButton as any)`\n    margin-top: auto;\n    margin-bottom: auto;\n    border: 1px solid white;\n    margin-right: 0.5em;\n    height: 1.5rem;\n    max-width: 3rem;\n\n    :hover {\n        color: blue;\n        background-color: white;\n        border: 1px solid blue;\n    }\n`;\n\nconst InputAndSelect = styled(FlexDiv as any)`\n    height: 48px;\n    background-color: transparent;\n    border: 1px solid #b5babd;\n    border-radius: 3px;\n    font-size: 14px;\n\n    :hover {\n        border: 1px solid #1130ff;\n        border-radius: 3px;\n    }\n`;\ninterface AssetInputProps {\n    value: AmountParams;\n    options: Asset[];\n    onChange: (newVal: AmountParams) => void;\n    title: string;\n    message: string;\n    errorBox?: JSX.Element;\n    max?: Amount;\n    secondaryTitle?: string | null;\n    disableAmount?: boolean;\n    decimalPlaces?: number;\n}\n\nconst Top = styled.div`\n    justify-content: space-between;\n`;\n\nconst getAmountParams = (amount: Amount, assetId: number, amountChange: boolean): AmountParams => ({\n    amount,\n    assetId,\n    amountChange,\n});\n\nconst AssetInputForAdd: FC<AssetInputProps> = ({\n    max,\n    value,\n    options,\n    onChange,\n    title,\n    message,\n    errorBox,\n    secondaryTitle,\n    disableAmount,\n    decimalPlaces,\n}) => {\n    const {assetId, amount} = value;\n\n    return (\n        <Trade>\n            <Top>\n                <span>\n                    <h2>\n                        {title} {secondaryTitle && secondaryTitle}\n                    </h2>\n                </span>\n            </Top>\n            <InputAndSelect id=\"trade\">\n                <AmountBox\n                    readOnly={disableAmount as boolean}\n                    value={amount}\n                    decimalPlaces={decimalPlaces}\n                    onChange={value => onChange(getAmountParams(value, assetId, true))}\n                />\n                <MaxButton\n                    disabled={disableAmount}\n                    onClick={() => onChange(getAmountParams(max || new Amount(0), assetId, true))}\n                >\n                    Max\n                </MaxButton>\n                <AssetDropDown\n                    isSearchable={false}\n                    value={assetId}\n                    options={options}\n                    onChange={(asset: Asset) => onChange(getAmountParams(amount, asset.id, false))}\n                    showBorder={false}\n                />\n            </InputAndSelect>\n            <MessageBox>{message}</MessageBox>\n            {errorBox}\n        </Trade>\n    );\n};\n\nexport default AssetInputForAdd;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Box = styled.div`\n    font-family: 'Open Sans', sans-serif;\n    font-size: 14px;\n`;\n\nexport default () => <Box>{'\\u00a0'}</Box>;\n","import React, {FC} from 'react';\nimport {FormSection} from '../../pages/exchange/exchange';\nimport {FormErrors} from '../../pages/exchange/validation';\nimport Space from './../Space';\nimport ErrorBox from './ErrorBox';\n\ninterface ErrorMessageProps {\n    errors: FormErrors;\n    field: FormSection;\n    center?: boolean;\n}\n\nconst ErrorMessage: FC<ErrorMessageProps> = ({errors, field, center}) =>\n    errors.has(field) ? <ErrorBox center={center} errors={errors.get(field)}></ErrorBox> : <Space />;\n\nexport default ErrorMessage;\n","import {faExchangeAlt} from '@fortawesome/free-solid-svg-icons';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport React, {FC, useState} from 'react';\nimport styled from 'styled-components';\n\ninterface ExchangeIconProps {\n    onClick: () => void;\n}\n\nexport interface FontAwesomeIconProps {\n    rotations: number;\n}\n\nconst ExchangeIcon = styled(FontAwesomeIcon)<FontAwesomeIconProps>`\n    height: 16px;\n    width: 20px;\n    color: rgba(17, 48, 255, 0.3);\n    font-size: 20px;\n    line-height: 20px;\n    text-align: center;\n    cursor: pointer;\n    transform: ${props => (props.rotations % 2 ? 'rotate(-90deg) ' : 'rotate(90deg)')};\n    -webkit-transform: ${props => (props.rotations % 2 ? 'rotate(-90deg) ' : 'rotate(90deg)')};\n    transition-duration: 0.7s;\n    transition-property: transform;\n\n    :hover {\n        color: #1130ff;\n    }\n`;\n\nconst Container = styled.div`\n    margin-top: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n`;\n\nconst ExchangeIconClass: FC<ExchangeIconProps> = ({onClick}) => {\n    const [rotations, setRotations] = useState(0);\n    return (\n        <Container\n            onClick={() => {\n                setRotations(rotations + 1);\n                onClick();\n            }}\n        >\n            <ExchangeIcon rotations={rotations} icon={faExchangeAlt as any} />\n        </Container>\n    );\n};\n\nexport default ExchangeIconClass;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport default ({active}) => (\n    <NavContent>\n        <Link style={getLinkStyle('exchange', active)} to=\"exchange\">\n            Exchange\n        </Link>\n        <Link style={getLinkStyle('liquidity', active)} to=\"liquidity\">\n            Liquidity\n        </Link>\n    </NavContent>\n);\n\nconst getLinkStyle = (page, activePage) =>\n    page === activePage ? {color: '#4E5458', borderBottomColor: '#1130FF'} : {color: '#B5BABD'};\n\nconst NavContent = styled.nav`\n     {\n        color: #b5babd;\n        font-family: 'Open Sans', sans-serif;\n        font-size: 14px;\n        background-color: #ffffff;\n        justify-content: center;\n        display: flex;\n        margin-bottom: 2rem;\n\n        a {\n            border-bottom: 2px rgba(17, 48, 255, 0.3) solid;\n            color: #4e5458;\n        }\n    }\n`;\n","import styled from 'styled-components';\n\nconst Page = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    max-width: 460px;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.14);\n    -webkit-box-pack: center;\n    padding: 45px 0;\n`;\n\nexport default Page;\n","import React, {FC} from 'react';\nimport {FormSection} from '../../pages/liquidity/liquidity';\nimport {FormErrors} from '../../pages/liquidity/validation';\nimport Space from './../Space';\nimport ErrorBox from './ErrorBox';\n\ninterface ErrorMessageProps {\n    errors: FormErrors;\n    field: FormSection;\n    center?: boolean;\n}\n\nconst ErrorMessage: FC<ErrorMessageProps> = ({errors, field, center}) =>\n    errors.has(field) ? <ErrorBox center={center} errors={errors.get(field)}></ErrorBox> : <Space />;\n\nexport default ErrorMessage;\n","import {\n    FieldNotReady,\n    FieldNotReadyForLiquidity,\n    FromAssetAmountRequired,\n    FromAssetNotSelected,\n} from '../../../error/error';\nimport {FormSection, LiquidityProps} from '../liquidity';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkFromAssetAmount(props: LiquidityProps, errors: FormErrors): void {\n    const {\n        form: {coreAssetId, coreAmount},\n        assetInfo,\n    } = props;\n    if (\n        existErrors(\n            ['PoolBalanceNotEnough', 'FromAssetNotSelected', 'UserBalanceNotEnough', 'UserPoolBalanceNotEnough'],\n            errors\n        )\n    ) {\n        return;\n    }\n\n    if (!coreAmount && coreAssetId && assetInfo.length) {\n        mergeError(FormSection.coreAmount, new FromAssetAmountRequired(assetInfo[coreAssetId].symbol), errors);\n    }\n}\n\n/**\n * priorities: checkFromAssetDropdown > checkFromAssetAmount\n */\nexport default [checkFromAssetAmount];\n","import {AccountNotSelected} from '../../../error/error';\nimport {FormSection, LiquidityProps} from '../liquidity';\nimport {FormErrors, mergeError} from './index';\n\nfunction checkAccountAvailable(props: LiquidityProps, errors: FormErrors): void {\n    const {\n        form: {signingAccount},\n    } = props;\n    if (!signingAccount) {\n        mergeError(FormSection.account, new AccountNotSelected(), errors);\n    }\n}\n\nexport default [checkAccountAvailable];\n","import {FieldNotReadyForLiquidity, ToAssetAmountRequired, ToAssetNotSelected} from '../../../error/error';\nimport {FormSection, LiquidityProps} from '../liquidity';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkCoreAssetAmount(props: LiquidityProps, errors: FormErrors): void {\n    if (existErrors(['PoolBalanceNotEnough', 'UserBalanceNotEnough', 'UserPoolBalanceNotEnough'], errors)) {\n        return;\n    }\n    const {\n        form: {assetAmount, assetId},\n        assetInfo,\n    } = props;\n    if (!assetAmount && assetInfo.length && assetId) {\n        mergeError(FormSection.assetAmount, new ToAssetAmountRequired(assetInfo[assetId].symbol), errors);\n    }\n}\n\nexport default [checkCoreAssetAmount];\n","import {UserBalanceNotEnough, UserBalanceNotEnoughForFee, UserPoolBalanceNotEnough} from '../../../error/error';\nimport {AssetDetails} from '../../../redux/reducers/global.reducer';\nimport {IAssetBalance, IUserShareInPool} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport {ADD_LIQUIDITY, REMOVE_LIQUIDITY} from '../../../util/extrinsicUtil';\nimport {FormSection, LiquidityProps} from '../liquidity';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction getErrorForUserBalance(\n    assetAmount: Amount,\n    accountAssetBalance: Amount,\n    assetInfo: AssetDetails[],\n    assetId: number\n) {\n    if (assetAmount && accountAssetBalance && assetAmount.gt(accountAssetBalance)) {\n        return new UserBalanceNotEnough(assetInfo[assetId], assetAmount);\n    } else if (accountAssetBalance && accountAssetBalance.isZero()) {\n        return new UserBalanceNotEnough(assetInfo[assetId]);\n    }\n    return null;\n}\n\nfunction getErrorForPoolBalance(\n    assetAmount: Amount,\n    userShareInPool: Amount,\n    assetInfo: AssetDetails[],\n    assetId: number\n) {\n    if (assetAmount && userShareInPool && assetAmount.gt(userShareInPool)) {\n        return new UserPoolBalanceNotEnough(assetInfo[assetId], assetAmount, userShareInPool);\n    } else if (userShareInPool && userShareInPool.isZero()) {\n        return new UserPoolBalanceNotEnough(assetInfo[assetId]);\n    }\n    return null;\n}\n\nfunction checkUserBalance(props: LiquidityProps, errors: FormErrors): void {\n    const {\n        form: {assetAmount, coreAmount, assetId, coreAssetId, extrinsic},\n        accountAssetBalance,\n        accountCoreBalance,\n        userShareInPool,\n        assetInfo,\n    } = props;\n    // skip when any error exists on assetInput\n    if (existErrors(() => true, errors, FormSection.assetInput)) return;\n    if (extrinsic === ADD_LIQUIDITY) {\n        const assetBalanceError = getErrorForUserBalance(\n            assetAmount as Amount,\n            accountAssetBalance,\n            assetInfo,\n            assetId as number\n        );\n        if (assetBalanceError) {\n            mergeError(FormSection.assetAmount, assetBalanceError, errors);\n        }\n        const coreBalanceError = getErrorForUserBalance(\n            coreAmount as Amount,\n            accountCoreBalance,\n            assetInfo,\n            coreAssetId as number\n        );\n        if (coreBalanceError) {\n            mergeError(FormSection.coreAmount, coreBalanceError, errors);\n        }\n    }\n    if (extrinsic === REMOVE_LIQUIDITY) {\n        const assetBalanceInPool = userShareInPool ? userShareInPool.assetBalance : undefined;\n        const poolBalanceErrorForAsset = getErrorForPoolBalance(\n            assetAmount as Amount,\n            assetBalanceInPool as Amount,\n            assetInfo,\n            assetId as number\n        );\n        if (poolBalanceErrorForAsset) {\n            mergeError(FormSection.assetAmount, poolBalanceErrorForAsset, errors);\n        }\n        const coreBalanceInPool = userShareInPool ? userShareInPool.coreAssetBalance : undefined;\n        const poolBalanceErrorForCore = getErrorForPoolBalance(\n            coreAmount as Amount,\n            coreBalanceInPool as Amount,\n            assetInfo,\n            coreAssetId as number\n        );\n        if (poolBalanceErrorForCore) {\n            mergeError(FormSection.coreAmount, poolBalanceErrorForCore, errors);\n        }\n    }\n}\n\nfunction checkUserBalanceForFee(props: LiquidityProps, errors: FormErrors): string | undefined {\n    const {\n        form: {assetAmount, assetId, feeAssetId, coreAmount, signingAccount, extrinsic},\n        txFee,\n        coreAssetId,\n        userAssetBalance,\n        assetInfo,\n    } = props;\n    if (!assetAmount || !assetId || !txFee) return;\n    const feeAmount = coreAssetId === feeAssetId ? txFee.feeInCpay : txFee.feeInFeeAsset;\n    let balRequired = feeAmount;\n\n    // Add core amount to the fee only for add liquidity operation\n    if (extrinsic && extrinsic === ADD_LIQUIDITY && coreAmount && balRequired) {\n        balRequired = new Amount(balRequired.add(coreAmount));\n    }\n    const assetBalance = userAssetBalance.find(\n        (assetBal: IAssetBalance) => assetBal.assetId === feeAssetId && assetBal.account === signingAccount\n    );\n\n    if (assetBalance) {\n        if (!balRequired || assetBalance.balance.lt(balRequired)) {\n            mergeError(\n                FormSection.form,\n                new UserBalanceNotEnoughForFee(assetInfo[feeAssetId as number], feeAmount, assetBalance.balance),\n                errors\n            );\n        }\n    }\n}\n\nexport default [checkUserBalance, checkUserBalanceForFee];\n","import {FormErrorTypes} from '../../../error/error';\nimport {FormSection, LiquidityProps} from '../liquidity';\nimport fromAssetInputRules from './fromAssetInput';\nimport accountRules from './signingAccount';\nimport toAssetInputRules from './toAssetInput';\nimport userBalanceRules from './userBalance';\n\nexport function mergeError(field: FormSection, error: FormErrorTypes, errors: FormErrors): void {\n    if (!errors.has(field)) {\n        errors.set(field, []);\n    }\n    //@ts-ignore\n    errors.get(field).push(error);\n}\n\ntype ErrorFilter = (e: FormErrorTypes) => boolean;\n\nfunction flatternErrors(errors: FormErrors): FormErrorTypes[] {\n    const ret: FormErrorTypes[] = [];\n    for (const fieldErrors of errors.values()) {\n        ret.push(...fieldErrors);\n    }\n    return ret;\n}\n\nexport function existErrors(\n    errorFilter: string | string[] | ErrorFilter,\n    errors: FormErrors,\n    field?: FormSection\n): boolean {\n    let filter: ErrorFilter;\n    if (typeof errorFilter === 'string') {\n        filter = error => error.name === errorFilter;\n    } else if (errorFilter instanceof Array) {\n        filter = error => errorFilter.includes(error.name);\n    } else {\n        filter = errorFilter;\n    }\n\n    const errorList = field ? errors.get(field) || [] : flatternErrors(errors);\n\n    return errorList.findIndex(filter) > -1;\n}\n\n/**\n * priorities:\n * accountRules > userBalanceRules > fromAssetInputRules | toAssetInputRules\n * fromAssetInputRules\n */\nconst rules: ValidationRule[] = [...accountRules, ...userBalanceRules, ...toAssetInputRules, ...fromAssetInputRules];\n\nexport type FormErrors = Map<FormSection, FormErrorTypes[]>;\n\nexport interface ValidationRule {\n    (props: LiquidityProps, errors: FormErrors): void;\n}\n\nexport default function(props: LiquidityProps): FormErrors {\n    const retErrors = new Map<FormSection, FormErrorTypes[]>();\n    const {error} = props;\n    if (error.length) {\n        retErrors.set(FormSection.form, error);\n        return retErrors;\n    }\n    for (const rule of rules) {\n        rule(props, retErrors);\n    }\n    return retErrors;\n}\n","import {FeeRate} from '@cennznet/types/interfaces/cennzx';\nimport {faExchangeAlt} from '@fortawesome/free-solid-svg-icons';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {Button} from 'centrality-react-core';\nimport React, {FC, useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport AccountPicker from '../../components/AccountPicker';\nimport AdvancedSetting from '../../components/AdvancedSetting';\nimport AssetInputForAdd from '../../components/AssetInputForAdd';\nimport ErrorMessage from '../../components/Error/ErrorMessageForLiquidity';\nimport Nav from '../../components/Nav';\nimport Page from '../../components/Page';\nimport PageInside from '../../components/PageInside';\nimport {BaseError, FormErrorTypes} from '../../error/error';\nimport {AssetDetails} from '../../redux/reducers/global.reducer';\nimport {LiquidityState} from '../../redux/reducers/ui/liquidity.reducer';\nimport {AmountParams, Asset, IFee, IOption, IUserShareInPool, LiquidityFormData} from '../../typings';\nimport {Amount} from '../../util/Amount';\nimport getFormErrors from './validation';\n\nconst Line = styled.div`\n    border-bottom: 1px solid rgba(17, 48, 255, 0.3);\n    height: 1px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n`;\n\nconst Flex = styled.div`\n    align-items: center;\n    display: inline-flex;\n`;\n\nexport const Flex2 = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n`;\n\nconst Buttons = styled.div`\n    display: flex;\n    flex-direction: row;\n    margin-top: 20px;\n    justify-content: center;\n\n    button {\n        width: 7em;\n        border: 2px solid #1130ff;\n        color: #1130ff;\n        border-radius: 3px;\n\n        :disabled {\n            background-color: #ebeced;\n            color: #b5babd;\n            border-radius: 3px;\n            border: 2px solid #ebeced;\n        }\n\n        :hover {\n            border: 2px solid #1130ff;\n            background-color: #1130ff;\n            color: #ffffff;\n            border-radius: 3px;\n        }\n\n        :hover:disabled {\n            background-color: #ebeced;\n            color: #b5babd;\n            border-radius: 3px;\n            border: 2px solid #ebeced;\n        }\n    }\n`;\n\nconst SwapButton = styled(Button as any)`\n    background-color: white;\n    color: #f7941d;\n    border: 1px solid #f7941d;\n    border-radius: 5px;\n    margin-right: 0.5rem;\n\n    :hover {\n        color: white;\n        background-color: #f7941d;\n        border: 1px solid #f7941d;\n    }\n`;\n\nconst Label = styled.div`\n    color: #4e5458;\n    font-weight: 600;\n    font-size: 16px;\n`;\nconst LabelDetail = styled.p`\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 21px;\n    color: #7f878d;\n`;\nconst Summary = styled.p`\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 24px;\n    color: #7f878d;\n    background: #f8f9f9;\n    text-align: left;\n    padding: 1em 0 1em 2em;\n    margin-top: 2em;\n`;\nexport interface FontAwesomeIconProps {\n    // can't pass in boolean, it complains, so use string as boolean\n    spinner: string;\n}\n\nconst SwapIcon = styled(FontAwesomeIcon)`\n    font-size: 16px;\n`;\n\nexport enum FormSection {\n    account = 'account',\n    assetAmount = 'assetAmount',\n    assetInput = 'assetInput',\n    coreInput = 'coreInput',\n    coreAmount = 'coreAmount',\n    form = 'generalError',\n}\n\n// The liquidity action to take\nexport enum LiquidityAction {\n    ADD = 'Add',\n    REMOVE = 'Withdraw',\n}\n\nexport type LiquidityDispatchProps = {\n    handleAssetAmountChange(amount: Amount): void;\n    handleCoreAmountChange(amount: Amount): void;\n    handleAssetIdChange(assetId: number, form: LiquidityFormData, error: BaseError[]): void;\n    handleSelectedAccountChange(account: string): void;\n    handleFeeBufferChange(feeBuffer: number): void;\n    handleReset(): void;\n    handleExtrinsicChange(type: string): void;\n    handleLiquidityAction(type: LiquidityAction): void;\n    openTxDialog(form: LiquidityFormData, estimatedFee: IFee, assetInfo: AssetDetails[]): void;\n};\n\nexport type LiquidityProps = {\n    accounts: IOption[];\n    // the registered onchain assets\n    assets: Asset[];\n    // balance of selected asset in the exchange\n    assetReserve: Amount;\n    // balance of core asset in the exchange\n    coreReserve: Amount;\n    // current account's balance of the selected asset\n    accountAssetBalance: Amount;\n    // current account's balance of the core asset\n    accountCoreBalance: Amount;\n    exchangeRateMsg?: string;\n    txFeeMsg: string;\n    coreAssetId: number;\n    fee: any;\n    feeRate: FeeRate;\n    userShareInPool: IUserShareInPool;\n    assetInfo: AssetDetails[];\n} & LiquidityState;\n\nconst getAssetName = (options, id) => {\n    if (!id) return null;\n    const name = options.find(i => i.id === id);\n    return name && name.symbol;\n};\n\nfunction poolSummary(\n    assetPool: string,\n    corePool: string,\n    userAssetShareInPool,\n    assetName,\n    userCoreShareInPool,\n    coreName,\n    exchangeRateMsg: string,\n    fee\n) {\n    return (\n        <>\n            {assetPool && corePool ? (\n                <Summary>\n                    Your liquidity: {userAssetShareInPool} {assetName} + {userCoreShareInPool} {coreName}\n                    <br />\n                    Pool liquidity: {assetPool} {assetName} + {corePool} {coreName}\n                    <br />\n                    {exchangeRateMsg}\n                    {fee && (\n                        <>\n                            <br />\n                            {`Transaction fee (estimated) : ${fee}`}\n                        </>\n                    )}\n                </Summary>\n            ) : null}\n        </>\n    );\n}\n\nfunction getBalance(accountAssetBalance: Amount, assetInfo: AssetDetails[], assetId: number) {\n    return (\n        accountAssetBalance && assetInfo.length > 0 && accountAssetBalance.asString(assetInfo[assetId].decimalPlaces)\n    );\n}\n\nfunction getFormattedPoolBalance(assetReserve: Amount, assetInfo: AssetDetails[], assetId: number) {\n    return assetReserve && assetInfo.length > 0 && assetId && assetReserve.asString(assetInfo[assetId].decimalPlaces);\n}\n\nfunction isAssetBoxDisabled(\n    liquidityAction: LiquidityAction,\n    userShareInPool: Amount,\n    assetId: number,\n    accountBalance: Amount\n) {\n    if (liquidityAction === LiquidityAction.REMOVE && userShareInPool && assetId) {\n        return userShareInPool.isZero();\n    } else if (liquidityAction === LiquidityAction.ADD && accountBalance && assetId) {\n        return accountBalance.isZero();\n    }\n    return false;\n}\n\nexport function getDecimalPlaces(assetId: number, assetInfo: AssetDetails[]) {\n    return assetId && assetInfo.length > 0 ? assetInfo[assetId].decimalPlaces : undefined;\n}\n\nexport const Liquidity: FC<LiquidityProps & LiquidityDispatchProps> = props => {\n    const {\n        accounts,\n        accountAssetBalance,\n        accountCoreBalance,\n        assets,\n        assetReserve,\n        coreAssetId,\n        coreReserve,\n        exchangeRateMsg,\n        fee,\n        txFee,\n        userShareInPool,\n        assetInfo,\n    } = props;\n\n    const {assetId, assetAmount, buffer, coreAmount, extrinsic, feeAssetId, signingAccount, type} = props.form;\n\n    // local component state\n    const initState = {\n        touched: false,\n        assetDialogOpen: false,\n        address: '',\n        buffer: 0.05,\n        transactionAssetId: null,\n        liquidityAction: LiquidityAction.ADD,\n        slider: true,\n        sliderP: 0,\n    };\n\n    const [state, setState] = useState(initState);\n    useEffect((): void => {\n        if (!type) {\n            props.handleLiquidityAction(initState.liquidityAction);\n            props.handleExtrinsicChange(initState.liquidityAction);\n        }\n    }, []);\n\n    // pre populate the asset drop down\n    useEffect((): void => {\n        if (assets.length) {\n            props.handleAssetIdChange(assets[0].id, props.form as LiquidityFormData, props.error);\n        }\n    }, [assets]);\n\n    const assetBalance = getBalance(accountAssetBalance, assetInfo, assetId as number);\n    const assetName = getAssetName(assets, assetId);\n    const assetPool = getFormattedPoolBalance(assetReserve, assetInfo, assetId as number);\n\n    const coreBalance = getBalance(accountCoreBalance, assetInfo, coreAssetId);\n\n    const coreName = getAssetName(assets, coreAssetId);\n    const corePool = getFormattedPoolBalance(coreReserve, assetInfo, coreAssetId);\n\n    const [userAssetShareInPool, userCoreShareInPool] = userShareInPool\n        ? [userShareInPool.assetBalance, userShareInPool.coreAssetBalance]\n        : [new Amount(0), new Amount(0)];\n\n    const formErrors =\n        state.touched || !signingAccount || !assetAmount || !coreAmount\n            ? getFormErrors(props)\n            : new Map<FormSection, FormErrorTypes[]>();\n\n    const disabledAssetTextBox = isAssetBoxDisabled(\n        state.liquidityAction,\n        userAssetShareInPool,\n        assetId as number,\n        accountAssetBalance\n    );\n    const disabledCoreTextBox = isAssetBoxDisabled(\n        state.liquidityAction,\n        userCoreShareInPool,\n        assetId as number,\n        accountCoreBalance\n    );\n\n    return (\n        <Page id={'page'}>\n            <form>\n                <PageInside>\n                    <Nav active=\"liquidity\" />\n                    <AccountPicker\n                        title=\"Choose account\"\n                        selected={signingAccount as string}\n                        options={accounts}\n                        onChange={(picked: {label: string; value: string}) => {\n                            props.handleSelectedAccountChange(picked.value);\n                            setState({\n                                ...state,\n                                touched: true,\n                                assetDialogOpen: state.assetDialogOpen,\n                            });\n                        }}\n                        message={signingAccount ? `Public Address: ${signingAccount}` : ''}\n                    />\n                    <Flex2>\n                        <ErrorMessage errors={formErrors} field={FormSection.account} />\n                    </Flex2>\n                    <Line />\n                    <Flex>\n                        <SwapButton\n                            onClick={() => {\n                                // just flip the action\n                                const action =\n                                    state.liquidityAction === LiquidityAction.REMOVE\n                                        ? LiquidityAction.ADD\n                                        : LiquidityAction.REMOVE;\n                                props.handleExtrinsicChange(action);\n                                setState({\n                                    ...state,\n                                    liquidityAction: action,\n                                });\n                            }}\n                        >\n                            <SwapIcon icon={faExchangeAlt} />\n                        </SwapButton>\n                        <Label>{`${state.liquidityAction} liquidity`}</Label>\n                    </Flex>\n                    <div>\n                        {state.liquidityAction === LiquidityAction.ADD\n                            ? coreName && (\n                                  <LabelDetail>\n                                      To keep the liquidity pool functional, deposits require an equal value of{' '}\n                                      {assetName || ' your token'} and {coreName} at the current exchange rate.\n                                  </LabelDetail>\n                              )\n                            : coreName && (\n                                  <LabelDetail>\n                                      To keep the liquidity pool functional, withdrawals will return an equal value of{' '}\n                                      {assetName || ' your token'} and {coreName} at the current exchange rate.\n                                  </LabelDetail>\n                              )}\n                    </div>\n                    <Flex2>\n                        <AssetInputForAdd\n                            max={\n                                state.liquidityAction === LiquidityAction.REMOVE\n                                    ? userAssetShareInPool\n                                    : accountAssetBalance\n                            }\n                            disableAmount={disabledAssetTextBox}\n                            value={{amount: assetAmount as Amount, assetId: assetId as number}}\n                            decimalPlaces={getDecimalPlaces(assetId as number, assetInfo)}\n                            options={assets.filter(a => a.id !== coreAssetId)}\n                            onChange={(amountParams: AmountParams) => {\n                                if (amountParams.amountChange) {\n                                    props.handleAssetAmountChange(amountParams.amount);\n                                } else {\n                                    props.handleAssetIdChange(\n                                        amountParams.assetId,\n                                        props.form as LiquidityFormData,\n                                        props.error\n                                    );\n                                }\n                                setState({\n                                    ...state,\n                                    touched: true,\n                                    slider: !amountParams.amountChange,\n                                    assetDialogOpen: state.assetDialogOpen,\n                                });\n                            }}\n                            title=\"\"\n                            secondaryTitle={null}\n                            message={\n                                state.liquidityAction === LiquidityAction.REMOVE\n                                    ? `Withdrawable: ${userAssetShareInPool.asString(\n                                          getDecimalPlaces(assetId as number, assetInfo)\n                                      )}`\n                                    : `Balance: ${assetBalance || 0}`\n                            }\n                            errorBox={<ErrorMessage errors={formErrors} field={FormSection.assetAmount} />}\n                        />\n                        <AssetInputForAdd\n                            max={\n                                state.liquidityAction === LiquidityAction.REMOVE\n                                    ? userCoreShareInPool\n                                    : accountCoreBalance\n                            }\n                            disableAmount={disabledCoreTextBox}\n                            value={{amount: coreAmount as Amount, assetId: coreAssetId}}\n                            decimalPlaces={getDecimalPlaces(coreAssetId, assetInfo)}\n                            options={assets.filter(a => a.id === coreAssetId)}\n                            onChange={amountParams => {\n                                if (amountParams.amountChange) {\n                                    props.handleCoreAmountChange(amountParams.amount);\n                                    setState({\n                                        ...state,\n                                        touched: true,\n                                        slider: false,\n                                        assetDialogOpen: state.assetDialogOpen,\n                                    });\n                                }\n                            }}\n                            title=\"\"\n                            secondaryTitle={null}\n                            message={\n                                state.liquidityAction === LiquidityAction.REMOVE\n                                    ? `Withdrawable: ${userCoreShareInPool.asString(\n                                          getDecimalPlaces(coreAssetId, assetInfo)\n                                      )}`\n                                    : `Balance: ${coreBalance || 0}`\n                            }\n                            errorBox={<ErrorMessage errors={formErrors} field={FormSection.coreAmount} />}\n                        />\n                    </Flex2>\n                    {poolSummary(\n                        assetPool as string,\n                        corePool as string,\n                        userAssetShareInPool.asString(getDecimalPlaces(assetId as number, assetInfo)),\n                        assetName,\n                        userCoreShareInPool.asString(getDecimalPlaces(coreAssetId, assetInfo)),\n                        coreName,\n                        exchangeRateMsg as string,\n                        fee\n                    )}\n                </PageInside>\n                <Buttons id=\"buttons\">\n                    <Button\n                        flat\n                        primary\n                        disabled={formErrors.size > 0 || !signingAccount}\n                        onClick={() =>\n                            props.openTxDialog(props.form as LiquidityFormData, props.txFee as IFee, props.assetInfo)\n                        }\n                    >\n                        {state.liquidityAction}\n                    </Button>\n                </Buttons>\n                <AdvancedSetting\n                    show={!!(assetId && coreAssetId)}\n                    assets={assets}\n                    onBufferChange={(buffer: number) => {\n                        props.handleFeeBufferChange(buffer);\n                    }}\n                    formErrors={formErrors}\n                    summaryProps={{\n                        extrinsic,\n                        feeAssetId: coreAssetId,\n                        coreAssetId,\n                        txFee,\n                        // Need to use it in this order to get the correct order show up on slippage advance setting\n                        toAssetAmount: assetAmount,\n                        toAsset: coreAssetId,\n                        fromAssetAmount: coreAmount,\n                        fromAsset: assetId,\n                        buffer,\n                    }}\n                    title={'Advanced settings'}\n                    selectTitle={'Pay transaction fee with'}\n                    spinner={false}\n                    buffer={buffer as number}\n                    selectOptions={assets}\n                    selectValue={feeAssetId as number}\n                    assetInfo={assetInfo}\n                />\n            </form>\n        </Page>\n    );\n};\n","import {FieldNotReady, FromAssetAmountRequired, FromAssetNotSelected} from '../../../error/error';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkFromAssetAmount(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {toAssetAmount, fromAssetAmount, fromAsset},\n        assetInfo,\n    } = props;\n    if (existErrors(['PoolBalanceNotEnough', 'FromAssetNotSelected'], errors)) {\n        return;\n    }\n\n    if (!fromAssetAmount) {\n        if (toAssetAmount && toAssetAmount.gtn(0)) {\n            mergeError(FormSection.fromAssetInput, new FieldNotReady(FormSection.fromAssetInput), errors);\n        } else {\n            mergeError(\n                FormSection.fromAssetInput,\n                new FromAssetAmountRequired(assetInfo[fromAsset as number].symbol),\n                errors\n            );\n        }\n    }\n}\n\nfunction checkFromAssetDropdown(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {fromAsset},\n    } = props;\n    if (!fromAsset) {\n        mergeError(FormSection.fromAssetInput, new FromAssetNotSelected(), errors);\n    }\n}\n\n/**\n * priorities: checkFromAssetDropdown > checkFromAssetAmount\n */\nexport default [checkFromAssetDropdown, checkFromAssetAmount];\n","import {PoolBalanceNotEnough, UnknownFormError} from '../../../error/error';\nimport {Amount} from '../../../util/Amount';\nimport {SWAP_OUTPUT} from '../../../util/extrinsicUtil';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkPoolBalance(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {toAssetAmount, toAsset},\n        outputReserve,\n        assetInfo,\n    } = props;\n    if (toAssetAmount && outputReserve && toAssetAmount.gt(outputReserve)) {\n        mergeError(\n            FormSection.toAssetInput,\n            new PoolBalanceNotEnough(assetInfo[toAsset as number], toAssetAmount, outputReserve),\n            errors\n        );\n    }\n}\n\n/**\n * priorities:\n * checkPoolBalance\n */\nexport default [checkPoolBalance];\n","import {AccountNotSelected} from '../../../error/error';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport {FormErrors, mergeError} from './index';\n\nfunction checkAccountAvailable(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {signingAccount},\n    } = props;\n    if (!signingAccount) {\n        mergeError(FormSection.account, new AccountNotSelected(), errors);\n    }\n}\n\nexport default [checkAccountAvailable];\n","import {FieldNotReady, ToAssetAmountRequired, ToAssetNotSelected} from '../../../error/error';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkToAssetAmount(props: ExchangeProps, errors: FormErrors): void {\n    if (existErrors(['PoolBalanceNotEnough', 'ToAssetNotSelected'], errors)) {\n        return;\n    }\n    const {\n        form: {toAssetAmount, fromAssetAmount, toAsset},\n        assetInfo,\n    } = props;\n    if (!toAssetAmount) {\n        if (fromAssetAmount) {\n            mergeError(FormSection.toAssetInput, new FieldNotReady(FormSection.toAssetInput), errors);\n        } else {\n            mergeError(\n                FormSection.toAssetInput,\n                new ToAssetAmountRequired(assetInfo[toAsset as number].symbol),\n                errors\n            );\n        }\n    }\n}\n\nfunction checkToAssetDropdown(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {toAsset},\n    } = props;\n    if (!toAsset) {\n        mergeError(FormSection.toAssetInput, new ToAssetNotSelected(), errors);\n    }\n}\n\n/**\n * priorities: checkToAssetDropdown > checkToAssetAmount\n */\nexport default [checkToAssetDropdown, checkToAssetAmount];\n","import {UserBalanceNotEnough, UserBalanceNotEnoughForFee} from '../../../error/error';\nimport {IAssetBalance} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport {existErrors, FormErrors, mergeError} from './index';\n\nfunction checkUserBalance(props: ExchangeProps, errors: FormErrors): void {\n    const {\n        form: {fromAssetAmount, fromAsset},\n        fromAssetBalance,\n        assetInfo,\n    } = props;\n    //skip when any error exists on fromAssetInput\n    if (existErrors(() => true, errors, FormSection.fromAssetInput)) return;\n    if (fromAssetAmount && fromAssetBalance && fromAssetAmount.gt(fromAssetBalance)) {\n        mergeError(\n            FormSection.fromAssetInput,\n            new UserBalanceNotEnough(assetInfo[fromAsset as number], fromAssetAmount),\n            errors\n        );\n    }\n}\n\nfunction checkUserBalanceForFee(props: ExchangeProps, errors: FormErrors): string | undefined {\n    const {\n        form: {fromAssetAmount, fromAsset, feeAssetId, signingAccount},\n        txFee,\n        coreAssetId,\n        userAssetBalance,\n        assetInfo,\n    } = props;\n    if (!fromAssetAmount || !fromAsset || !txFee) return;\n    const feeAmount = coreAssetId === feeAssetId ? txFee.feeInCpay : txFee.feeInFeeAsset;\n    let balRequired = feeAmount;\n\n    if (fromAsset === feeAssetId && balRequired) {\n        balRequired = new Amount(balRequired.add(fromAssetAmount));\n    }\n    const assetBalance = userAssetBalance.find(\n        (assetBal: IAssetBalance) => assetBal.assetId === feeAssetId && assetBal.account === signingAccount\n    );\n\n    if (assetBalance) {\n        if (!balRequired || assetBalance.balance.lt(balRequired)) {\n            mergeError(\n                FormSection.form,\n                new UserBalanceNotEnoughForFee(assetInfo[feeAssetId as number], feeAmount, assetBalance.balance),\n                errors\n            );\n        }\n    }\n}\n\nexport default [checkUserBalance, checkUserBalanceForFee];\n","import {FormErrorTypes} from '../../../error/error';\nimport {ExchangeProps, FormSection} from '../exchange';\nimport fromAssetInputRules from './fromAssetInput';\nimport poolBalanceRules from './poolBalance';\nimport accountRules from './signingAccount';\nimport toAssetInputRules from './toAssetInput';\nimport userBalanceRules from './userBalance';\n\nexport function mergeError(field: FormSection, error: FormErrorTypes, errors: FormErrors): void {\n    if (!errors.has(field)) {\n        errors.set(field, []);\n    }\n    //@ts-ignore\n    errors.get(field).push(error);\n}\n\ntype ErrorFilter = (e: FormErrorTypes) => boolean;\n\nfunction flatternErrors(errors: FormErrors): FormErrorTypes[] {\n    const ret: FormErrorTypes[] = [];\n    for (const fieldErrors of errors.values()) {\n        ret.push(...fieldErrors);\n    }\n    return ret;\n}\n\nexport function existErrors(\n    errorFilter: string | string[] | ErrorFilter,\n    errors: FormErrors,\n    field?: FormSection\n): boolean {\n    let filter: ErrorFilter;\n    if (typeof errorFilter === 'string') {\n        filter = error => error.name === errorFilter;\n    } else if (errorFilter instanceof Array) {\n        filter = error => errorFilter.includes(error.name);\n    } else {\n        filter = errorFilter;\n    }\n\n    const errorList = field ? errors.get(field) || [] : flatternErrors(errors);\n\n    return errorList.findIndex(filter) > -1;\n}\n\n/**\n * priorities:\n * poolBalanceRules > fromAssetInputRules | toAssetInputRules\n * fromAssetInputRules > userBalanceRules\n */\nconst rules: ValidationRule[] = [\n    ...accountRules,\n    ...poolBalanceRules,\n    ...toAssetInputRules,\n    ...fromAssetInputRules,\n    ...userBalanceRules,\n];\n\nexport type FormErrors = Map<FormSection, FormErrorTypes[]>;\n\nexport interface ValidationRule {\n    (props: ExchangeProps, errors: FormErrors): void;\n}\n\nexport default function(props: ExchangeProps): FormErrors {\n    const retErrors = new Map<FormSection, FormErrorTypes[]>();\n    const {error} = props;\n    if (error.length) {\n        retErrors.set(FormSection.form, error);\n        return retErrors;\n    }\n    for (const rule of rules) {\n        rule(props, retErrors);\n    }\n    return retErrors;\n}\n","import {FeeRate} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {Button} from 'centrality-react-core';\nimport React, {FC, useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport AccountPicker from '../../components/AccountPicker';\nimport AdvancedSetting from '../../components/AdvancedSetting';\nimport AssetInputForAdd from '../../components/AssetInputForAdd';\nimport ErrorMessage from '../../components/Error/ErrorMessage';\nimport ExchangeIcon from '../../components/ExchangeIcon';\nimport Nav from '../../components/Nav';\nimport Page from '../../components/Page';\nimport PageInside from '../../components/PageInside';\nimport {BaseError, EmptyPool, FormErrorTypes} from '../../error/error';\nimport {AssetDetails} from '../../redux/reducers/global.reducer';\nimport {ExchangeState} from '../../redux/reducers/ui/exchange.reducer';\nimport {AmountParams, Asset, ExchangeFormData, IFee, IOption, LiquidityFormData} from '../../typings';\nimport {Amount} from '../../util/Amount';\nimport {Flex2, getDecimalPlaces} from '../liquidity/liquidity';\nimport getFormErrors from './validation';\nconst SWAP_OUTPUT = 'buyAsset';\nconst SWAP_INPUT = 'sellAsset';\n\nconst Line = styled.div`\n    border-bottom: 1px solid rgba(17, 48, 255, 0.3);\n    height: 1px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n`;\n\nconst Bottom = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n\n    h3 {\n        font-size: 14px;\n        text-align: center;\n        color: #4e5458;\n    }\n`;\n\nconst FullWidthContainer = styled.div`\n    width: 100%;\n`;\n\nconst Buttons = styled.div`\n    display: flex;\n    flex-direction: row;\n    margin-top: 20px;\n    justify-content: center;\n    min-width: 224px;\n\n    button {\n        border: 2px solid #1130ff;\n        color: #1130ff;\n        border-radius: 3px;\n        margin-right: 4px;\n\n        :disabled {\n            background-color: #ebeced;\n            color: #b5babd;\n            border-radius: 3px;\n            border: 2px solid #ebeced;\n        }\n\n        :hover {\n            border: 2px solid #1130ff;\n            background-color: #1130ff;\n            color: #ffffff;\n            border-radius: 3px;\n        }\n\n        :hover:disabled {\n            background-color: #ebeced;\n            color: #b5babd;\n            border-radius: 3px;\n            border: 2px solid #ebeced;\n        }\n    }\n`;\n\nconst SectionColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n`;\n\nconst ESTIMATED_LABEL = '(estimated)';\n\nexport enum FormSection {\n    account = 'account',\n    toAssetInput = 'toAssetInput',\n    fromAssetInput = 'fromAssetInput',\n    form = 'generalError',\n    recipientAddress = 'recipientAddress',\n}\n\nexport type ExchangeDispatchProps = {\n    handleBuyAssetAmountChange(amount: Amount): void;\n    handleWithAssetAmountChange(amount: Amount): void;\n    handleBuyAssetIdChange(assetId: number, form: ExchangeFormData, error: BaseError[]): void;\n    handleWithAssetIdChange(assetId: number, form: ExchangeFormData, error: BaseError[]): void;\n    handleFeeAssetChange(assetId: number): void;\n    handleSelectedAccountChange(account: string): void;\n    handleFeeBufferChange(feeBuffer: number): void;\n    handleSwap(): void;\n    handleReset(): void;\n    openTxDialog(form: ExchangeFormData, estimatedFee: IFee): void;\n};\n\nexport type ExchangeProps = {\n    accounts: IOption[];\n    /**\n     * user's balance of fromAsset\n     * TODO: merge this with userAssetBalance\n     */\n    fromAssetBalance: Amount;\n    toAssetBalance: Amount;\n    assets: Asset[];\n    // TODO: merge this with exchangePool\n    outputReserve: Amount;\n    exchangeRateMsg: string;\n    txFeeMsg: string;\n    coreAssetId: number;\n    feeRate: FeeRate;\n    assetInfo: AssetDetails[];\n} & ExchangeState;\n\nexport const Exchange: FC<ExchangeProps & ExchangeDispatchProps> = props => {\n    const [state, setState] = useState({touched: false, assetDialogOpen: false});\n    const {\n        accounts,\n        assets,\n        fromAssetBalance,\n        toAssetBalance,\n        error,\n        outputReserve,\n        txFee,\n        coreAssetId,\n        assetInfo,\n    } = props;\n    const {\n        toAsset,\n        toAssetAmount,\n        signingAccount,\n        extrinsic,\n        fromAsset,\n        fromAssetAmount,\n        feeAssetId,\n        buffer,\n    } = props.form;\n\n    // pre populate the asset drop down\n    useEffect((): void => {\n        if (assets.length) {\n            props.handleBuyAssetIdChange(assets[0].id, props.form as ExchangeFormData, props.error);\n            props.handleWithAssetIdChange(assets[1].id, props.form as ExchangeFormData, props.error);\n        }\n    }, [assets]);\n\n    const assetForEmptyPool = error.find(err => err instanceof EmptyPool);\n    const formErrors = state.touched ? getFormErrors(props) : new Map<FormSection, FormErrorTypes[]>();\n    let maxBuy;\n    if (outputReserve && toAssetBalance) {\n        // Take minimum of user and pool balance for max Buy amount.\n        maxBuy = new Amount(BN.min(new BN(outputReserve), new BN(toAssetBalance)));\n    } else if (outputReserve) {\n        // when no user is selected use 0 as max..\n        maxBuy = new Amount(0);\n    }\n\n    return (\n        <Page id={'page'}>\n            <form>\n                <PageInside>\n                    <Nav active=\"exchange\" />\n                    <AccountPicker\n                        title=\"Choose account\"\n                        selected={signingAccount as string}\n                        options={accounts}\n                        onChange={(picked: {label: string; value: string}) => {\n                            props.handleSelectedAccountChange(picked.value);\n                            setState({touched: true, assetDialogOpen: state.assetDialogOpen});\n                        }}\n                        message={signingAccount ? `Public Address: ${signingAccount}` : ''}\n                    />\n                    <Flex2>\n                        <ErrorMessage errors={formErrors} field={FormSection.account} />\n                    </Flex2>\n                    <Line />\n                    <AssetInputForAdd\n                        disableAmount={!!assetForEmptyPool}\n                        max={maxBuy}\n                        value={{amount: toAssetAmount as Amount, assetId: toAsset as number}}\n                        decimalPlaces={getDecimalPlaces(toAsset as number, assetInfo)}\n                        options={assets}\n                        onChange={(amountParams: AmountParams) => {\n                            if (amountParams.amountChange) {\n                                props.handleBuyAssetAmountChange(amountParams.amount);\n                            } else {\n                                props.handleBuyAssetIdChange(\n                                    amountParams.assetId,\n                                    props.form as ExchangeFormData,\n                                    props.error\n                                );\n                            }\n                            setState({touched: true, assetDialogOpen: state.assetDialogOpen});\n                        }}\n                        title=\"Buy\"\n                        secondaryTitle={extrinsic === SWAP_INPUT ? ESTIMATED_LABEL : null}\n                        message={props.exchangeRateMsg}\n                        errorBox={<ErrorMessage errors={formErrors} field={FormSection.toAssetInput} />}\n                    />\n                    <div>\n                        <ExchangeIcon\n                            onClick={() => {\n                                props.handleSwap();\n                                setState({touched: state.touched, assetDialogOpen: state.assetDialogOpen});\n                            }}\n                        />\n                    </div>\n\n                    <AssetInputForAdd\n                        disableAmount={!!assetForEmptyPool}\n                        max={fromAssetBalance}\n                        value={{amount: fromAssetAmount as Amount, assetId: fromAsset as number}}\n                        decimalPlaces={getDecimalPlaces(fromAsset as number, assetInfo)}\n                        options={assets}\n                        onChange={amountParams => {\n                            if (amountParams.amountChange) {\n                                props.handleWithAssetAmountChange(amountParams.amount);\n                            } else {\n                                props.handleWithAssetIdChange(\n                                    amountParams.assetId,\n                                    props.form as ExchangeFormData,\n                                    props.error\n                                );\n                            }\n                            setState({touched: true, assetDialogOpen: state.assetDialogOpen});\n                        }}\n                        title=\"With\"\n                        secondaryTitle={extrinsic === SWAP_OUTPUT ? ESTIMATED_LABEL : null}\n                        message={\n                            fromAssetBalance\n                                ? `Balance: ${fromAssetBalance.asString(assetInfo[fromAsset as number].decimalPlaces)}`\n                                : ''\n                        }\n                        errorBox={<ErrorMessage errors={formErrors} field={FormSection.fromAssetInput} />}\n                    />\n                </PageInside>\n                <PageInside>\n                    <SectionColumn>\n                        <Bottom id=\"bottom\">\n                            <FullWidthContainer>\n                                <Buttons id=\"buttons\">\n                                    <Button\n                                        flat\n                                        primary\n                                        disabled={formErrors.size > 0 || !txFee}\n                                        onClick={() =>\n                                            props.openTxDialog(props.form as ExchangeFormData, props.txFee as IFee)\n                                        }\n                                    >\n                                        Exchange\n                                    </Button>\n                                </Buttons>\n                            </FullWidthContainer>\n                        </Bottom>\n                    </SectionColumn>\n                </PageInside>\n                <AdvancedSetting\n                    show={!!(toAsset && fromAsset)}\n                    assets={assets}\n                    onAssetChange={(assetId: number) => {\n                        props.handleFeeAssetChange(assetId);\n                    }}\n                    onBufferChange={(buffer: number) => {\n                        props.handleFeeBufferChange(buffer);\n                    }}\n                    formErrors={formErrors}\n                    summaryProps={{\n                        extrinsic,\n                        feeAssetId,\n                        coreAssetId,\n                        txFee,\n                        toAssetAmount,\n                        toAsset,\n                        fromAssetAmount,\n                        fromAsset,\n                        buffer,\n                    }}\n                    title={'Advanced settings'}\n                    selectTitle={'Pay transaction fee with'}\n                    spinner={false}\n                    buffer={buffer as number}\n                    selectOptions={assets}\n                    selectValue={feeAssetId as number}\n                    assetInfo={assetInfo}\n                />\n            </form>\n        </Page>\n    );\n};\n","import React from 'react';\nimport {createSelector} from 'reselect';\nimport {AppState} from '../../redux/reducers';\nimport {Asset, IAssetBalance, IExchangePool} from '../../typings';\nimport {Amount} from '../../util/Amount';\n\nconst getBuffer = (state: AppState) => state.ui.exchange.form.buffer;\nconst getToAsset = (state: AppState) => state.ui.exchange.form.toAsset;\nconst getSigningAccount = (state: AppState) => state.ui.exchange.form.signingAccount;\nconst getFromAsset = (state: AppState) => state.ui.exchange.form.fromAsset;\nconst getToAssetAmount = (state: AppState) => state.ui.exchange.form.toAssetAmount;\nconst getFromAssetAmount = (state: AppState) => state.ui.exchange.form.fromAssetAmount;\nconst getExchangePool = (state: AppState) => state.ui.exchange.exchangePool;\nconst getExchangeRate = (state: AppState) => state.ui.exchange.exchangeRate;\nconst getTxFee = (state: AppState) => state.ui.exchange.txFee;\nconst getFeeAssetId = (state: AppState) => state.ui.exchange.form.feeAssetId;\nconst getCoreAsset = (state: AppState) => state.global.coreAssetId;\nconst getUserAssetBalance = (state: AppState) => state.ui.exchange.userAssetBalance;\nconst getAssetInfo = (state: AppState) => state.global.assetInfo;\n\nexport const getAssets = createSelector(\n    [getAssetInfo],\n    assetInfo => {\n        const newAssetList: any = [];\n        assetInfo &&\n            assetInfo.forEach(asset => {\n                const assetObject = {\n                    symbol: asset.symbol,\n                    id: asset.id,\n                };\n                newAssetList.push(assetObject);\n            });\n        return newAssetList;\n    }\n);\n\nexport const getFromAssetUserBalance = createSelector(\n    [getFromAsset, getUserAssetBalance, getSigningAccount],\n    (fromAsset, userBalance, signingAccount) => {\n        if (!fromAsset) return null;\n        if (!userBalance.length) return null;\n        const fromAssetBalance = userBalance.find(\n            (bal: IAssetBalance) => bal.assetId === fromAsset && bal.account === signingAccount\n        );\n        if (fromAssetBalance) {\n            return fromAssetBalance.balance;\n        }\n        return null;\n    }\n);\n\nexport const getToAssetUserBalance = createSelector(\n    [getToAsset, getUserAssetBalance, getSigningAccount],\n    (toAsset, userBalance, signingAccount) => {\n        if (!toAsset) return null;\n        if (!userBalance.length) return null;\n        const toAssetBalance = userBalance.find(\n            (bal: IAssetBalance) => bal.assetId === toAsset && bal.account === signingAccount\n        );\n        if (toAssetBalance) {\n            return toAssetBalance.balance;\n        }\n        return null;\n    }\n);\n\nexport const getOutputReserve = createSelector(\n    [getToAsset, getExchangePool, getCoreAsset],\n    (toAsset, exchangePool, coreAsset) => {\n        if (!toAsset) return null;\n        if (!exchangePool.length) return null;\n        const poolBalanceForBuyAsset = exchangePool.find((poolData: IExchangePool) => poolData.assetId === toAsset);\n        if (poolBalanceForBuyAsset) {\n            return poolBalanceForBuyAsset.assetBalance;\n        } else if (String(toAsset) === String(coreAsset)) {\n            return exchangePool[0].coreAssetBalance; // core asset is selected as TO asset.\n        }\n    }\n);\n\nconst getOptionByValue = (options: Asset[], valueOfSelectedItem: number) =>\n    options ? options.find(item => item.id === valueOfSelectedItem) || null : null;\n\nexport const getExchangeRateMsg = createSelector(\n    [\n        getExchangeRate,\n        getAssets,\n        getFromAsset,\n        getToAsset,\n        getTxFee,\n        getCoreAsset,\n        getFeeAssetId,\n        getFromAssetAmount,\n        getAssetInfo,\n    ],\n    (exchangeRate, assets, fromAsset, toAsset, txFee, coreAsset, feeAssetId, fromeAmount, assetInfo) => {\n        if (!fromeAmount || !exchangeRate) return;\n        let fee;\n        const assetSymbol = assetInfo[feeAssetId as number].symbol;\n        if (coreAsset && coreAsset === feeAssetId && txFee) {\n            fee = `${txFee.feeInCpay.asString(assetInfo[feeAssetId].decimalPlaces)} ${assetSymbol}`;\n        } else if (txFee && txFee.feeInFeeAsset) {\n            fee = `${txFee.feeInFeeAsset.asString(\n                assetInfo[feeAssetId as number].decimalPlaces\n            )} (converted to ${txFee.feeInCpay.asString(assetInfo[coreAsset as number].decimalPlaces)} CPAY)`;\n        }\n        const feeString = fee ? `Transaction fee (estimated) : ${fee}` : '';\n\n        const rate = exchangeRate.asString(assetInfo[toAsset as number].decimalPlaces);\n        return exchangeRate\n            ? //@ts-ignore\n              `Exchange rate: 1 ${getOptionByValue(assets, fromAsset).symbol} = ${rate} ${\n                  //@ts-ignore\n                  getOptionByValue(assets, toAsset).symbol\n              }. ${feeString}`\n            : '';\n    }\n);\n\nexport const getTxFeeMessage = createSelector(\n    [getTxFee, getAssets, getFeeAssetId, getCoreAsset, getAssetInfo],\n    (txFee, assets, feeAssetId, coreAsset, assetInfo) => {\n        let fee;\n        if (String(feeAssetId) === String(coreAsset) && txFee) {\n            // If fee asset is CPAY use cpayFee\n            fee = txFee.feeInCpay.asString(assetInfo[feeAssetId as number].decimalPlaces, Amount.ROUND_UP);\n            //@ts-ignore\n            return `Transaction fee is ${fee} ${getOptionByValue(assets, feeAssetId).symbol}`;\n        } else if (txFee && txFee.feeInFeeAsset) {\n            fee = txFee.feeInFeeAsset.asString(assetInfo[feeAssetId as number].decimalPlaces, Amount.ROUND_UP);\n            return `Transaction fee is ${fee} ${\n                //@ts-ignore\n                getOptionByValue(assets, feeAssetId).symbol\n            } (converted to ${txFee.feeInCpay.asString(\n                assetInfo[coreAsset as number].decimalPlaces,\n                Amount.ROUND_UP\n            )} CPAY)`;\n        }\n    }\n);\n","import {FeeRate} from '@cennznet/types/interfaces/cennzx';\nimport {connect} from 'react-redux';\nimport {Dispatch} from 'redux';\nimport {BaseError, EmptyPool} from '../../error/error';\nimport {\n    removeExchangeError,\n    resetError,\n    resetTrade,\n    setFromAssetAmount,\n    setToAssetAmount,\n    swapAsset,\n    updateExtrinsic,\n    updateFeeAsset,\n    updateSelectedAccount,\n    updateSelectedFromAsset,\n    updateSelectedToAsset,\n    updateTransactionBuffer,\n} from '../../redux/actions/ui/exchange.action';\nimport {openDialog} from '../../redux/actions/ui/txDialog.action';\nimport {AppState} from '../../redux/reducers';\nimport {ExchangeFormData, IAccounts, IExtrinsic, IFee} from '../../typings';\nimport {Amount} from '../../util/Amount';\nimport {prepareExchangeExtrinsicParamsWithBuffer, SWAP_INPUT, SWAP_OUTPUT} from '../../util/extrinsicUtil';\nimport {Exchange, ExchangeProps} from './exchange';\nimport {\n    getAssets,\n    getExchangeRateMsg,\n    getFromAssetUserBalance,\n    getOutputReserve,\n    getToAssetUserBalance,\n    getTxFeeMessage,\n} from './selectors';\n\nconst errorInstanceForPreviousEmptyPool = (error: BaseError[], assetId) => {\n    let errInstance: null | EmptyPool = null;\n    error.forEach(function(err) {\n        if (err instanceof EmptyPool) {\n            const emptyPoolForAsset = (err as EmptyPool).asset.id;\n            if (emptyPoolForAsset === assetId) {\n                errInstance = err;\n            }\n        }\n    });\n    return errInstance;\n};\n\nconst mapStateToProps = (state: AppState): ExchangeProps => ({\n    ...state.ui.exchange,\n    assetInfo: state.global.assetInfo,\n    coreAssetId: state.global.coreAssetId as number,\n    feeRate: state.global.feeRate as FeeRate,\n    assets: getAssets(state),\n    fromAssetBalance: getFromAssetUserBalance(state) as Amount,\n    toAssetBalance: getToAssetUserBalance(state) as Amount,\n    accounts: state.extension.accounts.map((account: IAccounts) => ({\n        label: `${account.name}`,\n        value: account.address,\n    })),\n    outputReserve: getOutputReserve(state) as Amount,\n    exchangeRateMsg: getExchangeRateMsg(state) as string,\n    txFeeMsg: getTxFeeMessage(state) as string,\n    // isDialogOpen: state.ui.txDialog.stage ? true : false,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    handleFeeBufferChange: (buffer: number) => {\n        dispatch(updateTransactionBuffer(buffer));\n    },\n    handleSelectedAccountChange: (account: string) => {\n        dispatch(updateSelectedAccount(account));\n    },\n    handleBuyAssetAmountChange: (amount: Amount) => {\n        dispatch(setToAssetAmount(amount));\n        dispatch(updateExtrinsic(SWAP_OUTPUT));\n        dispatch(resetError());\n    },\n    handleWithAssetAmountChange: (amount: Amount) => {\n        dispatch(setFromAssetAmount(amount));\n        dispatch(updateExtrinsic(SWAP_INPUT));\n        dispatch(resetError());\n    },\n    handleBuyAssetIdChange: (assetId: number, {fromAsset, toAsset}: ExchangeFormData, error: BaseError[]) => {\n        if (fromAsset === assetId) {\n            dispatch(swapAsset());\n        } else {\n            const errorToRemove = errorInstanceForPreviousEmptyPool(error, toAsset);\n            if (errorToRemove) {\n                dispatch(removeExchangeError(errorToRemove));\n            }\n            dispatch(updateSelectedToAsset(assetId));\n        }\n    },\n    handleWithAssetIdChange: (assetId: number, {fromAsset, toAsset}: ExchangeFormData, error: BaseError[]) => {\n        if (toAsset === assetId) {\n            dispatch(swapAsset());\n        } else {\n            const errorToRemove = errorInstanceForPreviousEmptyPool(error, fromAsset);\n            if (errorToRemove) {\n                dispatch(removeExchangeError(errorToRemove));\n            }\n            dispatch(updateSelectedFromAsset(assetId));\n        }\n    },\n    handleFeeAssetChange: (assetId: number) => {\n        dispatch(updateFeeAsset(assetId));\n    },\n    handleSwap: () => {\n        dispatch(swapAsset());\n    },\n    handleReset: () => {\n        dispatch(resetTrade());\n    },\n    openTxDialog: (\n        {\n            extrinsic,\n            fromAsset,\n            toAsset,\n            toAssetAmount,\n            fromAssetAmount,\n            signingAccount,\n            feeAssetId,\n            buffer,\n        }: ExchangeFormData,\n        txFee: IFee\n    ) => {\n        const paramList = prepareExchangeExtrinsicParamsWithBuffer(extrinsic, {\n            fromAsset,\n            toAsset,\n            toAssetAmount,\n            fromAssetAmount,\n            signingAccount,\n            feeAssetId,\n            buffer,\n        });\n        const extrinsicForDialog: IExtrinsic = {\n            method: extrinsic,\n            params: paramList,\n            price: extrinsic === SWAP_OUTPUT ? fromAssetAmount : toAssetAmount,\n        };\n        dispatch(\n            openDialog({\n                title: 'exchange',\n                signingAccount,\n                extrinsic: extrinsicForDialog,\n                feeInFeeAsset: txFee,\n                feeAssetId,\n            })\n        );\n    },\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Exchange);\n","import {createSelector} from 'reselect';\nimport {AppState} from '../../redux/reducers';\nimport {Asset, IAssetBalance, IExchangePool, IUserShareInPool} from '../../typings';\nimport {Amount} from '../../util/Amount';\n\nconst getBuffer = (state: AppState) => state.ui.liquidity.form.buffer;\nconst getAsset = (state: AppState) => state.ui.liquidity.form.assetId;\nconst getSigningAccount = (state: AppState) => state.ui.liquidity.form.signingAccount;\nconst getAssetAmount = (state: AppState) => state.ui.liquidity.form.assetAmount;\nconst getCoreAmount = (state: AppState) => state.ui.liquidity.form.coreAmount;\nconst getExchangePool = (state: AppState) => state.ui.liquidity.exchangePool;\nconst getExchangeRate = (state: AppState) => state.ui.liquidity.exchangeRate;\nconst getTxFee = (state: AppState) => state.ui.liquidity.txFee;\nconst getFeeAssetId = (state: AppState) => state.ui.liquidity.form.feeAssetId;\nconst getCoreAsset = (state: AppState) => state.global.coreAssetId;\nconst getUserAssetBalance = (state: AppState) => state.ui.liquidity.userAssetBalance;\nconst getAllUserPoolShare = (state: AppState) => state.ui.liquidity.userPoolShare;\nconst getAssetInfo = (state: AppState) => state.global.assetInfo;\n\nexport const getAssets = createSelector(\n    [getAssetInfo],\n    assetInfo => {\n        const newAssetList: any = [];\n        assetInfo &&\n            assetInfo.forEach(asset => {\n                const assetObject = {\n                    symbol: asset.symbol,\n                    id: asset.id,\n                };\n                newAssetList.push(assetObject);\n            });\n        return newAssetList;\n    }\n);\n\nexport const getUserPoolShare = createSelector(\n    [getAsset, getAllUserPoolShare, getSigningAccount],\n    (assetId, poolShare, signingAccount) => {\n        if (!assetId) return null;\n        //@ts-ignore\n        if (!poolShare.length) return null;\n        //@ts-ignore\n        const accountAssetBalance = poolShare.find(\n            (share: IUserShareInPool) => share.assetId === assetId && share.address === signingAccount\n        );\n        return accountAssetBalance;\n    }\n);\n\n// always fixed to CPAY\nexport const getLiquidityExchangeRate = createSelector(\n    [getAsset, getAssetAmount, getCoreAsset],\n    (asset, add1Amount, getCoreAsset) => {}\n);\n\nexport const getAccountAssetBalance = createSelector(\n    [getAsset, getUserAssetBalance, getSigningAccount],\n    (assetId, userBalance, signingAccount) => {\n        if (!assetId) return null;\n        if (!userBalance.length) return null;\n        const accountAssetBalance = userBalance.find(\n            (bal: IAssetBalance) => bal.assetId === assetId && bal.account === signingAccount\n        );\n        if (accountAssetBalance) {\n            return accountAssetBalance.balance;\n        }\n        return null;\n    }\n);\n\nexport const getAccountCoreBalance = createSelector(\n    [getCoreAsset, getUserAssetBalance, getSigningAccount],\n    (coreAsset, userBalance, signingAccount) => {\n        if (!coreAsset) return null;\n        const coreAssetId = +coreAsset.toString();\n        if (!userBalance.length) return null;\n        const coreAssetBalance = userBalance.find(\n            (bal: IAssetBalance) => bal.assetId === coreAssetId && bal.account === signingAccount\n        );\n        if (coreAssetBalance) {\n            return coreAssetBalance.balance;\n        }\n        return null;\n    }\n);\n\nexport const getAssetReserve = createSelector(\n    [getAsset, getExchangePool, getCoreAsset],\n    (asset, exchangePool, coreAsset) => {\n        if (!asset) return null;\n        if (!exchangePool.length) return null;\n        const poolBalanceForBuyAsset = exchangePool.find((poolData: IExchangePool) => poolData.assetId === asset);\n        if (poolBalanceForBuyAsset) {\n            return poolBalanceForBuyAsset.assetBalance;\n            //@ts-ignore\n        } else if (asset.toString() === coreAsset.toString()) {\n            return exchangePool[0].coreAssetBalance;\n        }\n    }\n);\n\nexport const getCoreReserve = createSelector(\n    [getAsset, getExchangePool],\n    (asset, exchangePool) => {\n        if (!asset) return null;\n        if (!exchangePool.length) return null;\n        const poolBalanceForBuyAsset = exchangePool.find((poolData: IExchangePool) => poolData.assetId === asset);\n        if (poolBalanceForBuyAsset) {\n            return poolBalanceForBuyAsset.coreAssetBalance;\n        }\n    }\n);\n\nconst getOptionByValue = (options: Asset[], valueOfSelectedItem: number) =>\n    options ? options.find(item => item.id === valueOfSelectedItem) || null : null;\n\nexport const getExchangeRateMsg = createSelector(\n    [getExchangeRate, getAssets, getCoreAsset, getAsset, getCoreAmount, getAssetInfo],\n    (exchangeRate, assets, coreAsset, asset, coreAmount, assetInfo) => {\n        if (!coreAmount || !exchangeRate) return;\n        const rate = exchangeRate.asString(assetInfo[asset as number].decimalPlaces);\n        return exchangeRate\n            ? //@ts-ignore\n              `Exchange rate: 1 ${getOptionByValue(assets, coreAsset).symbol} = ${rate} ${\n                  //@ts-ignore\n                  getOptionByValue(assets, asset).symbol\n              }.`\n            : '';\n    }\n);\nexport const getFee = createSelector(\n    [getTxFee, getCoreAsset, getFeeAssetId, getAssetInfo],\n    (txFee, coreAsset, feeAssetId, assetInfo) => {\n        let fee;\n        const assetSymbol =\n            assetInfo.length > 0 && assetInfo[feeAssetId as number] ? assetInfo[feeAssetId as number].symbol : 'CPAY';\n        if (coreAsset && coreAsset === feeAssetId && txFee) {\n            fee = `${txFee.feeInCpay.asString(assetInfo[feeAssetId].decimalPlaces)} ${assetSymbol}`;\n        } else if (txFee && txFee.feeInFeeAsset) {\n            fee = `${txFee.feeInFeeAsset.asString(assetInfo[coreAsset as number].decimalPlaces)} ${assetSymbol})`;\n        }\n        return fee;\n    }\n);\n\nexport const getTxFeeMessage = createSelector(\n    [getTxFee, getAssets, getFeeAssetId, getCoreAsset, getAssetInfo],\n    (txFee, assets, feeAssetId, coreAsset, assetInfo) => {\n        let fee;\n        if (String(feeAssetId) === String(coreAsset) && txFee) {\n            // If fee asset is CPAY use cpayFee\n            fee = txFee.feeInCpay.asString(assetInfo[coreAsset as number].decimalPlaces, Amount.ROUND_UP);\n            //@ts-ignore\n            return `Transaction fee is ${fee} ${getOptionByValue(assets, feeAssetId).symbol}`;\n        } else if (txFee && txFee.feeInFeeAsset) {\n            fee = txFee.feeInFeeAsset.asString(assetInfo[feeAssetId as number].decimalPlaces, Amount.ROUND_UP);\n            return `Transaction fee is ${fee} ${\n                //@ts-ignore\n                getOptionByValue(assets, feeAssetId).symbol\n            } (converted to ${txFee.feeInCpay.asString(\n                assetInfo[coreAsset as number].decimalPlaces,\n                Amount.ROUND_UP\n            )} CPAY)`;\n        }\n    }\n);\n","import {FeeRate} from '@cennznet/types/interfaces/cennzx';\nimport {stat} from 'fs';\nimport {connect} from 'react-redux';\nimport {Dispatch} from 'redux';\nimport {BaseError, EmptyPool} from '../../error/error';\n\nimport {\n    removeLiquidityError,\n    requestTransactionFee,\n    resetLiquidity,\n    setAsset1Amount,\n    setAsset2Amount,\n    setLiquidityAction,\n    updateExtrinsic,\n    updateSelectedAccount,\n    updateSelectedAsset1,\n    updateTransactionBuffer,\n} from '../../redux/actions/ui/liquidity.action';\nimport {openDialog} from '../../redux/actions/ui/txDialog.action';\nimport {AppState} from '../../redux/reducers';\nimport {IAccounts, IExtrinsic, IFee, IUserShareInPool, LiquidityFormData} from '../../typings';\nimport {Amount} from '../../util/Amount';\nimport {ADD_LIQUIDITY, prepareExchangeExtrinsicParamsWithBuffer, REMOVE_LIQUIDITY} from '../../util/extrinsicUtil';\nimport {Liquidity, LiquidityAction, LiquidityProps} from './liquidity';\nimport {\n    getAccountAssetBalance,\n    getAccountCoreBalance,\n    getAssetReserve,\n    getAssets,\n    getCoreReserve,\n    getExchangeRateMsg,\n    getFee,\n    getTxFeeMessage,\n    getUserPoolShare,\n} from './selectors';\n\nconst errorInstanceForPreviousEmptyPool = (error: BaseError[], assetId) => {\n    let errInstance: null | EmptyPool = null;\n    error.forEach(function(err) {\n        if (err instanceof EmptyPool) {\n            const emptyPoolForAsset = (err as EmptyPool).asset.id;\n            if (emptyPoolForAsset === assetId) {\n                errInstance = err;\n            }\n        }\n    });\n    return errInstance;\n};\n\nconst mapStateToProps = (state: AppState): LiquidityProps => ({\n    ...state.ui.liquidity,\n    coreAssetId: state.global.coreAssetId as number,\n    feeRate: state.global.feeRate as FeeRate,\n    assetInfo: state.global.assetInfo,\n    assets: getAssets(state),\n    assetReserve: getAssetReserve(state) as Amount,\n    accountAssetBalance: getAccountAssetBalance(state) as Amount,\n    accountCoreBalance: getAccountCoreBalance(state) as Amount,\n    coreReserve: getCoreReserve(state) as Amount,\n    accounts: state.extension.accounts.map((account: IAccounts) => ({\n        label: `${account.name}`,\n        value: account.address,\n    })),\n    fee: getFee(state),\n    exchangeRateMsg: getExchangeRateMsg(state),\n    txFeeMsg: getTxFeeMessage(state) as string,\n    userShareInPool: getUserPoolShare(state) as IUserShareInPool,\n    // isDialogOpen: state.ui.txDialog.stage ? true : false,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    handleAssetAmountChange: (amount: Amount) => {\n        dispatch(setAsset1Amount(amount));\n        dispatch(requestTransactionFee());\n    },\n    handleCoreAmountChange: (amount: Amount) => {\n        dispatch(setAsset2Amount(amount));\n        dispatch(requestTransactionFee());\n    },\n    handleSelectedAccountChange: (account: string) => {\n        dispatch(updateSelectedAccount(account));\n    },\n    handleLiquidityAction: (type: string) => {\n        dispatch(setLiquidityAction(type));\n        dispatch(updateExtrinsic(type === LiquidityAction.ADD ? ADD_LIQUIDITY : REMOVE_LIQUIDITY));\n    },\n\n    handleFeeBufferChange: (buffer: number) => {\n        dispatch(updateTransactionBuffer(buffer));\n    },\n    handleAssetIdChange: (newAssetId: number, {assetId, coreAmount}: LiquidityFormData, error: BaseError[]) => {\n        const errorToRemove = errorInstanceForPreviousEmptyPool(error, newAssetId);\n        if (errorToRemove) {\n            dispatch(removeLiquidityError(errorToRemove));\n        }\n        dispatch(updateSelectedAsset1(newAssetId));\n    },\n    handleExtrinsicChange: (Extrinsic: string) => {\n        Extrinsic === LiquidityAction.ADD\n            ? dispatch(updateExtrinsic(ADD_LIQUIDITY))\n            : dispatch(updateExtrinsic(REMOVE_LIQUIDITY));\n    },\n    handleReset: () => {\n        dispatch(resetLiquidity());\n    },\n    openTxDialog: (\n        {\n            extrinsic,\n            signingAccount,\n            feeAssetId,\n            assetAmount,\n            coreAmount,\n            assetId,\n            coreAssetId,\n            buffer,\n            type,\n        }: LiquidityFormData,\n        txFee: IFee\n    ) => {\n        const paramList = prepareExchangeExtrinsicParamsWithBuffer(extrinsic, {\n            assetId,\n            coreAssetId,\n            coreAmount,\n            assetAmount,\n        });\n        const extrinsicForDialog: IExtrinsic = {\n            method: extrinsic || ADD_LIQUIDITY,\n            params: paramList,\n            price: extrinsic === ADD_LIQUIDITY ? assetAmount : coreAmount,\n        };\n        dispatch(\n            openDialog({\n                title: 'liquidity',\n                signingAccount,\n                extrinsic: extrinsicForDialog,\n                feeInFeeAsset: txFee,\n                feeAssetId: feeAssetId,\n            })\n        );\n    },\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Liquidity);\n","import {Modal, ModalBody, ModalFooter} from 'centrality-react-core';\nimport React, {FC, ReactNode} from 'react';\nimport styled from 'styled-components';\n\nconst Content = styled.div``;\n\nconst Header = styled.h1`\n    margin-top: 0px;\n`;\n\nconst ModalStyled = styled(Modal as any)`\n    border-radius: 3px;\n    color: black;\n`;\n\nconst FooterContainer = styled.div`\n    display: flex;\n    width: 100%;\n`;\n\nexport interface DialogProps {\n    title: ReactNode;\n    body: ReactNode;\n    footer: ReactNode;\n    isOpen: boolean;\n}\n\nconst Dialog: FC<DialogProps> = ({title, body, footer, isOpen}) => (\n    <ModalStyled isOpen={isOpen}>\n        <ModalBody>\n            <Header>{title}</Header>\n            <Content>{body}</Content>\n        </ModalBody>\n        <ModalFooter>\n            <FooterContainer>{footer}</FooterContainer>\n        </ModalFooter>\n    </ModalStyled>\n);\n\nexport default Dialog;\n","import {Button} from 'centrality-react-core';\nimport styled from 'styled-components';\n\nexport const YellowButton = styled(Button as any)`\n    font-size: 14px;\n    border: 2px solid transparent;\n    background-color: #ffd133;\n    border-radius: 3px;\n    color: #4e5458;\n\n    :hover {\n        border: 2px solid #000000;\n        background-color: #4e5458;\n        color: #ffd133;\n    }\n`;\n\nexport const BlueButton = styled(Button as any)`\n    font-size: 14px;\n    border: 2px solid #1130ff;\n    background-color: #1130ff;\n    border-radius: 3px;\n    color: white;\n    margin-right: auto;\n\n    :hover {\n        border: 2px solid #1130ff;\n        background-color: white;\n        color: #1130ff;\n    }\n`;\n\nexport const RedButton = styled(Button as any)`\n    font-size: 14px;\n    border: 2px solid #ef454b;\n    background-color: #ef454b;\n    border-radius: 3px;\n    color: white;\n    font-family: 'Open Sans', sans-serif;\n\n    :hover {\n        border: 2px solid #ef454b;\n        background-color: white;\n        color: #ef454b;\n    }\n`;\n\nexport const DisabledButton = styled(Button as any)`\n    font-size: 14px;\n    background-color: #ebeced;\n    border-radius: 3px;\n    color: #b5babd;\n`;\n","import {packageInfo} from '@polkadot/extension-dapp/packageInfo';\nimport {InjectedExtension, MetadataDef} from '@polkadot/extension-inject/types';\nimport {Link} from '@reach/router';\nimport React, {FC, useState} from 'react';\nimport styled from 'styled-components';\nimport Dialog, {DialogProps} from './Dialog';\nimport {BlueButton} from './DialogButtons';\n\nconst Container = styled.div`\n    display: flex;\n    width: 40%;\n    justify-content: space-around;\n`;\n\nconst getDialogBody = (detected: boolean, connected: boolean, metadata) => {\n    if (!detected) {\n        return (\n            <div>\n                CENNZX requires the CENNZnet browser extension to manage transaction signing.\n                <br />\n                Please{' '}\n                <a\n                    href=\"https://chrome.google.com/webstore/detail/cennznet-extension/feckpephlmdcjnpoclagmaogngeffafk/related?hl=en\"\n                    target=\"_blank\"\n                >\n                    install\n                </a>\n            </div>\n        );\n    } else if (!connected) {\n        // Polkadot is not allowed to access this site - show relevant message\n        return 'CENNZX is disallowed in your CENNZnet extension settings. Go to \\'Manage website access\\' and allow this site to continue.';\n    } else if (!metadata) {\n        // Update metadata, wait until it gets loaded\n        return 'Please wait.. getting the latest metadata file for the best experience with CENNZX & CENNZnet extension.';\n    } else {\n        // Update metadata\n        return 'Install the latest metadata file for the best experience with CENNZX & CENNZnet extension.';\n    }\n};\n\nconst getDialogFooter = (\n    setDialogOpen: Function,\n    extensionConnected: boolean,\n    cennznetExtension: InjectedExtension,\n    metadataDef: MetadataDef\n) => {\n    return (\n        <Container>\n            {extensionConnected === false || metadataDef === undefined ? null : (\n                <BlueButton\n                    onClick={async () => {\n                        const metadata = cennznetExtension.metadata;\n                        //@ts-ignore\n                        const data = await metadata.provide(metadataDef as MetadataDef);\n                        const {chain, specVersion} = metadataDef;\n                        localStorage.setItem(\n                            `${packageInfo.version}-${chain}${specVersion}-EXTENSION_META_UPDATED`,\n                            'true'\n                        );\n                        setDialogOpen(false);\n                    }}\n                >\n                    Update Metadata\n                </BlueButton>\n            )}\n            <BlueButton\n                onClick={async () => {\n                    setDialogOpen(false);\n                }}\n            >\n                Cancel\n            </BlueButton>\n        </Container>\n    );\n};\n\n// extend the props excluding handled ones and including extra ones\nexport type AppDialogProps = Pick<DialogProps, Exclude<keyof DialogProps, 'title' | 'body' | 'footer' | 'isOpen'>> & {\n    extensionConnected: boolean;\n    extensionDetected: boolean;\n    cennznetExtension: InjectedExtension;\n    metadata: MetadataDef;\n};\n\nconst AppDialog: FC<AppDialogProps> = props => {\n    const {extensionDetected, extensionConnected, cennznetExtension, metadata} = props;\n    const [isDialogOpen, setDialogOpen] = useState(true);\n\n    return (\n        <Dialog\n            {...props}\n            isOpen={isDialogOpen}\n            title={'Connect to CENNZnet extension'}\n            body={getDialogBody(extensionDetected, extensionConnected, metadata)}\n            footer={getDialogFooter(setDialogOpen, extensionConnected, cennznetExtension, metadata)}\n        />\n    );\n};\n\nexport default AppDialog;\n","import React, {FC} from 'react';\nimport styled from 'styled-components';\n\ninterface ExternalLinkProps {\n    url: string;\n    text: string;\n}\n\nconst ExternalLink: FC<ExternalLinkProps> = ({url, text}) => (\n    <TruncateLink href={url} target=\"_new\">\n        {text}\n    </TruncateLink>\n);\n\nexport default ExternalLink;\n\nconst TruncateLink = styled.a`\n     {\n        display: inline-block;\n        width: 43rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n`;\n","import {EventRecord} from '@cennznet/types';\nimport BN from 'bn.js';\nimport React, {FC, useState} from 'react';\nimport {AssetDetails} from '../../../redux/reducers/global.reducer';\nimport {Stages} from '../../../redux/reducers/ui/txDialog.reducer';\nimport {IExtrinsic, IFee} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport {ADD_LIQUIDITY, REMOVE_LIQUIDITY, SWAP_INPUT, SWAP_OUTPUT} from '../../../util/extrinsicUtil';\nimport {SummaryBuy} from '../../AdvancedSetting/SummaryBuy';\nimport SummaryFee from '../../AdvancedSetting/SummaryFee';\nimport ExternalLink from '../../ExternalLink';\n\ntype AssetSwapParams = [number, number, Amount, Amount];\n\nconst getCennzScanURL = txHash => `https://www.uncoverexplorer.com/extrinsic/${txHash}`;\n\nconst BodyForBroadcasted: FC<{txHash: string}> = ({txHash}) => (\n    <div>\n        It may take a while for this transaction to appear in your wallet. Keep refreshing your transaction history, or\n        track the transaction progress by clicking the transaction hash below. <br /> Transaction hash:\n        <ExternalLink url={getCennzScanURL(txHash)} text={txHash} />\n    </div>\n);\n\ntype BodyForFinalisedProps = {\n    success: boolean;\n    events: EventRecord[];\n    txHash?: string;\n    actualTxFee?: Amount;\n    feeExchangeResult?: any;\n    extrinsic: IExtrinsic;\n    assetInfo: AssetDetails[];\n    feeAssetId: number;\n};\nconst BodyForFinalised: FC<BodyForFinalisedProps> = ({\n    success,\n    txHash,\n    events,\n    actualTxFee,\n    feeExchangeResult,\n    extrinsic: {method, params, price},\n    assetInfo,\n    feeAssetId,\n}) => {\n    let message;\n    if (method === SWAP_INPUT || method === SWAP_OUTPUT) {\n        const [fromAsset, toAsset, fromAssetAmount, toAssetAmount] = params as AssetSwapParams;\n        const toAssetDecimalPlaces = assetInfo[toAsset].decimalPlaces;\n        const toAssetSymbol = assetInfo[toAsset].symbol;\n        const fromAssetDecimalPlaces = assetInfo[fromAsset].decimalPlaces;\n        const fromAssetSymbol = assetInfo[fromAsset].symbol;\n        if (success) {\n            message = `You successfully exchanged ${toAssetAmount.asString(toAssetDecimalPlaces)} ${toAssetSymbol} with \n                    ${fromAssetAmount.asString(fromAssetDecimalPlaces)} ${fromAssetSymbol}.`;\n        } else {\n            message = `Your transaction to exchange ${toAssetAmount.asString(\n                toAssetDecimalPlaces\n            )} ${toAssetSymbol} with \n                    ${fromAssetAmount.asString(fromAssetDecimalPlaces)} ${fromAssetSymbol} has failed.`;\n        }\n    } else if (method === ADD_LIQUIDITY || method === REMOVE_LIQUIDITY) {\n        const [assetId, coreAssetId, coreAmount, assetAmount] = params as AssetSwapParams;\n        const coreAssetDecimalPlaces = assetInfo[coreAssetId].decimalPlaces;\n        const coreAssetSymbol = assetInfo[coreAssetId].symbol;\n        const assetDecimalPlaces = assetInfo[assetId].decimalPlaces;\n        const assetSymbol = assetInfo[assetId].symbol;\n        const place = method === ADD_LIQUIDITY ? 'in' : 'from';\n        if (success) {\n            const action = method === ADD_LIQUIDITY ? 'added' : 'withdrew';\n            message = `You successfully ${action} ${assetAmount.asString(assetDecimalPlaces)} ${assetSymbol} and\n                    ${coreAmount.asString(coreAssetDecimalPlaces)} ${coreAssetSymbol} ${place} the pool.`;\n        } else {\n            const action = method === ADD_LIQUIDITY ? 'add' : 'withdraw';\n            message = `Your transaction to ${action} liquidity of ${assetAmount.asString(\n                assetDecimalPlaces\n            )} ${assetSymbol} and\n                    ${coreAmount.asString(coreAssetDecimalPlaces)} ${coreAssetSymbol} ${place} the pool failed.`;\n        }\n    }\n\n    if (success) {\n        return (\n            <div>\n                {message}\n                <br />{' '}\n                {actualTxFee\n                    ? `The transaction fee was ${actualTxFee.asString(\n                          assetInfo[feeAssetId].decimalPlaces,\n                          Amount.ROUND_UP\n                      )} CPAY `\n                    : ''}\n                {feeExchangeResult\n                    ? `. with ${feeExchangeResult.amount.asString(\n                          assetInfo[feeAssetId].decimalPlaces,\n                          Amount.ROUND_UP\n                      )}  ${assetInfo[feeExchangeResult.assetId].symbol}`\n                    : ''}\n                <br /> Transaction hash:\n                <ExternalLink url={getCennzScanURL(txHash)} text={txHash as string} />\n            </div>\n        );\n    } else {\n        return (\n            <div>\n                {message}.\n                <br />\n                Check transaction hash for more details:\n                <ExternalLink url={getCennzScanURL(txHash)} text={txHash as string} />\n            </div>\n        );\n    }\n};\n\nexport interface TxDialogBodyProps {\n    stage: Stages;\n    error?: Error;\n    estimatedTxFee: IFee;\n    extrinsic: IExtrinsic;\n    actualTxFee?: Amount;\n    success?: boolean;\n    txHash?: string;\n    buffer: number;\n    recipientAddress: string;\n    events: EventRecord[];\n    coreAssetId: number;\n    feeAssetId: number;\n    assetInfo: [];\n}\n\nexport const TxDialogBody: FC<TxDialogBodyProps> = ({\n    error,\n    stage,\n    success,\n    extrinsic,\n    estimatedTxFee,\n    txHash,\n    buffer,\n    coreAssetId,\n    events,\n    recipientAddress,\n    actualTxFee,\n    feeAssetId,\n    assetInfo,\n}) => {\n    if (extrinsic === null || extrinsic === undefined) {\n        return null;\n    }\n    const {\n        method,\n        params: [fromAsset, toAsset, fromAssetAmount, toAssetAmount],\n    } = extrinsic;\n\n    switch (stage) {\n        case Stages.Signing:\n            return error ? (\n                <div>{error.message}</div>\n            ) : (\n                <>\n                    <p>Please check over the transaction details below :</p>\n                    <SummaryBuy\n                        fromAsset={fromAsset}\n                        toAsset={toAsset}\n                        fromAssetAmount={fromAssetAmount}\n                        toAssetAmount={toAssetAmount}\n                        buffer={buffer}\n                        method={method}\n                        recipientAddress={recipientAddress}\n                        assetInfo={assetInfo}\n                    />\n                    <SummaryFee\n                        txFee={estimatedTxFee}\n                        coreAssetId={coreAssetId}\n                        feeAssetId={feeAssetId}\n                        assetInfo={assetInfo}\n                    />\n                </>\n            );\n        case Stages.InBlock:\n            return <BodyForBroadcasted txHash={txHash as string} />;\n        case Stages.Finalised:\n            return (\n                <BodyForFinalised\n                    success={success as boolean}\n                    events={events}\n                    actualTxFee={actualTxFee}\n                    txHash={txHash}\n                    extrinsic={extrinsic}\n                    assetInfo={assetInfo}\n                    feeAssetId={feeAssetId}\n                />\n            );\n        default:\n            return <></>;\n    }\n};\n","import React, {FC, useState} from 'react';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport styled from 'styled-components';\nimport {Stages} from '../../../redux/reducers/ui/txDialog.reducer';\nimport TransparentButton from '../../TransparentButton';\nimport {BlueButton, RedButton} from '../DialogButtons';\n\nconst Loading = styled(ClipLoader)`\n    border-color: white !important;\n    min-width: 10rem !important;\n`;\n\nconst CancelButton = styled(TransparentButton as any)`\n    margin-bottom: 0.2rem;\n`;\n\nconst FooterForSigning: FC<{error?: Error; onClose(): void; onSubmit(): void}> = ({error, onClose, onSubmit}) => {\n    const [loading, setLoading] = useState(false);\n    return error ? (\n        <RedButton onClick={onClose}>Close</RedButton>\n    ) : (\n        <>\n            <TransparentButton onClick={onClose}>Cancel</TransparentButton>\n            {loading ? (\n                <Loading size={25} />\n            ) : (\n                <BlueButton\n                    onClick={element => {\n                        setLoading(true);\n                        onSubmit();\n                    }}\n                >\n                    Authorise Transaction\n                </BlueButton>\n            )}\n        </>\n    );\n};\n\nconst FooterForBroadcasted: FC<{onClick(): void}> = ({onClick}) => <BlueButton onClick={onClick}>Close</BlueButton>;\n\nconst FooterForFinalised: FC<{success: boolean; onClick(): void}> = ({success, onClick}) =>\n    success ? <BlueButton onClick={onClick}>Close</BlueButton> : <RedButton onClick={onClick}>Close</RedButton>;\nconst FootBox = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    flex: 1;\n`;\nexport interface TxDialogFooterProps {\n    stage: Stages;\n    error?: Error;\n    success?: boolean;\n\n    onClose(): void;\n    onSubmit(): void;\n    onComplete(): void;\n}\n\nexport const TxDialogFooter: FC<TxDialogFooterProps> = ({error, stage, success, onClose, onSubmit, onComplete}) => {\n    const closeAndComplete = () => {\n        onClose();\n        onComplete();\n    };\n\n    switch (stage) {\n        case Stages.Signing:\n            return (\n                <FootBox>\n                    <FooterForSigning error={error} onClose={onClose} onSubmit={onSubmit} />\n                </FootBox>\n            );\n        case Stages.InBlock:\n            return (\n                <FootBox>\n                    <FooterForBroadcasted onClick={closeAndComplete} />\n                </FootBox>\n            );\n        case Stages.Finalised:\n            return (\n                <FootBox>\n                    <FooterForFinalised onClick={closeAndComplete} success={success as boolean} />\n                </FootBox>\n            );\n        default:\n            return <></>;\n    }\n};\n","import {bool} from '@cennznet/types';\nimport React, {FC} from 'react';\nimport {Stages} from '../../../redux/reducers/ui/txDialog.reducer';\n\nconst TitleForSigning: FC<{error?: Error; title: string}> = ({error, title}) =>\n    error ? <div>Error! This exchange cannot be made</div> : <div>Confirm {title}</div>;\n\nconst TitleForBroadcasted: FC<{}> = () => <div>Exchange transaction sent</div>;\n\nconst TitleForFinalised: FC<{success: boolean}> = ({success}) =>\n    success ? <div>Transaction completed</div> : <div>Transaction failed</div>;\n\nexport interface TxDialogTitleProps {\n    stage: Stages;\n    method: string;\n    title: string;\n    error?: Error;\n    success?: boolean;\n}\n\nexport const TxDialogTitle: FC<TxDialogTitleProps> = ({error, stage, success, method, title}) => {\n    switch (stage) {\n        case Stages.Signing:\n            return <TitleForSigning error={error} title={title} />;\n        case Stages.InBlock:\n            return <TitleForBroadcasted />;\n        case Stages.Finalised:\n            return <TitleForFinalised success={success as boolean} />;\n        default:\n            return <></>;\n    }\n};\n","import {connect} from 'react-redux';\nimport {Dispatch} from 'redux';\nimport {createSelector} from 'reselect';\nimport {resetTrade} from '../../../redux/actions/ui/exchange.action';\nimport {\n    closeDialog,\n    requestSubmitLiquidity,\n    requestSubmitSend,\n    requestSubmitTransaction,\n} from '../../../redux/actions/ui/txDialog.action';\nimport {AppState} from '../../../redux/reducers';\nimport {Amount} from '../../../util/Amount';\nimport {TxDialog} from './TxDialog';\n\nconst isTxSuccessSelector = createSelector(\n    (state: AppState) => state.ui.txDialog.events,\n    events => events.findIndex(event => event.event.method === 'ExtrinsicSuccess') > -1\n);\n\nconst mapStateToProps = (state: AppState) => ({\n    signingAccount: state.ui.txDialog.signingAccount,\n    coreAssetId: state.global.coreAssetId,\n    title: state.ui.txDialog.title,\n    error: state.ui.txDialog.error,\n    extrinsic: state.ui.txDialog.extrinsic,\n    method: state.ui.txDialog.extrinsic ? state.ui.txDialog.extrinsic.method : undefined,\n    estimatedTxFee: state.ui.txDialog.estimatedTxFee,\n    stage: state.ui.txDialog.stage,\n    events: state.ui.txDialog.events,\n    txHash: state.ui.txDialog.txHash,\n    actualTxFee: state.ui.txDialog.actualTxFee,\n    feeAssetId: state.ui.txDialog.feeAssetId,\n    recipientAddress: state.ui.txDialog.recipientAddress,\n    exchange: state.ui.exchange.form,\n    fromAssetBalance: state.ui.txDialog.fromAssetBalance,\n    liquidity: state.ui.liquidity.form,\n    assetInfo: state.global.assetInfo,\n    success: isTxSuccessSelector(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    handleClose: () => {\n        dispatch(closeDialog());\n    },\n    handleExchangeSubmit: ({extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer}) => {\n        dispatch(\n            requestSubmitTransaction({\n                extrinsic,\n                signingAccount,\n                feeAssetId,\n                feeInFeeAsset,\n                buffer,\n            })\n        );\n    },\n\n    handleSendSubmit: ({\n        extrinsic,\n        signingAccount,\n        feeAssetId,\n        feeInFeeAsset,\n        recipientAddress,\n        fromAsset,\n        toAsset,\n        fromAssetAmount,\n        fromAssetBalance,\n        buffer,\n    }) => {\n        dispatch(\n            requestSubmitSend({\n                extrinsic,\n                signingAccount,\n                feeAssetId,\n                feeInFeeAsset,\n                recipientAddress,\n                fromAsset,\n                toAsset,\n                buffer,\n                fromAssetAmount,\n                fromAssetBalance,\n            })\n        );\n    },\n\n    handleLiquiditySubmit: ({extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer}) => {\n        dispatch(\n            requestSubmitLiquidity({\n                extrinsic,\n                signingAccount,\n                feeAssetId,\n                buffer,\n                feeInFeeAsset,\n            })\n        );\n    },\n    handleComplete: () => {\n        dispatch(resetTrade());\n    },\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TxDialog as any);\n","import React, {FC} from 'react';\nimport {SubmitType} from '../../../redux/actions/ui/txDialog.action';\nimport {TxDialogState} from '../../../redux/reducers/ui/txDialog.reducer';\nimport Dialog from '../Dialog';\nimport {TxDialogBody} from './TxDialogBody';\nimport {TxDialogFooter} from './TxDialogFooter';\nimport {TxDialogTitle} from './TxDialogTitle';\n\nexport type TxDialogProps = {\n    coreAssetId: number;\n    method: string;\n    signingAccount: string;\n    success?: boolean;\n    title: string;\n    exchange;\n    buffer?: number;\n    liquidity;\n    assetInfo: [];\n    handleClose: () => void;\n    handleExchangeSubmit: (arg0: SubmitType) => void;\n    handleSendSubmit: (arg0: SubmitType) => void;\n    handleLiquiditySubmit: (arg0: SubmitType) => void;\n    handleComplete: () => void;\n} & TxDialogState;\n\nexport const TxDialog: FC<TxDialogProps> = ({\n    signingAccount,\n    actualTxFee,\n    feeAssetId,\n    extrinsic,\n    error,\n    estimatedTxFee,\n    stage,\n    title,\n    method,\n    success,\n    buffer,\n    coreAssetId,\n    txHash,\n    events,\n    fromAssetBalance,\n    exchange,\n    liquidity,\n    assetInfo,\n    handleClose,\n    handleExchangeSubmit,\n    handleSendSubmit,\n    handleLiquiditySubmit,\n    handleComplete,\n}) => {\n    return stage ? (\n        <Dialog\n            isOpen={true}\n            title={<TxDialogTitle title={title} error={error} stage={stage} method={method} success={success} />}\n            body={\n                <TxDialogBody\n                    stage={stage}\n                    extrinsic={extrinsic as any}\n                    coreAssetId={coreAssetId}\n                    error={error}\n                    success={success}\n                    recipientAddress={undefined as any}\n                    buffer={title === 'exchange' ? exchange.buffer : liquidity.buffer}\n                    estimatedTxFee={estimatedTxFee as any}\n                    txHash={txHash}\n                    feeAssetId={feeAssetId as any}\n                    actualTxFee={actualTxFee}\n                    events={events}\n                    assetInfo={assetInfo}\n                />\n            }\n            footer={\n                <TxDialogFooter\n                    stage={stage}\n                    error={error}\n                    success={success}\n                    onClose={handleClose}\n                    onSubmit={() => {\n                        if (title === 'exchange') {\n                            handleExchangeSubmit({\n                                ...exchange,\n                                extrinsic,\n                                //@ts-ignore\n                                feeInFeeAsset: estimatedTxFee.feeInFeeAsset,\n                            });\n                        } else if (title === 'liquidity') {\n                            handleLiquiditySubmit({\n                                ...liquidity,\n                                extrinsic,\n                                feeInFeeAsset: null,\n                            });\n                        }\n                    }}\n                    onComplete={handleComplete}\n                />\n            }\n        />\n    ) : (\n        <></>\n    );\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Header = () => (\n    <HeaderDiV>\n        <h1>CENNZX</h1>\n    </HeaderDiV>\n);\n\nexport default Header;\n\nconst HeaderDiV = styled.div`\n     {\n        display: flex;\n        color: #1130ff;\n        flex-direction: row;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: bold;\n        letter-spacing: -0.33px;\n    }\n`;\n","import {packageInfo} from '@polkadot/extension-dapp/packageInfo';\nimport {InjectedExtension, MetadataDef} from '@polkadot/extension-inject/types';\nimport React, {FC} from 'react';\nimport {connect} from 'react-redux';\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom';\nimport {Routes} from 'react-static';\nimport styled from 'styled-components';\nimport Exchange from '../pages/exchange';\nimport Liquidity from '../pages/liquidity';\nimport AppDialog from './Dialog/AppDialog';\nimport TxDialog from './Dialog/TxDialog';\nimport Header from './Header';\n\nconst Content = styled.div`\n     {\n        display: flex;\n        flex-direction: row;\n        width: 100%;\n        justify-content: center;\n        font-family: 'Open Sans', sans-serif;\n\n        h2 {\n            color: #4e5458;\n            font-size: 16px;\n            font-weight: 600;\n        }\n    }\n`;\n\ninterface LayoutProps {\n    extensionDetected: boolean;\n    extensionConnected: boolean;\n    cennznetExtension: InjectedExtension;\n    metadata: MetadataDef;\n}\n\nconst Layout: FC<LayoutProps> = ({extensionDetected, extensionConnected, cennznetExtension, metadata}) => {\n    let metaUpdated: null | string = null;\n    if (typeof localStorage !== 'undefined') {\n        const chain = metadata ? metadata.chain : '';\n        const specVersion = metadata ? metadata.specVersion : '';\n        metaUpdated = localStorage.getItem(`${packageInfo.version}-${chain}${specVersion}-EXTENSION_META_UPDATED`);\n    }\n    // tslint:disable-next-line:no-console\n    return (\n        <React.Fragment>\n            <Header />\n            <Content id=\"content\">\n                <TxDialog />\n                {/* If metadata is not updated, or extension is disconnected or denied access to this app, open pop up*/}\n                {metaUpdated === null || extensionConnected === false || extensionDetected === false ? (\n                    <AppDialog\n                        extensionConnected={extensionConnected}\n                        extensionDetected={extensionDetected}\n                        cennznetExtension={cennznetExtension}\n                        metadata={metadata}\n                    />\n                ) : null}\n                <React.Suspense fallback={<em>Loading...</em>}>\n                    {/*<Routes path=\"*\" />*/}\n                    <Router>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <Exchange />\n                            </Route>\n                            <Route path=\"/exchange\">\n                                <Exchange />\n                            </Route>\n                            <Route path=\"/liquidity\">\n                                <Liquidity />\n                            </Route>\n                        </Switch>\n                    </Router>\n                </React.Suspense>\n            </Content>\n        </React.Fragment>\n    );\n};\n\nexport default connect((state: any) => ({\n    extensionConnected: state.extension.extensionConnected,\n    extensionDetected: state.extension.extensionDetected,\n    cennznetExtension: state.extension.cennznetExtension,\n    metadata: state.global.metadata,\n}))(Layout);\n","import {combineEpics} from 'redux-observable';\n// tslint:disable:no-string-literal\nconst epicsContext = require['context']('./', true, /\\.epic\\.ts$/);\nconst multipleEpicsContext = require['context']('./', true, /\\.epics\\.ts$/);\n\nconst epics: any = [];\n\nepicsContext.keys().forEach(key => {\n    epics.push(epicsContext(key).default);\n});\n\nmultipleEpicsContext.keys().forEach(key => {\n    epics.push(...multipleEpicsContext(key).default);\n});\n\nconst rootEpic = combineEpics(...epics); // buttonTestEpic, i18nEpic\nexport default rootEpic;\n","import {createBrowserHistory} from 'history';\n// {basename: '/'}\n//export default createBrowserHistory();*\n\nlet history;\n\nif (typeof document !== 'undefined') {\n    history = createBrowserHistory();\n}\n\nexport default history;\n","import {Epic} from 'redux-observable';\nimport {BehaviorSubject, of} from 'rxjs';\nimport {catchError, switchMap} from 'rxjs/operators';\nimport {updateAppError} from '../actions/global.action';\nimport epics from './index';\n\nconst epic$ = new BehaviorSubject(epics);\nexport const hotReloadingEpic: Epic = (...args) =>\n    epic$.pipe(\n        switchMap((epic: any) => {\n            return epic(...args);\n        }),\n        catchError((err: Error) => {\n            return of(updateAppError(err));\n        })\n    );\n","import {InjectedExtension} from '@polkadot/extension-inject/types';\nimport produce from 'immer';\nimport {handleActions} from 'redux-actions';\nimport {BaseError} from '../../error/error';\nimport {IAccounts} from '../../typings';\nimport {\n    ExtensionActions,\n    SetExtensionErrorAction,\n    UpdateCENNZnetExtensionAction,\n    UpdateExAccountAction,\n    UpdateExConnectedAction,\n    UpdateExDetectedAction,\n} from '../actions/extension.action';\n\nexport interface ExtensionState {\n    extensionDetected: boolean;\n    extensionConnected: boolean;\n    extensionDetectionComplete: boolean;\n    cennznetExtension: InjectedExtension;\n    accounts: IAccounts[];\n    error: BaseError;\n}\n\nexport const initialState: ExtensionState = {\n    extensionDetected: false,\n    extensionConnected: false,\n    extensionDetectionComplete: false,\n    accounts: [],\n    //@ts-ignore\n    error: null,\n    //@ts-ignore\n    cennznetExtension: undefined,\n};\n\nexport default handleActions<ExtensionState, any>(\n    {\n        [ExtensionActions.DETECTION_UPDATE]: produce((draft: ExtensionState, action: UpdateExDetectedAction) => {\n            draft.extensionDetected = action.payload.detected;\n            draft.cennznetExtension = action.payload.cennznetExtensionInjected;\n        }),\n        [ExtensionActions.CONNECTION_UPDATE]: produce((draft: ExtensionState, action: UpdateExConnectedAction) => {\n            draft.extensionConnected = action.payload;\n        }),\n        [ExtensionActions.ACCOUNTS_UPDATE]: produce((draft: ExtensionState, action: UpdateExAccountAction) => {\n            draft.accounts = action.payload;\n        }),\n        [ExtensionActions.ERROR_SET]: produce((draft: ExtensionState, action: SetExtensionErrorAction) => {\n            draft.error = action.payload;\n        }),\n        [ExtensionActions.CENNZNET_EXTENSION_UPDATE]: produce(\n            (draft: ExtensionState, action: UpdateCENNZnetExtensionAction) => {\n                draft.cennznetExtension = action.payload;\n            }\n        ),\n    },\n    initialState\n);\n","import {AssetId} from '@cennznet/types';\nimport {FeeRate} from '@cennznet/types/interfaces/cennzx';\nimport {MetadataDef} from '@polkadot/extension-inject/types';\nimport {hexToString} from '@polkadot/util';\nimport produce from 'immer';\nimport {handleActions} from 'redux-actions';\n\nimport GlobalActions, {\n    UpdateAssetsInfoAction,\n    UpdateCoreAssetAction,\n    UpdateFeeRateAction,\n    UpdateMetadataAction,\n    UpdateStakingAssetAction,\n} from '../actions/global.action';\n\nexport interface AssetDetails {\n    decimalPlaces: number;\n    symbol: string;\n    id: number;\n}\nexport interface GlobalState {\n    coreAssetId?: number;\n    feeRate?: FeeRate;\n    metadata?: MetadataDef;\n    assetInfo: AssetDetails[];\n    stakingAssetId?: AssetId;\n}\n\nexport const initialState: GlobalState = {\n    assetInfo: [],\n};\n\nexport default handleActions(\n    {\n        [GlobalActions.CORE_ASSET_UPDATE]: produce((draft: GlobalState, action: UpdateCoreAssetAction) => {\n            draft.coreAssetId = action.payload;\n        }),\n        [GlobalActions.DEFAULT_FEE_RATE_UPDATE]: produce((draft: GlobalState, action: UpdateFeeRateAction) => {\n            draft.feeRate = action.payload;\n        }),\n        [GlobalActions.STAKING_ASSET]: produce((draft: GlobalState, action: UpdateStakingAssetAction) => {\n            draft.stakingAssetId = action.payload;\n        }),\n        [GlobalActions.METADATA_UPDATE]: produce((draft: GlobalState, action: UpdateMetadataAction) => {\n            draft.metadata = action.payload;\n        }),\n        [GlobalActions.ASSET_INFO_UPDATE]: produce((draft: GlobalState, action: UpdateAssetsInfoAction) => {\n            const newAssetList = new Array();\n            const assetList = action.payload;\n            assetList.forEach(asset => {\n                const id = asset[0];\n                const symbol = hexToString(asset[1].symbol);\n                const decimalPlaces = asset[1].decimalPlaces;\n                newAssetList[id] = {decimalPlaces, symbol, id};\n            });\n            draft.assetInfo = newAssetList;\n        }),\n    },\n    initialState\n);\n","import {localizeReducer} from 'react-localize-redux';\n\nexport default localizeReducer;\n","import produce from 'immer';\nimport {handleActions} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {ExchangeFormData, IAssetBalance, IExchangePool, IFee} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport ExchangeActions, {\n    RemoveExchangeErrorAction,\n    ResetExchangeErrorAction,\n    SetExchangeErrorAction,\n    SetFromAssetAmountAction,\n    SetToAssetAmountAction,\n    UpdateExchangeRateAction,\n    UpdateExtrinsicAction,\n    UpdateFeeAssetAction,\n    UpdateFromAssetAmountAction,\n    UpdatePoolBalanceAction,\n    UpdateSelectedAccountAction,\n    UpdateSelectedFromAssetAction,\n    UpdateSelectedToAssetAction,\n    UpdateToAssetAmountAction,\n    UpdateTransactionBufferAction,\n    UpdateTransactionFeeAction,\n    UpdateTxFeeParameterAction,\n    UpdateUserAssetBalanceAction,\n} from '../../actions/ui/exchange.action';\n\nexport interface ExchangeState {\n    exchangeRate?: Amount;\n    exchangePool: IExchangePool[];\n    txFee?: IFee;\n    form: Partial<ExchangeFormData>;\n    userAssetBalance: IAssetBalance[];\n    extrinsicParams?: any[];\n    error: BaseError[];\n}\n\nexport const initialState: ExchangeState = {\n    //@ts-ignore\n    form: {buffer: typeof window !== 'undefined' ? process.env.FEE_BUFFER : 0.05},\n    exchangePool: [],\n    userAssetBalance: [],\n    error: [],\n};\n\nexport default handleActions<ExchangeState, any>(\n    {\n        [ExchangeActions.SELECTED_ACCOUNT_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateSelectedAccountAction) => {\n                draft.form.signingAccount = action.payload;\n            }\n        ),\n        [ExchangeActions.SELECTED_FROM_ASSET_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateSelectedFromAssetAction) => {\n                draft.form.fromAsset = action.payload;\n            }\n        ),\n        [ExchangeActions.SELECTED_TO_ASSET_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateSelectedToAssetAction) => {\n                draft.form.toAsset = action.payload;\n            }\n        ),\n        [ExchangeActions.FROM_ASSET_AMOUNT_SET]: produce((draft: ExchangeState, action: SetFromAssetAmountAction) => {\n            draft.form.fromAssetAmount = action.payload;\n        }),\n        [ExchangeActions.TO_ASSET_AMOUNT_SET]: produce((draft: ExchangeState, action: SetToAssetAmountAction) => {\n            draft.form.toAssetAmount = action.payload;\n        }),\n        [ExchangeActions.FROM_ASSET_AMOUNT_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateFromAssetAmountAction) => {\n                draft.form.fromAssetAmount = action.payload;\n            }\n        ),\n        [ExchangeActions.TO_ASSET_AMOUNT_UPDATE]: produce((draft: ExchangeState, action: UpdateToAssetAmountAction) => {\n            draft.form.toAssetAmount = action.payload;\n        }),\n        [ExchangeActions.TRANSACTION_FEE_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateTransactionFeeAction) => {\n                draft.txFee = action.payload;\n            }\n        ),\n        [ExchangeActions.EXCHANGE_RATE_UPDATE]: produce((draft: ExchangeState, action: UpdateExchangeRateAction) => {\n            draft.exchangeRate = action.payload;\n        }),\n        [ExchangeActions.TRADE_RESET]: produce((draft: ExchangeState) => {\n            draft.form.fromAssetAmount = undefined;\n            draft.form.toAssetAmount = undefined;\n            draft.form.extrinsic = undefined;\n            draft.form.fromAsset = undefined;\n            draft.form.toAsset = undefined;\n            draft.form.signingAccount = undefined;\n            //@ts-ignore\n            draft.form.buffer = typeof window !== 'undefined' ? process.env.FEE_BUFFER : 0.05;\n            draft.userAssetBalance = [];\n            draft.error = [];\n        }),\n        [ExchangeActions.ASSET_SWAP]: produce((draft: ExchangeState) => {\n            const draftFromAsset = draft.form.fromAsset;\n            draft.form.fromAsset = draft.form.toAsset;\n            draft.form.toAsset = draftFromAsset;\n            if (draft.form.extrinsic === 'buyAsset') {\n                draft.form.fromAssetAmount = draft.form.toAssetAmount;\n                draft.form.toAssetAmount = undefined;\n                draft.form.extrinsic = 'sellAsset';\n            } else {\n                draft.form.toAssetAmount = draft.form.fromAssetAmount;\n                draft.form.fromAssetAmount = undefined;\n                draft.form.extrinsic = 'buyAsset';\n            }\n        }),\n        [ExchangeActions.EXTRINSIC_UPDATE]: produce((draft: ExchangeState, action: UpdateExtrinsicAction) => {\n            draft.form.extrinsic = action.payload;\n        }),\n        [ExchangeActions.EXCHANGE_POOL_BALANCE_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdatePoolBalanceAction) => {\n                const index = draft.exchangePool.findIndex(\n                    (poolData: IExchangePool) => poolData.assetId === action.payload.assetId\n                );\n                if (index === -1) {\n                    draft.exchangePool.push(action.payload);\n                } else {\n                    draft.exchangePool[index] = action.payload;\n                }\n            }\n        ),\n        [ExchangeActions.USER_ASSET_BALANCE_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateUserAssetBalanceAction) => {\n                const index = draft.userAssetBalance.findIndex(\n                    (assetData: IAssetBalance) =>\n                        assetData.assetId === action.payload.assetId && assetData.account === action.payload.account\n                );\n                if (index === -1) {\n                    draft.userAssetBalance.push(action.payload);\n                }\n                draft.userAssetBalance[index] = action.payload;\n            }\n        ),\n        [ExchangeActions.TRANSACTION_FEE_PARAMS_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateTxFeeParameterAction) => {\n                draft.extrinsicParams = action.payload;\n            }\n        ),\n        [ExchangeActions.FEE_ASSET_UPDATE]: produce((draft: ExchangeState, action: UpdateFeeAssetAction) => {\n            draft.form.feeAssetId = action.payload;\n        }),\n        [ExchangeActions.ERROR_SET]: produce((draft: ExchangeState, action: SetExchangeErrorAction) => {\n            draft.error.push(action.payload);\n        }),\n        [ExchangeActions.ERROR_REMOVE]: produce((draft: ExchangeState, action: RemoveExchangeErrorAction) => {\n            const newErrorList = draft.error.filter(err => err.message !== action.payload.message);\n            draft.error = newErrorList;\n        }),\n        [ExchangeActions.ERROR_RESET]: produce((draft: ExchangeState, action: ResetExchangeErrorAction) => {\n            draft.error = [];\n        }),\n        [ExchangeActions.TRANSACTION_BUFFER_UPDATE]: produce(\n            (draft: ExchangeState, action: UpdateTransactionBufferAction) => {\n                draft.form.buffer = action.payload;\n            }\n        ),\n    },\n    initialState\n);\n","import produce from 'immer';\nimport {handleActions} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {IAssetBalance, IExchangePool, IFee, IUserShareInPool, LiquidityFormData} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport LiquidityActions, {\n    RemoveLiquidityErrorAction,\n    ResetLiquidityErrorAction,\n    SetAsset1AmountAction,\n    SetAsset2AmountAction,\n    SetLiquidityAction,\n    SetLiquidityErrorAction,\n    UpdateAsset1AmountAction,\n    UpdateAsset2AmountAction,\n    UpdateExchangeRateAction,\n    UpdateExtrinsicAction,\n    UpdateFeeAssetAction,\n    UpdateLiquidityForWithdrawalAction,\n    UpdatePoolBalanceAction,\n    UpdateSelectedAccountAction,\n    UpdateSelectedAsset1Action,\n    UpdateSelectedAsset2Action,\n    UpdateTotalLiquidityAction,\n    UpdateTransactionBufferAction,\n    UpdateTransactionFeeAction,\n    UpdateTxFeeParameterAction,\n    UpdateUserAssetBalanceAction,\n    UpdateUserPoolShareAction,\n} from '../../actions/ui/liquidity.action';\n\nexport interface LiquidityState {\n    exchangeRate?: Amount;\n    exchangePool: IExchangePool[];\n    userPoolShare?: IUserShareInPool[];\n    totalLiquidity?: Amount;\n    txFee?: IFee;\n    form: Partial<LiquidityFormData>;\n    userAssetBalance: IAssetBalance[];\n    extrinsicParams?: any[];\n    error: BaseError[];\n    liquidityToWithdraw?: Amount;\n}\n\nexport const initialState: LiquidityState = {\n    form: {\n        //@ts-ignore\n        buffer: typeof window !== 'undefined' ? process.env.FEE_BUFFER : 0.05,\n    },\n    exchangePool: [],\n    userAssetBalance: [],\n    userPoolShare: [],\n    error: [],\n};\n\nexport default handleActions<LiquidityState, any>(\n    {\n        [LiquidityActions.LIQUIDITY_TO_WITHDRAW_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateLiquidityForWithdrawalAction) => {\n                draft.liquidityToWithdraw = action.payload;\n            }\n        ),\n        [LiquidityActions.TOTAL_LIQUIDITY_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateTotalLiquidityAction) => {\n                draft.totalLiquidity = action.payload;\n            }\n        ),\n        [LiquidityActions.LIQUIDITY_TYPE]: produce((draft: LiquidityState, action: SetLiquidityAction) => {\n            draft.form.type = action.payload;\n        }),\n        [LiquidityActions.SELECTED_ACCOUNT_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateSelectedAccountAction) => {\n                draft.form.signingAccount = action.payload;\n            }\n        ),\n        [LiquidityActions.LIQUIDITY_POOL_BALANCE_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdatePoolBalanceAction) => {\n                const index = draft.exchangePool.findIndex(\n                    (poolData: IExchangePool) => poolData.assetId === action.payload.assetId\n                );\n                if (index === -1) {\n                    draft.exchangePool.push(action.payload);\n                } else {\n                    draft.exchangePool[index] = action.payload;\n                }\n            }\n        ),\n        [LiquidityActions.USER_POOL_SHARE_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateUserPoolShareAction) => {\n                const index = draft.exchangePool.findIndex(\n                    //@ts-ignore\n                    (poolShareData: IUserShareInPool) =>\n                        poolShareData.assetId === action.payload.assetId &&\n                        poolShareData.address === action.payload.address\n                );\n                if (index === -1) {\n                    //@ts-ignore\n                    draft.userPoolShare.push(action.payload);\n                } else {\n                    //@ts-ignore\n                    draft.userPoolShare[index] = action.payload;\n                }\n            }\n        ),\n        [LiquidityActions.USER_ASSET_BALANCE_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateUserAssetBalanceAction) => {\n                const index = draft.userAssetBalance.findIndex(\n                    (userBal: IAssetBalance) =>\n                        userBal.assetId === action.payload.assetId && userBal.account === action.payload.account\n                );\n                if (index === -1) {\n                    draft.userAssetBalance.push(action.payload);\n                } else {\n                    draft.userAssetBalance[index] = action.payload;\n                }\n            }\n        ),\n\n        [LiquidityActions.SELECTED_ASSET1_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateSelectedAsset1Action) => {\n                draft.form.assetId = action.payload;\n            }\n        ),\n        [LiquidityActions.ASSET1_AMOUNT_SET]: produce((draft: LiquidityState, action: UpdateAsset1AmountAction) => {\n            draft.form.assetAmount = action.payload;\n        }),\n        [LiquidityActions.ASSET1_AMOUNT_UPDATE]: produce((draft: LiquidityState, action: SetAsset1AmountAction) => {\n            draft.form.assetAmount = action.payload;\n        }),\n        [LiquidityActions.ASSET2_AMOUNT_SET]: produce((draft: LiquidityState, action: UpdateAsset2AmountAction) => {\n            draft.form.coreAmount = action.payload;\n        }),\n        [LiquidityActions.ASSET2_AMOUNT_UPDATE]: produce((draft: LiquidityState, action: SetAsset2AmountAction) => {\n            draft.form.coreAmount = action.payload;\n        }),\n\n        [LiquidityActions.ERROR_SET]: produce((draft: LiquidityState, action: SetLiquidityErrorAction) => {\n            draft.error.push(action.payload);\n        }),\n        [LiquidityActions.ERROR_REMOVE]: produce((draft: LiquidityState, action: RemoveLiquidityErrorAction) => {\n            const index = draft.error.findIndex((err: BaseError) => err.message === action.payload.message);\n            if (index > -1) {\n                draft.error.splice(index, 1);\n            }\n        }),\n        [LiquidityActions.ERROR_RESET]: produce((draft: LiquidityState, action: ResetLiquidityErrorAction) => {\n            draft.error = [];\n        }),\n        [LiquidityActions.FEE_ASSET_UPDATE]: produce((draft: LiquidityState, action: UpdateFeeAssetAction) => {\n            draft.form.feeAssetId = action.payload;\n        }),\n        [LiquidityActions.EXTRINSIC_UPDATE]: produce((draft: LiquidityState, action: UpdateExtrinsicAction) => {\n            draft.form.extrinsic = action.payload;\n            draft.form.assetAmount = undefined;\n            draft.form.assetId = undefined;\n            draft.form.coreAmount = undefined;\n        }),\n        [LiquidityActions.TRANSACTION_BUFFER_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateTransactionBufferAction) => {\n                draft.form.buffer = action.payload;\n            }\n        ),\n        [LiquidityActions.TRANSACTION_FEE_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateTransactionFeeAction) => {\n                draft.txFee = action.payload;\n            }\n        ),\n        [LiquidityActions.TRANSACTION_FEE_PARAMS_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateTxFeeParameterAction) => {\n                draft.extrinsicParams = action.payload;\n            }\n        ),\n        [LiquidityActions.EXCHANGE_RATE_UPDATE]: produce((draft: LiquidityState, action: UpdateExchangeRateAction) => {\n            draft.exchangeRate = action.payload;\n        }),\n        [LiquidityActions.LIQUIDITY_RESET]: produce((draft: LiquidityState) => {\n            draft.form.extrinsic = undefined;\n            draft.form.assetAmount = undefined;\n            draft.form.assetId = undefined;\n            draft.form.coreAmount = undefined;\n            draft.form.signingAccount = undefined;\n            //@ts-ignore\n            draft.form.buffer = typeof window !== 'undefined' ? process.env.FEE_BUFFER : 0.05;\n            draft.extrinsicParams = undefined;\n            draft.txFee = undefined;\n            draft.error = [];\n            draft.userAssetBalance = [];\n            draft.userPoolShare = [];\n        }),\n        [LiquidityActions.SELECTED_ASSET2_UPDATE]: produce(\n            (draft: LiquidityState, action: UpdateSelectedAsset2Action) => {\n                draft.form.coreAssetId = action.payload;\n            }\n        ),\n    },\n    initialState\n);\n","import {combineReducers} from 'redux';\nimport exchange from './exchange.reducer';\nimport liquidity from './liquidity.reducer';\nimport txDialog from './txDialog.reducer';\n\nexport default combineReducers({\n    exchange,\n    liquidity,\n    txDialog,\n});\n","import {connectRouter, LocationChangeAction, RouterState} from 'connected-react-router';\nimport {combineReducers, Reducer} from 'redux';\nimport history from '../history';\nimport extension, {ExtensionState} from './extension.reducer';\nimport global, {GlobalState} from './global.reducer';\nimport localize from './localize.reducer';\nimport {ExchangeState} from './ui/exchange.reducer';\nimport ui from './ui/index';\nimport {LiquidityState} from './ui/liquidity.reducer';\nimport {TxDialogState} from './ui/txDialog.reducer';\n\nlet router: null | any = null;\nif (typeof document !== 'undefined') {\n    router = connectRouter(history);\n}\n\nexport default combineReducers({\n    router: router,\n    localize: localize,\n    extension: extension,\n    global: global,\n    ui,\n});\n\nexport interface AppState {\n    extension: ExtensionState;\n    global: GlobalState;\n    ui: {\n        exchange: ExchangeState;\n        liquidity: LiquidityState;\n        txDialog: TxDialogState;\n    };\n}\n","import {ApiRx} from '@cennznet/api';\nimport {cryptoWaitReady} from '@polkadot/util-crypto';\nimport {applyMiddleware, compose, createStore} from 'redux';\nimport {createEpicMiddleware} from 'redux-observable';\nimport {EMPTY} from 'rxjs';\nimport {IEpicDependency} from '../typings';\nimport actions from './actions';\nimport {getDevToolsExt} from './devTools';\nimport {hotReloadingEpic} from './epics/hotReloadingEpic';\nimport reducer, {AppState} from './reducers';\n\ncryptoWaitReady();\nconst cennzNetApi = typeof window !== 'undefined' ? ApiRx.create({provider: process.env.ENDPOINT}) : EMPTY;\n\nconst epicMiddleware = createEpicMiddleware<any, any, AppState, IEpicDependency>({\n    dependencies: {api$: cennzNetApi},\n});\n\nconst store = createStore(\n    reducer,\n    compose(\n        applyMiddleware(epicMiddleware),\n        ...getDevToolsExt()\n    )\n);\n\nepicMiddleware.run(hotReloadingEpic);\nstore.dispatch({type: actions.GlobalActions.INIT_APP});\n\nexport default store;\n","declare let window: Window;\nexport const getDevToolsExt = () => {\n    if (typeof window !== 'undefined' && process.env.ENV !== 'PROD') {\n        const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\n        if (typeof devToolsExtension === 'function') {\n            return [devToolsExtension];\n        }\n    }\n\n    return [];\n};\n","import {rgba} from 'polished';\n\n/** Nuetral */\nexport const N0 = '#FFFFFF';\nexport const N50 = '#F8F9F9';\nexport const N100 = '#EBECED';\nexport const N200 = '#D0D3D5';\nexport const N300 = '#B5BABD';\nexport const N400 = '#9AA0A5';\nexport const N500 = '#7F878D';\nexport const N600 = '#666D73';\nexport const N700 = '#4E5458';\nexport const N800 = '#363A3D';\nexport const N900 = '#1E2022';\nexport const N1000 = '#000000';\n\n/** Red */\nexport const R100 = '#FBD2D3';\nexport const R200 = '#F7A3A6';\nexport const R300 = '#F37479';\nexport const R400 = '#EF454B';\nexport const R500 = '#EB161E';\nexport const R600 = '#BE1017';\nexport const R700 = '#8F0C11';\nexport const R800 = '#60080C';\nexport const R900 = '#310406';\n\n/** Yellow */\nexport const Y100 = '#FFF3CC';\nexport const Y200 = '#FFE899';\nexport const Y300 = '#FFDC66';\nexport const Y400 = '#FFD133';\nexport const Y500 = '#FFC500';\nexport const Y600 = '#CC9E00';\nexport const Y700 = '#997600';\nexport const Y800 = '#664F00';\nexport const Y900 = '#332700';\n\n/** Green */\nexport const G100 = '#CDECD6';\nexport const G200 = '#A9DDB8';\nexport const G300 = '#84CF9A';\nexport const G400 = '#5FC17C';\nexport const G500 = '#42AB61';\nexport const G600 = '#34864C';\nexport const G700 = '#266137';\nexport const G800 = '#173D22';\nexport const G900 = '#09180D';\n\n/** Blue */\nexport const B100 = '#C8E6FF';\nexport const B200 = '#95CEFF';\nexport const B300 = '#63B6FE';\nexport const B400 = '#309FFE';\nexport const B500 = '#0187FA';\nexport const B600 = '#016CC7';\nexport const B700 = '#015094';\nexport const B800 = '#003562';\nexport const B900 = '#00192F';\n\n/** Violet */\nexport const V100 = '#725EFF';\nexport const V200 = '#725EFF';\nexport const V300 = '#725EFF';\nexport const V400 = '#725EFF';\nexport const V500 = '#1130FF';\nexport const V600 = '#0000CA';\nexport const V700 = '#08187F';\nexport const V800 = '#040C40';\nexport const V900 = '#020835';\n\nexport const brandPrimary = rgba(17, 48, 255, 0.9);\nexport const brandSecondary = Y400;\n\nexport const primary = rgba(17, 48, 255, 0.9);\nexport const secondary = V800;\nexport const success = G400;\nexport const warning = Y400;\nexport const danger = R400;\nexport const info = N100;\nexport const nuetral = N500;\nexport const border = rgba(255, 255, 255, 0.3);\nexport const borderLight = N100;\nexport const text = N0;\nexport const textMuted = rgba(255, 255, 255, 0.7);\nexport const textHover = N200;\nexport const link = B500;\nexport const linkHover = B600;\n/**\n * NOTICE: this file only contains basic color defination of basic elements like border,\n * text, link, etc.\n *\n * For application/ components resuable colors, theme/index.js is the file to be considered.\n *\n * */\n","import {css} from 'styled-components';\n\nconst media = (breakPoints = ['36em', '48em', '62em', '75em']) => {\n    const sizes = {\n        xlUp: breakPoints[3], // >75em\n        xlDown: breakPoints[3], // <75em\n        lgUp: breakPoints[2], // >62em\n        lgDown: breakPoints[2], // <62em\n        mdUp: breakPoints[1], // >48em\n        mdDown: breakPoints[1], // <48em\n        smUp: breakPoints[0], // >36em\n        smDown: breakPoints[0], // <36em\n    };\n\n    const sizeUp = ['xlUp', 'lgUp', 'mdUp', 'smUp'];\n\n    return Object.keys(sizes).reduce((accumulator, label) => {\n        const remSize = sizes[label];\n\n        accumulator[label] = (...args) => css`\n      @media screen and (${sizeUp.includes(label) ? 'min' : 'max'}-width: ${remSize}) {\n        ${css(...args)};\n      }\n    `;\n        return accumulator;\n    }, {});\n};\n\nexport default media;\n","import mergeOptions from 'merge-options';\n\nexport const createThemeStyle = (componentProps, defaultThemeStyle) => {\n    const props = mergeOptions(\n        {\n            theme: {\n                components: {},\n            },\n            themeKey: '',\n            themeStyle: {},\n        },\n        componentProps\n    );\n\n    return mergeOptions({}, defaultThemeStyle(props), props.themeStyle, props.theme.components[props.themeKey]);\n};\n","const configComponentStyle = colors => ({\n    // Button: {\n    //   fontSize: {\n    //     sm: '14px',\n    //     md: '14px',\n    //     lg: '1rem',\n    //   },\n    //   size: {\n    //     sm: '1.5rem',\n    //     md: '2rem',\n    //     lg: '2.5rem',\n    //   },\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //     info: colors.info,\n    //   },\n    //   hoverColor: {\n    //     primary: colors.B600,\n    //     danger: colors.R600,\n    //     success: colors.G600,\n    //     warning: colors.Y600,\n    //     info: colors.B600,\n    //   },\n    //   contrastColor: {\n    //     primary: colors.N0,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //     info: colors.N0,\n    //   },\n    // },\n    // Checkbox: {\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    // },\n    // Input: {\n    //   borderColor: colors.border,\n    //   background: '#FFFFFF',\n    //   readOnlyBackground: '#CCC',\n    //   readOnlyBorderColor: '#DDD',\n    //   placeholderColor: '#AAA',\n    //   color: colors.N800,\n    //   focusBorderColor: colors.B500,\n    //   size: {\n    //     sm: '2rem',\n    //     md: '3rem',\n    //     lg: '4rem',\n    //   },\n    // },\n    // Modal: {\n    //   backgroundColor: colors.V900,\n    //   boxShadow: `0 2px 4px 0 ${colors.N900}`,\n    //   overlayBackground: 'rgba(54, 58, 61, 0.7)',\n    //   color: colors.N0,\n    //   contentPadding: '2rem',\n    //   footerPadding: '1rem',\n    //   footerBorderTopColor: `1px solid ${colors.border}`,\n    // },\n    // Notification: {\n    //   background: {\n    //     info: colors.info,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   color: {\n    //     info: colors.N800,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //   },\n    // Scrollable: {\n    //   background: colors.V800,\n    //   thumbBackground: 'rgba(255, 255, 255, 0.4)',\n    //   gradientBottomBackground: 'linear-gradient(180deg, rgba(4, 12, 64, 0) 0%, #040c40 100%)',\n    // },\n    // Spinner: {\n    //   color: colors.primary,\n    //   size: {\n    //     xs: '10px',\n    //     sm: '12px',\n    //     md: '16px',\n    //     lg: '24px',\n    //     xl: '40px',\n    //   },\n    //   thickness: {\n    //     xs: '2px',\n    //     sm: '2px',\n    //     md: '2px',\n    //     lg: '2px',\n    //     xl: '4px',\n    //   },\n    //   speed: '0.7s',\n    // },\n    // Table: {\n    //   headerBackground: colors.V900,\n    //   rowOddLineBackground: 'rgba(8, 24, 127, 0.7)',\n    //   rowEvenLineBackground: 'rgba(8, 24, 127, 0.3)',\n    // },\n    // Tabs: {\n    //   activeColor: colors.text,\n    //   color: colors.textMuted,\n    //   inkBarActiveColor: colors.primary,\n    //   inkBarColor: colors.border,\n    //   tabPaneHeight: '80vh',\n    // },\n    // Toggle: {\n    //   variant: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   trackBackground: colors.N300,\n    //   thumbBorderCorlor: colors.N300,\n    //   thumbCheckedBorderColor: colors.N0,\n    //   thumbDisabledBackground: colors.N300,\n    // },\n    // Tooltip: {\n    //   background: '#A99DFF',\n    //   color: colors.V900,\n    // },\n});\n\nexport default configComponentStyle;\n","import * as colors from './colors';\nimport mediaQueries from './media';\nimport * as utils from './utils';\nimport components from './components';\n\nconst theme = {\n    borderRadius: '3px',\n    colors: {...colors},\n    utils: {...utils},\n    fontSizeSm: '12px',\n    fontSize: '14px',\n    fontSizeLg: '1rem',\n    fontFamily: `\n    -apple-system,\n    BlinkMacSystemFont,\n    'Segoe UI',\n    'Roboto',\n    'Fira Sans',\n    Oxygen-Sans,\n    'Ubuntu',\n    'Helvetica Neue',\n    sans-serif\n  `,\n    zIndex: {\n        overlay: 20,\n        above: 10,\n        bump: 1,\n        below: -1,\n    },\n    components: components(colors),\n};\n\nconst media = mediaQueries();\n\nexport {colors, media, utils};\n\nexport default theme;\n","import {rgba} from 'polished';\n\n/** Nuetral */\nexport const N0 = '#FFFFFF';\nexport const N50 = '#F8F9F9';\nexport const N100 = '#EBECED';\nexport const N200 = '#D0D3D5';\nexport const N300 = '#B5BABD';\nexport const N400 = '#9AA0A5';\nexport const N500 = '#7F878D';\nexport const N600 = '#666D73';\nexport const N700 = '#4E5458';\nexport const N800 = '#363A3D';\nexport const N900 = '#1E2022';\nexport const N1000 = '#000000';\n\n/** Red */\nexport const R100 = '#FBD2D3';\nexport const R200 = '#F7A3A6';\nexport const R300 = '#F37479';\nexport const R400 = '#EF454B';\nexport const R500 = '#EB161E';\nexport const R600 = '#BE1017';\nexport const R700 = '#8F0C11';\nexport const R800 = '#60080C';\nexport const R900 = '#310406';\n\n/** Yellow */\nexport const Y100 = '#FFF3CC';\nexport const Y200 = '#FFE899';\nexport const Y300 = '#FFDC66';\nexport const Y400 = '#FFD133';\nexport const Y500 = '#FFC500';\nexport const Y600 = '#CC9E00';\nexport const Y700 = '#997600';\nexport const Y800 = '#664F00';\nexport const Y900 = '#332700';\n\n/** Green */\nexport const G100 = '#CDECD6';\nexport const G200 = '#A9DDB8';\nexport const G300 = '#84CF9A';\nexport const G400 = '#5FC17C';\nexport const G500 = '#42AB61';\nexport const G600 = '#34864C';\nexport const G700 = '#266137';\nexport const G800 = '#173D22';\nexport const G900 = '#09180D';\n\n/** Blue */\nexport const B100 = '#C8E6FF';\nexport const B200 = '#95CEFF';\nexport const B300 = '#63B6FE';\nexport const B400 = '#309FFE';\nexport const B500 = '#0187FA';\nexport const B600 = '#016CC7';\nexport const B700 = '#015094';\nexport const B800 = '#003562';\nexport const B900 = '#00192F';\n\n/** Violet */\nexport const V100 = '#725EFF';\nexport const V200 = '#725EFF';\nexport const V300 = '#725EFF';\nexport const V400 = '#725EFF';\nexport const V500 = '#1130FF';\nexport const V600 = '#0000CA';\nexport const V700 = '#08187F';\nexport const V800 = '#040C40';\nexport const V900 = '#020835';\n\nexport const brandPrimary = rgba(17, 48, 255, 0.9);\nexport const brandSecondary = Y400;\n\nexport const primary = rgba(17, 48, 255, 0.9);\nexport const secondary = V800;\nexport const success = G400;\nexport const warning = Y400;\nexport const danger = R400;\nexport const info = N100;\nexport const nuetral = N500;\nexport const border = rgba(255, 255, 255, 0.3);\nexport const borderLight = N100;\nexport const text = N0;\nexport const textMuted = rgba(255, 255, 255, 0.7);\nexport const textHover = N200;\nexport const link = B500;\nexport const linkHover = B600;\n/**\n * NOTICE: this file only contains basic color defination of basic elements like border,\n * text, link, etc.\n *\n * For application/ components resuable colors, theme/index.js is the file to be considered.\n *\n * */\n","/**\n *\n */\nconst configComponentStyle = colors => ({\n    /**\n     * ===== App layout components - TopBar, SideNav, SubNav, Menus, etc =====\n     */\n    // AppSideNav: {\n    //   background: colors.R100,\n    //   navItemColor: colors.R300,\n    //   navItemHoverBackground: colors.R600,\n    //   navItemHoverColor: colors.R500,\n    //   navItemActiveColor: colors.R800,\n    // },\n    // AppSimpleSidebar: {\n    //   background: colors.N0,\n    // },\n    // AppSubNav: {\n    //   background: colors.R200,\n    //   boxShadow: '',\n    // },\n    // AppSubNavCollapsibleMenu: {\n    //   navItemColor: colors.R300,\n    //   navItemHoverBackground: colors.R600,\n    //   navItemHoverColor: colors.R500,\n    //   navItemActiveBackground: colors.Y400,\n    //   navItemActiveColor: colors.R800,\n    // },\n    // AppSubNavSimpleMenu: {\n    //   navItemColor: colors.R300,\n    //   navItemHoverBackground: colors.R600,\n    //   navItemHoverColor: colors.R500,\n    //   navItemActiveColor: colors.R800,\n    // },\n    // AppTopBar: {\n    //   background: colors.N0,\n    // },\n    /**\n     * ================== App specific components =========================\n     */\n    /**\n     * ================= Reusable components ==============================\n     */\n    // Button: {\n    //   fontSize: {\n    //     sm: '14px',\n    //     md: '14px',\n    //     lg: '1rem',\n    //   },\n    //   size: {\n    //     sm: '1.5rem',\n    //     md: '2rem',\n    //     lg: '2.5rem',\n    //   },\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //     info: colors.info,\n    //   },\n    //   hoverColor: {\n    //     primary: colors.B600,\n    //     danger: colors.R600,\n    //     success: colors.G600,\n    //     warning: colors.Y600,\n    //     info: colors.B600,\n    //   },\n    //   contrastColor: {\n    //     primary: colors.N0,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //     info: colors.N0,\n    //   },\n    // },\n    // Checkbox: {\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    // },\n    // Input: {\n    //   borderColor: colors.border,\n    //   background: '#FFFFFF',\n    //   readOnlyBackground: '#CCC',\n    //   readOnlyBorderColor: '#DDD',\n    //   placeholderColor: '#AAA',\n    //   color: colors.N800,\n    //   focusBorderColor: colors.B500,\n    //   size: {\n    //     sm: '2rem',\n    //     md: '3rem',\n    //     lg: '4rem',\n    //   },\n    // },\n    // Modal: {\n    //   background: colors.V900,\n    //   boxShadow: `0 2px 4px 0 ${colors.N900}`,\n    //   overlayBackground: 'rgba(54, 58, 61, 0.7)',\n    //   color: colors.N0,\n    //   contentPadding: '2rem',\n    //   footerPadding: '1rem',\n    //   footerBorderTopColor: `1px solid ${colors.border}`,\n    // },\n    // Notification: {\n    //   background: {\n    //     info: colors.info,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   color: {\n    //     info: colors.N800,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //   },\n    // Scrollable: {\n    //   background: colors.V800,\n    //   thumbBackground: 'rgba(255, 255, 255, 0.4)',\n    //   gradientBottomBackground: 'linear-gradient(180deg, rgba(4, 12, 64, 0) 0%, #040c40 100%)',\n    // },\n    // Spinner: {\n    //   color: colors.primary,\n    //   size: {\n    //     xs: '10px',\n    //     sm: '12px',\n    //     md: '16px',\n    //     lg: '24px',\n    //     xl: '40px',\n    //   },\n    //   thickness: {\n    //     xs: '2px',\n    //     sm: '2px',\n    //     md: '2px',\n    //     lg: '2px',\n    //     xl: '4px',\n    //   },\n    //   speed: '0.7s',\n    // },\n    // Table: {\n    //   headerBackground: colors.V900,\n    //   rowOddLineBackground: 'rgba(8, 24, 127, 0.7)',\n    //   rowEvenLineBackground: 'rgba(8, 24, 127, 0.3)',\n    // },\n    // Tabs: {\n    //   activeColor: colors.text,\n    //   color: colors.textMuted,\n    //   inkBarActiveColor: colors.primary,\n    //   inkBarColor: colors.border,\n    //   tabPaneHeight: '80vh',\n    // },\n    // Toggle: {\n    //   variant: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   trackBackground: colors.N300,\n    //   thumbBorderCorlor: colors.N300,\n    //   thumbCheckedBorderColor: colors.N0,\n    //   thumbDisabledBackground: colors.N300,\n    // },\n    // Tooltip: {\n    //   background: '#A99DFF',\n    //   color: colors.V900,\n    // },\n});\n\nexport default configComponentStyle;\n","import * as R from 'ramda';\n//import R from 'ramda';\nimport defaultTheme, {colors as defaultColors, utils} from './../defaultTheme';\nimport mediaQueries from './../defaultTheme/media';\nimport * as appThemeColors from './appThemeColors';\nimport appComponentStyle from './appComponentStyle';\n\nconst colors = R.mergeDeepRight(defaultColors, appThemeColors);\n\nconst customTheme = {\n    pageBackground: 'linear-gradient(180deg, #0B1E73 0%, #040C40 50%)',\n    listitemHighlightGradient: 'linear-gradient(90deg, rgba(210,38,242,0.5) 0%, rgba(8,24,127,0.5) 100%)',\n    colors,\n    components: appComponentStyle(colors),\n};\n\nconst theme = R.mergeDeepRight(defaultTheme, customTheme);\n\nconst media = mediaQueries(theme.breakPoints);\n\nexport {colors, media, utils};\nexport default theme;\n","import {rgba} from 'polished';\n\n/** Nuetral */\nexport const N0 = '#FFFFFF';\nexport const N50 = '#F8F9F9';\nexport const N100 = '#EBECED';\nexport const N200 = '#D0D3D5';\nexport const N300 = '#B5BABD';\nexport const N400 = '#9AA0A5';\nexport const N500 = '#7F878D';\nexport const N600 = '#666D73';\nexport const N700 = '#4E5458';\nexport const N800 = '#363A3D';\nexport const N900 = '#1E2022';\nexport const N1000 = '#000000';\n\n/** Red */\nexport const R100 = '#FBD2D3';\nexport const R200 = '#F7A3A6';\nexport const R300 = '#F37479';\nexport const R400 = '#EF454B';\nexport const R500 = '#EB161E';\nexport const R600 = '#BE1017';\nexport const R700 = '#8F0C11';\nexport const R800 = '#60080C';\nexport const R900 = '#310406';\n\n/** Yellow */\nexport const Y100 = '#FFF3CC';\nexport const Y200 = '#FFE899';\nexport const Y300 = '#FFDC66';\nexport const Y400 = '#FFD133';\nexport const Y500 = '#FFC500';\nexport const Y600 = '#CC9E00';\nexport const Y700 = '#997600';\nexport const Y800 = '#664F00';\nexport const Y900 = '#332700';\n\n/** Green */\nexport const G100 = '#CDECD6';\nexport const G200 = '#A9DDB8';\nexport const G300 = '#84CF9A';\nexport const G400 = '#5FC17C';\nexport const G500 = '#42AB61';\nexport const G600 = '#34864C';\nexport const G700 = '#266137';\nexport const G800 = '#173D22';\nexport const G900 = '#09180D';\n\n/** Blue */\nexport const B100 = '#C8E6FF';\nexport const B200 = '#95CEFF';\nexport const B300 = '#63B6FE';\nexport const B400 = '#309FFE';\nexport const B500 = '#0187FA';\nexport const B600 = '#016CC7';\nexport const B700 = '#015094';\nexport const B800 = '#003562';\nexport const B900 = '#00192F';\n\n/** Violet */\nexport const V100 = '#725EFF';\nexport const V200 = '#725EFF';\nexport const V300 = '#5B61EB';\nexport const V400 = '#725EFF';\nexport const V500 = '#1130FF';\nexport const V600 = '#0000CA';\nexport const V700 = '#08187F';\nexport const V800 = '#040C40';\nexport const V900 = '#020835';\n\nexport const brandPrimary = '#F7941D';\nexport const brandSecondary = '#DD7A00';\n\nexport const primary = brandPrimary;\nexport const secondary = brandSecondary;\nexport const success = G400;\nexport const warning = Y400;\nexport const danger = R400;\nexport const info = N700;\nexport const nuetral = N500;\nexport const border = rgba(91, 97, 235, 0.3);\nexport const borderLight = rgba(91, 97, 235, 0.3);\nexport const text = N700;\nexport const textMuted = N500;\nexport const textHover = N200;\nexport const link = B500;\nexport const linkHover = B600;\n/**\n * NOTICE: this file only contains basic color defination of basic elements like border,\n * text, link, etc.\n *\n * For application/ components resuable colors, theme/index.js is the file to be considered.\n *\n * */\n","import {lighten} from 'polished';\n\nconst configComponentStyle = colors => ({\n    /**\n     * ===== App layout components - TopBar, SideNav, SubNav, Menus, etc =====\n     */\n    AppSideNav: {\n        background: colors.N0,\n        navItemColor: colors.N500,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveColor: colors.primary,\n    },\n    AppSimpleSidebar: {\n        background: colors.N0,\n    },\n    AppSubNav: {\n        background: colors.N0,\n        boxShadow: 'none',\n    },\n    AppSubNavCollapsibleMenu: {\n        navItemColor: colors.textMuted,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveBackground: lighten(0.9, colors.primary),\n        navItemActiveColor: colors.primary,\n    },\n    AppSubNavSimpleMenu: {\n        navItemColor: colors.textMuted,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveColor: colors.primary,\n    },\n    AppTopBar: {\n        background: colors.N0,\n    },\n\n    /**\n     * ================== App specific components =========================\n     */\n\n    AppWalletNavCard: {\n        borderColor: colors.N300,\n        // borderHoverColor: colors.primary,\n        borderHoverWidth: '1px',\n        iconColor: colors.textMuted,\n        // iconHoverColor: colors.primary,\n    },\n\n    /**\n     * ================= Reusable components ==============================\n     */\n    /*Button: {\n     fontSize: {\n       sm: '14px',\n       md: '14px',\n       lg: '1rem',\n     },\n     size: {\n       sm: '1.5rem',\n       md: '2rem',\n       lg: '2.5rem',\n     },\n      borderColor: '#1130FF',\n     color: {\n       primary: '#1130FF;',\n       danger: colors.danger,\n       success: colors.success,\n       warning: colors.warning,\n       info: colors.info,\n     },\n     hoverColor: {\n       primary: '#1130FF',\n       danger: colors.R600,\n       success: colors.G600,\n       warning: colors.Y600,\n       info: colors.B600,\n     },\n     contrastColor: {\n       primary: colors.N0,\n       danger: colors.N0,\n       success: colors.N0,\n       warning: colors.N800,\n       info: colors.N0,\n     },\n   },*/\n    // Checkbox: {\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    // },\n    Input: {\n        borderColor: colors.border,\n        background: colors.N0,\n        // readOnlyBackground: '#CCC',\n        // readOnlyBorderColor: '#DDD',\n        // placeholderColor: '#AAA',\n        // color: colors.N800,\n        // focusBorderColor: colors.B500,\n        // size: {\n        //   sm: '2rem',\n        //   md: '3rem',\n        //   lg: '4rem',\n        // },\n    },\n    // Modal: {\n    //   backgroundColor: colors.V900,\n    //   boxShadow: `0 2px 4px 0 ${colors.N900}`,\n    //   overlayBackground: 'rgba(54, 58, 61, 0.7)',\n    //   color: colors.N0,\n    //   contentPadding: '2rem',\n    //   footerPadding: '1rem',\n    //   footerBorderTopColor: `1px solid ${colors.border}`,\n    // },\n    // Notification: {\n    //   background: {\n    //     info: colors.info,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   color: {\n    //     info: colors.N800,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //   },\n\n    Select: {\n        borderColor: '#B5BABD',\n        menuBorderColor: '#B5BABD',\n        background: '#FFFFFF',\n        menuBackground: 'transparent',\n        focusBackground: '#1130FF',\n        selectedColor: '#1130FF',\n    },\n\n    // Scrollable: {\n    //   background: colors.V800,\n    //   thumbBackground: 'rgba(255, 255, 255, 0.4)',\n    //   gradientBottomBackground: 'linear-gradient(180deg, rgba(4, 12, 64, 0) 0%, #040c40 100%)',\n    // },\n    // Spinner: {\n    //   color: colors.primary,\n    //   size: {\n    //     xs: '10px',\n    //     sm: '12px',\n    //     md: '16px',\n    //     lg: '24px',\n    //     xl: '40px',\n    //   },\n    //   thickness: {\n    //     xs: '2px',\n    //     sm: '2px',\n    //     md: '2px',\n    //     lg: '2px',\n    //     xl: '4px',\n    //   },\n    //   speed: '0.7s',\n    // },\n    Table: {\n        headerBackground: colors.N0,\n        rowOddLineBackground: 'rgba(91, 97, 235, 0.1)',\n        rowEvenLineBackground: colors.N0,\n    },\n    // Tabs: {\n    //   activeColor: colors.text,\n    //   color: colors.textMuted,\n    //   inkBarActiveColor: colors.primary,\n    //   inkBarColor: colors.border,\n    //   tabPaneHeight: '80vh',\n    // },\n    // Toggle: {\n    //   variant: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   trackBackground: colors.N300,\n    //   thumbBorderCorlor: colors.N300,\n    //   thumbCheckedBorderColor: colors.N0,\n    //   thumbDisabledBackground: colors.N300,\n    // },\n    // Tooltip: {\n    //   background: '#A99DFF',\n    //   color: colors.V900,\n    // },\n    Toaster: {\n        background: colors.N50,\n    },\n    Modal: {\n        backgroundColor: '#FFFFFF',\n        color: '#7F878D',\n        footerBorderTopColor: `1px solid #EBECED`,\n    },\n});\n\nexport default configComponentStyle;\n","import * as R from 'ramda';\nimport defaultTheme, {colors as defaultColors, utils} from './../defaultTheme';\nimport mediaQueries from './../defaultTheme/media';\nimport * as appThemeColors from './appThemeColors';\nimport appComponentStyle from './appComponentStyle';\n\nconst colors = R.mergeDeepRight(defaultColors, appThemeColors);\n\nconst customTheme = {\n    pageBackground: colors.N50,\n    colors,\n    components: appComponentStyle(colors),\n};\n\nconst theme = R.mergeDeepRight(defaultTheme, customTheme);\n\nconst media = mediaQueries(theme.breakPoints);\n\nexport {colors, media, utils};\nexport default theme;\n","import {rgba} from 'polished';\n\n/** Nuetral */\nexport const N0 = '#FFFFFF';\nexport const N50 = '#F8F9F9';\nexport const N100 = '#EBECED';\nexport const N200 = '#D0D3D5';\nexport const N300 = '#B5BABD';\nexport const N400 = '#9AA0A5';\nexport const N500 = '#7F878D';\nexport const N600 = '#666D73';\nexport const N700 = '#4E5458';\nexport const N800 = '#363A3D';\nexport const N900 = '#1E2022';\nexport const N1000 = '#000000';\n\n/** Red */\nexport const R100 = '#FBD2D3';\nexport const R200 = '#F7A3A6';\nexport const R300 = '#F37479';\nexport const R400 = '#EF454B';\nexport const R500 = '#EB161E';\nexport const R600 = '#BE1017';\nexport const R700 = '#8F0C11';\nexport const R800 = '#60080C';\nexport const R900 = '#310406';\n\n/** Yellow */\nexport const Y100 = '#FFF3CC';\nexport const Y200 = '#FFE899';\nexport const Y300 = '#FFDC66';\nexport const Y400 = '#FFD133';\nexport const Y500 = '#FFC500';\nexport const Y600 = '#CC9E00';\nexport const Y700 = '#997600';\nexport const Y800 = '#664F00';\nexport const Y900 = '#332700';\n\n/** Green */\nexport const G100 = '#CDECD6';\nexport const G200 = '#A9DDB8';\nexport const G300 = '#84CF9A';\nexport const G400 = '#5FC17C';\nexport const G500 = '#42AB61';\nexport const G600 = '#34864C';\nexport const G700 = '#266137';\nexport const G800 = '#173D22';\nexport const G900 = '#09180D';\n\n/** Blue */\nexport const B100 = '#C8E6FF';\nexport const B200 = '#95CEFF';\nexport const B300 = '#63B6FE';\nexport const B400 = '#309FFE';\nexport const B500 = '#0187FA';\nexport const B600 = '#016CC7';\nexport const B700 = '#015094';\nexport const B800 = '#003562';\nexport const B900 = '#00192F';\n\n/** Violet */\nexport const V100 = '#725EFF';\nexport const V200 = '#725EFF';\nexport const V300 = '#5B61EB';\nexport const V400 = '#725EFF';\nexport const V500 = '#1130FF';\nexport const V600 = '#0000CA';\nexport const V700 = '#08187F';\nexport const V800 = '#040C40';\nexport const V900 = '#020835';\n\nexport const brandPrimary = V300;\nexport const brandSecondary = Y400;\n\nexport const primary = V300;\nexport const secondary = V800;\nexport const success = G400;\nexport const warning = Y400;\nexport const danger = R400;\nexport const info = N700;\nexport const nuetral = N500;\nexport const border = rgba(91, 97, 235, 0.3);\nexport const borderLight = rgba(91, 97, 235, 0.3);\nexport const text = N700;\nexport const textMuted = N500;\nexport const textHover = N200;\nexport const link = B500;\nexport const linkHover = B600;\n/**\n * NOTICE: this file only contains basic color defination of basic elements like border,\n * text, link, etc.\n *\n * For application/ components resuable colors, theme/index.js is the file to be considered.\n *\n * */\n","import {lighten} from 'polished';\n\nconst configComponentStyle = colors => ({\n    /**\n     * ===== App layout components - TopBar, SideNav, SubNav, Menus, etc =====\n     */\n    AppSideNav: {\n        background: colors.N0,\n        navItemColor: colors.N500,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveColor: colors.primary,\n    },\n    AppSimpleSidebar: {\n        background: colors.N0,\n    },\n    AppSubNav: {\n        background: colors.N0,\n        boxShadow: 'none',\n    },\n    AppSubNavCollapsibleMenu: {\n        navItemColor: colors.textMuted,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveBackground: lighten(0.9, colors.primary),\n        navItemActiveColor: colors.primary,\n    },\n    AppSubNavSimpleMenu: {\n        navItemColor: colors.textMuted,\n        navItemHoverBackground: colors.primary,\n        navItemHoverColor: colors.N0,\n        navItemActiveColor: colors.primary,\n    },\n    AppTopBar: {\n        background: colors.N0,\n    },\n\n    /**\n     * ================== App specific components =========================\n     */\n\n    AppWalletNavCard: {\n        borderColor: colors.N300,\n        borderHoverColor: colors.primary,\n        borderHoverWidth: '1px',\n        iconColor: colors.textMuted,\n        iconHoverColor: colors.primary,\n    },\n\n    /**\n     * ================= Reusable components ==============================\n     */\n    // Button: {\n    //   fontSize: {\n    //     sm: '14px',\n    //     md: '14px',\n    //     lg: '1rem',\n    //   },\n    //   size: {\n    //     sm: '1.5rem',\n    //     md: '2rem',\n    //     lg: '2.5rem',\n    //   },\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //     info: colors.info,\n    //   },\n    //   hoverColor: {\n    //     primary: colors.B600,\n    //     danger: colors.R600,\n    //     success: colors.G600,\n    //     warning: colors.Y600,\n    //     info: colors.B600,\n    //   },\n    //   contrastColor: {\n    //     primary: colors.N0,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //     info: colors.N0,\n    //   },\n    // },\n    // Checkbox: {\n    //   color: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    // },\n    Input: {\n        borderColor: colors.border,\n        background: colors.N0,\n        // readOnlyBackground: '#CCC',\n        // readOnlyBorderColor: '#DDD',\n        // placeholderColor: '#AAA',\n        // color: colors.N800,\n        // focusBorderColor: colors.B500,\n        // size: {\n        //   sm: '2rem',\n        //   md: '3rem',\n        //   lg: '4rem',\n        // },\n    },\n    // Modal: {\n    //   backgroundColor: colors.V900,\n    //   boxShadow: `0 2px 4px 0 ${colors.N900}`,\n    //   overlayBackground: 'rgba(54, 58, 61, 0.7)',\n    //   color: colors.N0,\n    //   contentPadding: '2rem',\n    //   footerPadding: '1rem',\n    //   footerBorderTopColor: `1px solid ${colors.border}`,\n    // },\n    // Notification: {\n    //   background: {\n    //     info: colors.info,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   color: {\n    //     info: colors.N800,\n    //     danger: colors.N0,\n    //     success: colors.N0,\n    //     warning: colors.N800,\n    //   },\n    Select: {\n        borderColor: colors.N300,\n        menuBorderColor: colors.N300,\n        background: colors.N0,\n        menuBackground: colors.N0,\n        focusBackground: colors.brandPrimary,\n        selectedColor: colors.text,\n    },\n    // Scrollable: {\n    //   background: colors.V800,\n    //   thumbBackground: 'rgba(255, 255, 255, 0.4)',\n    //   gradientBottomBackground: 'linear-gradient(180deg, rgba(4, 12, 64, 0) 0%, #040c40 100%)',\n    // },\n    // Spinner: {\n    //   color: colors.primary,\n    //   size: {\n    //     xs: '10px',\n    //     sm: '12px',\n    //     md: '16px',\n    //     lg: '24px',\n    //     xl: '40px',\n    //   },\n    //   thickness: {\n    //     xs: '2px',\n    //     sm: '2px',\n    //     md: '2px',\n    //     lg: '2px',\n    //     xl: '4px',\n    //   },\n    //   speed: '0.7s',\n    // },\n    Table: {\n        headerBackground: colors.N0,\n        rowOddLineBackground: 'rgba(91, 97, 235, 0.1)',\n        rowEvenLineBackground: colors.N0,\n    },\n    // Tabs: {\n    //   activeColor: colors.text,\n    //   color: colors.textMuted,\n    //   inkBarActiveColor: colors.primary,\n    //   inkBarColor: colors.border,\n    //   tabPaneHeight: '80vh',\n    // },\n    // Toggle: {\n    //   variant: {\n    //     primary: colors.primary,\n    //     danger: colors.danger,\n    //     success: colors.success,\n    //     warning: colors.warning,\n    //   },\n    //   trackBackground: colors.N300,\n    //   thumbBorderCorlor: colors.N300,\n    //   thumbCheckedBorderColor: colors.N0,\n    //   thumbDisabledBackground: colors.N300,\n    // },\n    // Tooltip: {\n    //   background: '#A99DFF',\n    //   color: colors.V900,\n    // },\n    Toaster: {\n        background: colors.N50,\n    },\n    Modal: {\n        background: colors.N50,\n    },\n});\n\nexport default configComponentStyle;\n","import * as R from 'ramda';\nimport defaultTheme, {colors as defaultColors, utils} from './../defaultTheme';\nimport mediaQueries from './../defaultTheme/media';\nimport * as appThemeColors from './appThemeColors';\nimport appComponentStyle from './appComponentStyle';\n\nconst colors = R.mergeDeepRight(defaultColors, appThemeColors);\n\nconst customTheme = {\n    pageBackground: colors.N50,\n    colors,\n    components: appComponentStyle(colors),\n};\n\nconst theme = R.mergeDeepRight(defaultTheme, customTheme);\n\nconst media = mediaQueries(theme.breakPoints);\n\nexport {colors, media, utils};\nexport default theme;\n","import * as darkTheme from './dark';\nimport * as jasmyTheme from './spotx';\nimport * as lightTheme from './light';\n\n/**\n *  As appTheme is picked when the app is initial,\n *  restart the app if the theme has been changed\n */\n// const currentTheme = darkTheme;\nconst {default: theme, colors, utils, media} = jasmyTheme;\n\nexport {colors, utils, media};\nexport default theme;\n","import React, {FC} from 'react';\nimport {LocalizeProvider} from 'react-localize-redux';\nimport {Provider} from 'react-redux';\nimport {ThemeProvider} from 'styled-components';\nimport './app.css';\nimport Layout from './components/Layout';\nimport store from './redux/store';\nimport theme from './themes';\n\nconst App: FC = () => (\n    <Provider store={store}>\n        <ThemeProvider theme={theme}>\n            <LocalizeProvider store={store}>\n                <Layout></Layout>\n            </LocalizeProvider>\n        </ThemeProvider>\n    </Provider>\n);\n\nexport default App;\n","// import React, {FC} from 'react';\n// import ReactDOM from 'react-dom';\n// import {AppContainer} from 'react-hot-loader';\n//\n// // Your top level component\n// import App from './App';\n//\n// // Export your top level component as JSX (for static rendering)\n// export default App;\n//\n// // Render your app\n// if (typeof document !== 'undefined') {\n//     const target = document.getElementById('root');\n//\n//     const renderMethod = target?.hasChildNodes() ? ReactDOM.hydrate : ReactDOM.render;\n//\n//     const render = (Comp: FC) => {\n//         renderMethod(\n//             <AppContainer>\n//                 <Comp />\n//             </AppContainer>,\n//             target\n//         );\n//     };\n//\n//     // Render!\n//     render(App);\n//\n//     // Hot Module Replacement\n//     // @ts-ignore\n//     if (module && module.hot) {\n//         // @ts-ignore\n//         module.hot.accept('./App', () => {\n//             render(App);\n//         });\n//     }\n// }\n//\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","export default [\n    {\n        name: 'English',\n        code: 'en',\n    },\n    {\n        name: '日本語',\n        code: 'ja',\n    },\n    {\n        name: '简体中文',\n        code: 'zh-Hans', // simplified chinese\n    },\n    {\n        name: '繁体中文',\n        code: 'zh-Hant', // traditional chinese\n    },\n];\n","import en from './en.json';\nimport ja from './ja.json';\nimport zhHans from './zh-Hans.json';\nimport zhHant from './zh-Hant.json';\n\nconst translations = {\n    en,\n    ja,\n    zhHans,\n    zhHant,\n};\n\nexport default translations;\n","export class Storage<StorageProps> {\n    store: any;\n    prefix: any;\n\n    constructor(store, prefix) {\n        this.store = store;\n        if (prefix) {\n            this.prefix = `${prefix}_`;\n        } else {\n            this.prefix = '';\n        }\n    }\n\n    getPrefixedKey(key) {\n        return `${this.prefix}${key}`;\n    }\n\n    getItem(key: any) {\n        return this.store ? this.store.getItem(this.getPrefixedKey(key)) : null;\n    }\n\n    setItem(key, value) {\n        return this.store ? this.store.setItem(this.getPrefixedKey(key), value) : null;\n    }\n\n    removeItem(key) {\n        this.store.removeItem(this.getPrefixedKey(key));\n    }\n\n    prefixedKeys() {\n        const keys: any = [];\n        for (let i = 0, len = this.store.length; i < len; i += 1) {\n            const key = this.store.key(i);\n            if (key.startsWith(this.prefix)) {\n                keys.push(key);\n            }\n        }\n        return keys;\n    }\n\n    clear() {\n        if (this.prefix === '') {\n            this.store.clear();\n            return;\n        }\n        for (const key of this.prefixedKeys()) {\n            this.store.removeItem(key);\n        }\n    }\n}\n\n// allow rereact static to prebuild\nlet localStorageX: null | Storage<any> = null;\nlet sessionStorageX: null | Storage<any> = null;\n\ntry {\n    const prefix = 'EV';\n    if (typeof window !== 'undefined') {\n        localStorageX = new Storage(window.localStorage, prefix);\n        sessionStorageX = new Storage(window.sessionStorage, prefix);\n    }\n} catch {}\n\nexport const localStorage = localStorageX;\nexport const sessionStorage = sessionStorageX;\n\n/*\nexport const makeLocalStorage = (prefix) => new Storage(window.localStorage, prefix);\nexport const makeSessionStorage = (prefix) => new Storage(window.sessionStorage, prefix);\n\nexport const localStorage = makeLocalStorage(defaultPrefix);\nexport const sessionStorage = makeSessionStorage(defaultPrefix);*/\n","import * as R from 'ramda';\nimport {addTranslationForLanguage, initialize} from 'react-localize-redux';\nimport {ofType} from 'redux-observable';\nimport {of} from 'rxjs';\nimport {mergeMap} from 'rxjs/operators';\nimport supportedLanguages from '../../i18n/supportedLanguages';\nimport translations from '../../i18n/translations';\nimport {localStorage} from '../../storage';\nimport actions from '../actions';\n\nlet currentLanguage = 'en';\ntry {\n    if (typeof window !== 'undefined') {\n        currentLanguage = window.navigator.language;\n    }\n} catch {}\n\nconst i18nEpic = action$ =>\n    action$.pipe(\n        ofType(actions.GlobalActions.INIT_APP),\n        mergeMap(() =>\n            of(\n                initialize({\n                    languages: sortLocale(localStorage, supportedLanguages, currentLanguage),\n                    options: {\n                        renderToStaticMarkup: false, // don't support translations that contain HTML\n                        onMissingTranslation: ({translationId}) => `*${translationId}*`,\n                    },\n                }),\n                // @ts-ignore\n                ...addTranslations(translations)\n            )\n        )\n    );\n\nconst sortLocale = (storage, languages, defaultLanguage) => {\n    const preferredLocale = storage ? storage.getItem('USER_LOCALE') || defaultLanguage : defaultLanguage;\n    const selectedLang = R.find((lang: any) => preferredLocale.toLowerCase().includes(lang.code))(languages);\n    return selectedLang ? R.prepend(selectedLang, R.without([selectedLang])(languages)) : languages;\n};\n\nconst addTranslations = translations =>\n    // @ts-ignore\n    Object.entries(translations).map(([code, trans]: any) => addTranslationForLanguage(trans, code));\n\nexport default i18nEpic;\n","import {createAction} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {IAssetBalance, IAssetSwap, IExchangePool, IExtrinsic, IFee} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\n\nexport enum ExchangeActions {\n    SELECTED_ACCOUNT_UPDATE = 'EXCHANGE/SELECTED_ACCOUNT_UPDATE',\n    SELECTED_FROM_ASSET_UPDATE = 'EXCHANGE/SELECTED_FROM_ASSET_UPDATE',\n    SELECTED_TO_ASSET_UPDATE = 'EXCHANGE/SELECTED_TO_ASSET_UPDATE',\n    FROM_ASSET_AMOUNT_SET = 'EXCHANGE/FROM_ASSET_AMOUNT_SET',\n    TO_ASSET_AMOUNT_SET = 'EXCHANGE/TO_ASSET_AMOUNT_SET',\n    FROM_ASSET_AMOUNT_UPDATE = 'EXCHANGE/FROM_ASSET_AMOUNT_UPDATE',\n    TO_ASSET_AMOUNT_UPDATE = 'EXCHANGE/TO_ASSET_AMOUNT_UPDATE',\n    FROM_ASSET_BALANCE_UPDATE = 'EXCHANGE/FROM_ASSET_BALANCE_UPDATE',\n    TRANSACTION_FEE_UPDATE = 'EXCHANGE/TRANSACTION_FEE_UPDATE',\n    TRANSACTION_FEE_REQUEST = 'EXCHANGE/TRANSACTION_FEE_REQUEST',\n    EXCHANGE_RATE_REQUEST = 'EXCHANGE/EXCHANGE_RATE_REQUEST',\n    EXCHANGE_RATE_UPDATE = 'EXCHANGE/EXCHANGE_RATE_UPDATE',\n    TRADE_RESET = 'EXCHANGE/TRADE_RESET',\n    ASSET_SWAP = 'EXCHANGE/ASSET_SWAP',\n    EXTRINSIC_UPDATE = 'EXCHANGE/EXTRINSIC_UPDATE',\n    EXCHANGE_POOL_BALANCE_UPDATE = 'EXCHANGE/EXCHANGE_POOL_BALANCE_UPDATE',\n    FEE_ASSET_UPDATE = 'EXCHANGE/FEE_ASSET_UPDATE',\n    USER_ASSET_BALANCE_UPDATE = 'EXCHANGE/USER_ASSET_BALANCE_UPDATE',\n    TRANSACTION_BUFFER_UPDATE = 'EXCHANGE/TRANSACTION_BUFFER_UPDATE',\n    TRANSACTION_FEE_PARAMS_UPDATE = 'EXCHANGE/TRANSACTION_FEE_PARAMS_UPDATE',\n    ERROR_SET = 'EXCHANGE/ERROR_SET',\n    ERROR_RESET = 'EXCHANGE/ERROR_RESET',\n    ERROR_REMOVE = 'EXCHANGE/ERROR_REMOVE',\n    ASSET_BALANCE_REQUEST = 'EXCHANGE/ASSET_BALANCE_REQUEST',\n    PAY_TRANSACTION_ASSET_SWAP = 'PAY_TRANSACTION_ASSET_SWAP',\n}\n\nexport const updateSelectedAccount = createAction(\n    ExchangeActions.SELECTED_ACCOUNT_UPDATE,\n    (account: string) => account\n);\n\nexport const updateSelectedFromAsset = createAction(\n    ExchangeActions.SELECTED_FROM_ASSET_UPDATE,\n    (fromAsset: number) => fromAsset\n);\n\nexport const updateSelectedToAsset = createAction(\n    ExchangeActions.SELECTED_TO_ASSET_UPDATE,\n    (toAsset: number) => toAsset\n);\n\nexport const setFromAssetAmount = createAction(\n    ExchangeActions.FROM_ASSET_AMOUNT_SET,\n    (fromAssetAmount: Amount) => fromAssetAmount\n);\n\nexport const setToAssetAmount = createAction(\n    ExchangeActions.TO_ASSET_AMOUNT_SET,\n    (toAssetAmount: Amount) => toAssetAmount\n);\n\nexport const updateFromAssetAmount = createAction(\n    ExchangeActions.FROM_ASSET_AMOUNT_UPDATE,\n    (fromAssetAmount: Amount) => fromAssetAmount\n);\n\nexport const updateToAssetAmount = createAction(\n    ExchangeActions.TO_ASSET_AMOUNT_UPDATE,\n    (toAssetAmount: Amount) => toAssetAmount\n);\n\nexport const updateFeeAsset = createAction(ExchangeActions.FEE_ASSET_UPDATE, (assetId: number) => assetId);\n\nexport const updateUserAssetBalance = createAction(\n    ExchangeActions.USER_ASSET_BALANCE_UPDATE,\n    (assetBalance: IAssetBalance) => assetBalance\n);\n\nexport const updateTransactionFee = createAction(ExchangeActions.TRANSACTION_FEE_UPDATE, (fee: IFee) => fee);\n\nexport const requestTransactionFee = createAction(ExchangeActions.TRANSACTION_FEE_REQUEST);\n\nexport const requestAssetBalance = createAction(ExchangeActions.ASSET_BALANCE_REQUEST, (assetId, signingAccount) => {\n    return {\n        assetId,\n        signingAccount,\n    };\n});\n\nexport const requestExchangeRate = createAction(ExchangeActions.EXCHANGE_RATE_REQUEST);\n\nexport const updateExchangeRate = createAction(\n    ExchangeActions.EXCHANGE_RATE_UPDATE,\n    (exchangeRate: Amount) => exchangeRate\n);\n\nexport const resetTrade = createAction(ExchangeActions.TRADE_RESET);\n\nexport const swapAsset = createAction(ExchangeActions.ASSET_SWAP);\n\nexport const swapPayTransactionAsset = createAction(ExchangeActions.PAY_TRANSACTION_ASSET_SWAP);\n\nexport const updateExtrinsic = createAction(ExchangeActions.EXTRINSIC_UPDATE, (extrinsic: string) => extrinsic);\n\nexport const updatePoolBalance = createAction(\n    ExchangeActions.EXCHANGE_POOL_BALANCE_UPDATE,\n    (poolBalance: IExchangePool) => poolBalance\n);\n\nexport const updateTxFeeParameter = createAction(\n    ExchangeActions.TRANSACTION_FEE_PARAMS_UPDATE,\n    (feeParams: any[]) => feeParams\n);\n\nexport const updateTransactionBuffer = createAction(\n    ExchangeActions.TRANSACTION_BUFFER_UPDATE,\n    (buffer: number) => buffer\n);\n\nexport const setExchangeError = createAction(ExchangeActions.ERROR_SET, (error: BaseError) => error);\n\nexport const removeExchangeError = createAction(ExchangeActions.ERROR_REMOVE, (err: BaseError) => err);\n\nexport const resetError = createAction(ExchangeActions.ERROR_RESET);\n\nexport type UpdateSelectedAccountAction = ReturnType<typeof updateSelectedAccount>;\n\nexport type UpdateSelectedFromAssetAction = ReturnType<typeof updateSelectedFromAsset>;\n\nexport type UpdateSelectedToAssetAction = ReturnType<typeof updateSelectedToAsset>;\n\nexport type SetFromAssetAmountAction = ReturnType<typeof setFromAssetAmount>;\n\nexport type SetToAssetAmountAction = ReturnType<typeof setToAssetAmount>;\n\nexport type UpdateFromAssetAmountAction = ReturnType<typeof updateFromAssetAmount>;\n\nexport type UpdateToAssetAmountAction = ReturnType<typeof updateToAssetAmount>;\n\nexport type UpdateTransactionFeeAction = ReturnType<typeof updateTransactionFee>;\n\nexport type RequestTransactionFeeAction = ReturnType<typeof requestTransactionFee>;\n\nexport type RequestExchangeRateAction = ReturnType<typeof requestExchangeRate>;\n\nexport type UpdateExchangeRateAction = ReturnType<typeof updateExchangeRate>;\n\nexport type SwapAssetAction = ReturnType<typeof swapAsset>;\n\nexport type SwapPayTransactionAssetAction = ReturnType<typeof swapPayTransactionAsset>;\n\nexport type UpdateExtrinsicAction = ReturnType<typeof updateExtrinsic>;\n\nexport type UpdatePoolBalanceAction = ReturnType<typeof updatePoolBalance>;\n\nexport type UpdateUserAssetBalanceAction = ReturnType<typeof updateUserAssetBalance>;\n\nexport type UpdateFeeAssetAction = ReturnType<typeof updateFeeAsset>;\n\nexport type UpdateTxFeeParameterAction = ReturnType<typeof updateTxFeeParameter>;\n\nexport type SetExchangeErrorAction = ReturnType<typeof setExchangeError>;\n\nexport type ResetExchangeErrorAction = ReturnType<typeof resetError>;\n\nexport type RemoveExchangeErrorAction = ReturnType<typeof removeExchangeError>;\n\nexport type UpdateTransactionBufferAction = ReturnType<typeof updateTransactionBuffer>;\nexport type RequestAssetBalanceAction = ReturnType<typeof requestAssetBalance>;\n\nexport default ExchangeActions;\n","import {ApiRx, SubmittableResult} from '@cennznet/api';\nimport {SubmittableExtrinsic} from '@cennznet/api/types';\nimport BN from 'bn.js';\nimport {async, Observable, of} from 'rxjs';\nimport {catchError, map, mergeMap, switchMap} from 'rxjs/operators';\n\n/**\n *\n * @param {ICennznetExtrinsic<Observable<SubmittableResult>, {}>} tx\n * @param {string} siginingAccount\n * @param {number} feeAssetId\n * @param {ApiRx} api\n * @returns {Observable<[BN, BN]>} - The first BN is the fee in CPAY and second BN is the fee in fee asset.\n */\n\nconst getFee = async (api, feeAssetId, signingAccount, maxPayment) => {\n    const extrinsic = await api.tx.genericAsset.transfer(feeAssetId, signingAccount, 10000);\n    const feeFromQuery = await api.derive.fees.estimateFee({extrinsic, userFeeAssetId: feeAssetId, maxPayment});\n    return feeFromQuery;\n};\n\nexport function observableEstimatedFee(\n    tx: SubmittableExtrinsic<'promise' | 'rxjs'>,\n    signingAccount: string,\n    feeAssetId: number,\n    api: ApiRx\n): Observable<BN[]> {\n    const maxPayment = '50000000000000000';\n\n    return api.derive.fees.estimateFee({extrinsic: tx, userFeeAssetId: feeAssetId, maxPayment}).pipe(\n        switchMap(estimatedFeeAssetAmount => {\n            return of([estimatedFeeAssetAmount as BN, estimatedFeeAssetAmount as BN]);\n        })\n    );\n}\n\nexport function observableActualFee(blockHash: any, extrinsicIndex: BN, api: ApiRx): Observable<BN> {\n    return api.query.system.events.at(blockHash).pipe(\n        map((events: any) => {\n            //event.event.data = [0 - extrinsic index and 1 - fee amount] for fee charged event\n            const feeChargeEvent = events.find(\n                event =>\n                    event.event.data.method === 'Charged' &&\n                    event.event.section === 'fees' &&\n                    event.event.data[0].eq(extrinsicIndex)\n            );\n            if (feeChargeEvent) {\n                const gas = feeChargeEvent.event.data[1];\n                return gas;\n            } else {\n                throw new Error('Error fetching fee charged');\n            }\n        })\n    );\n}\n\nexport function addBufer(assetAmount: BN) {\n    if (typeof window !== 'undefined') {\n        return assetAmount.muln(1 + parseFloat(process.env.FEE_BUFFER as string));\n    }\n}\n","import {FormSection} from '../pages/exchange/exchange';\nimport {FormSection as FormSectionForLiquidity} from '../pages/liquidity/liquidity';\nimport {Asset} from '../typings';\nimport {Amount} from '../util/Amount';\n\nexport abstract class BaseError extends Error {\n    abstract name: string;\n    origin: Error;\n    __proto__: any;\n\n    protected constructor(msg: string, throwable?: Error) {\n        super(msg);\n        this.origin = throwable as Error;\n\n        const actualProto = new.target.prototype;\n\n        if (Object.setPrototypeOf) {\n            Object.setPrototypeOf(this, actualProto);\n        } else {\n            this.__proto__ = actualProto;\n        }\n    }\n}\n\nexport class InsufficientBalanceForOperation extends BaseError {\n    name: string = 'InsufficientBalanceForOperation';\n    constructor(remain: Amount, need: Amount, feeAsset: string) {\n        super(`Needed: ${need.asString(5, Amount.ROUND_UP)} and user has only ${remain.asString(5)} ${feeAsset}`);\n    }\n}\n\nexport class InsufficientFeeForOperation extends BaseError {\n    name: string = 'InsufficientFeeForOperation';\n    constructor(msg) {\n        super(msg);\n    }\n}\n\nexport class ExtrinsicFailed extends BaseError {\n    name: string = 'ExtrinsicFailed';\n    constructor(msg) {\n        super(msg);\n    }\n}\n\nexport class NodeConnectionTimeOut extends BaseError {\n    name: string = 'NodeConnectionTimeOut';\n    constructor() {\n        super('Connection from node failed');\n    }\n}\n\nexport class EmptyPool extends BaseError {\n    name: string = 'EmptyPool';\n    asset: Asset;\n    constructor(asset: Asset) {\n        super(`The pool for asset: ${asset.symbol} is empty.`);\n        this.asset = asset;\n    }\n}\n\nexport type FormErrorTypes =\n    | AmountExceedsPoolBalance\n    | EmptyPool\n    | PoolBalanceNotEnough\n    | UserBalanceNotEnough\n    | UserBalanceNotEnoughForFee\n    | FromAssetAmountRequired\n    | ToAssetAmountRequired\n    | FromAssetNotSelected\n    | ToAssetNotSelected\n    | AccountNotSelected\n    | FieldNotReady\n    | RecipientAddress\n    | UnknownFormError;\n\nexport class AmountExceedsPoolBalance extends BaseError {\n    name: string = 'AmountExceedsPoolBalance';\n    constructor() {\n        super('The price exceeds the pool capacity');\n    }\n}\n\nexport class PoolBalanceNotEnough extends BaseError {\n    name: string = 'PoolBalanceNotEnough';\n    asset: Asset;\n    constructor(asset: Asset, require: Amount, reserve: Amount) {\n        super(\n            `Not enough in the pool of ${asset.symbol}, require: ${require.asString(5)}, reserve: ${reserve.asString(\n                5\n            )}`\n        );\n        this.asset = asset;\n    }\n}\n\nexport class UserBalanceNotEnough extends BaseError {\n    name: string = 'UserBalanceNotEnough';\n    asset: Asset;\n    constructor(asset: Asset, require?: Amount) {\n        super(\n            require\n                ? `Not enough available, requires ${require.asString(asset.decimalPlaces, Amount.ROUND_UP)} ${\n                      asset.symbol\n                  }`\n                : `Not enough available`\n        );\n        this.asset = asset;\n    }\n}\n\nexport class UserBalanceNotEnoughForFee extends BaseError {\n    name: string = 'UserBalanceNotEnoughForFee';\n    feeAsset: Asset;\n    constructor(feeAsset: Asset, require: Amount, reserve: Amount) {\n        super(\n            `Not enough ${feeAsset.symbol} in wallet to pay transaction fee, requires additional: ${require &&\n                require.asString(feeAsset.decimalPlaces, Amount.ROUND_UP)}`\n        );\n        this.feeAsset = feeAsset;\n    }\n}\n\nexport class UserPoolBalanceNotEnough extends BaseError {\n    name: string = 'UserPoolBalanceNotEnough';\n    asset: Asset;\n    constructor(asset: Asset, require?: Amount, reserve?: Amount) {\n        super(\n            require\n                ? `Not enough ${asset.symbol} in user pool, require: ${require.asString(\n                      asset.decimalPlaces,\n                      Amount.ROUND_UP\n                      //@ts-ignore\n                  )}, available: ${reserve.asString(asset.decimalPlaces)}`\n                : `Not enough ${asset.symbol} in user pool`\n        );\n        this.asset = asset;\n    }\n}\n\nexport class FromAssetAmountRequired extends BaseError {\n    name: string = 'FromAssetAmountRequired';\n    constructor(symbol: string) {\n        super(`Please enter ${symbol} amount`);\n    }\n}\n\nexport class RecipientAddress extends BaseError {\n    name: string = 'RecipientAddress';\n    constructor() {\n        super('Please enter an address');\n    }\n}\n\nexport class ToAssetAmountRequired extends BaseError {\n    name: string = 'ToAssetAmountRequired';\n    constructor(symbol: string) {\n        super(`Please enter ${symbol} amount`);\n    }\n}\n\nexport class FromAssetNotSelected extends BaseError {\n    name: string = 'FromAssetNotSelected';\n    constructor() {\n        super('Please select an asset');\n    }\n}\n\nexport class ToAssetNotSelected extends BaseError {\n    name: string = 'ToAssetNotSelected';\n    constructor() {\n        super('Please select an asset');\n    }\n}\n\nexport class AccountNotSelected extends BaseError {\n    name: string = 'AccountNotSelected';\n    constructor() {\n        super('Please select an account');\n    }\n}\n\nexport class FieldNotReady extends BaseError {\n    name: string = 'FieldNotReady';\n    field: FormSection;\n    constructor(field: FormSection) {\n        super('Please wait');\n        this.field = field;\n    }\n}\n\nexport class FieldNotReadyForLiquidity extends BaseError {\n    name: string = 'FieldNotReady';\n    field: FormSectionForLiquidity;\n    constructor(field: FormSectionForLiquidity) {\n        super('Please wait');\n        this.field = field;\n    }\n}\n\nexport class UnknownFormError extends BaseError {\n    name: string = 'UnknownFormError';\n    error: Error;\n    constructor(error: Error) {\n        super(error.message);\n        this.error = error;\n    }\n}\n\nexport class IncorrectLiquidity extends BaseError {\n    name: string = 'IncorrectLiquidity';\n    constructor() {\n        super('Amount too small: please select a different amount');\n    }\n}\n","import {\n    AddLiquidityFormData,\n    ExchangeFormData,\n    IAddLiquidity,\n    IRemoveLiquidity,\n    LiquidityFormData,\n    RemoveLiquidityFormData,\n    SendFormData,\n} from '../typings';\nimport {Amount} from './Amount';\n\nexport const SWAP_OUTPUT = 'buyAsset';\nexport const SWAP_INPUT = 'sellAsset';\nexport const ADD_LIQUIDITY = 'addLiquidity';\nexport const REMOVE_LIQUIDITY = 'removeLiquidity';\nexport type liquidityPARAMSOutput = [number, Amount, Amount, Amount];\nexport type exchangePARAMSOutput = [number, number, Amount, Amount];\n\nexport function prepareExchangeExtrinsicParamsWithBuffer(\n    extrinsic: string,\n    params:\n        | Partial<ExchangeFormData>\n        | Partial<SendFormData>\n        | Partial<LiquidityFormData>\n        | Partial<AddLiquidityFormData>\n        | Partial<RemoveLiquidityFormData>\n): liquidityPARAMSOutput | exchangePARAMSOutput | [] {\n    switch (extrinsic) {\n        case ADD_LIQUIDITY:\n            return [\n                (params as LiquidityFormData).assetId,\n                (params as LiquidityFormData).coreAssetId,\n                (params as LiquidityFormData).coreAmount, // # of pool liquidity shares to mint\n                (params as LiquidityFormData).assetAmount, // max asset deposit\n            ];\n        case REMOVE_LIQUIDITY:\n            return [\n                (params as LiquidityFormData).assetId,\n                (params as LiquidityFormData).coreAssetId,\n                (params as LiquidityFormData).coreAmount, // min core amount to withdraw\n                (params as LiquidityFormData).assetAmount, // min asset amount to withdraw\n            ];\n        case SWAP_OUTPUT:\n            return [\n                (params as ExchangeFormData).fromAsset,\n                (params as ExchangeFormData).toAsset,\n                (params as ExchangeFormData).fromAssetAmount,\n                // new Amount((params as ExchangeFormData).fromAssetAmount.muln(1 + (params as ExchangeFormData).buffer)),\n                (params as ExchangeFormData).toAssetAmount,\n            ];\n        case SWAP_INPUT:\n            return [\n                (params as ExchangeFormData).fromAsset,\n                (params as ExchangeFormData).toAsset,\n                (params as ExchangeFormData).fromAssetAmount,\n                // new Amount((params as ExchangeFormData).toAssetAmount.muln(1 - (params as ExchangeFormData).buffer)),\n                (params as ExchangeFormData).toAssetAmount,\n            ];\n        default:\n            return [];\n    }\n}\n\n// export function prepareLiquidityParams(\n//     extrinsic: string,\n//     params: IAddLiquidity | IRemoveLiquidity\n//     // addLiquidity: IAddLiquidity,\n//     // removeLiquidity: IRemoveLiquidity\n// ) {\n//     if (extrinsic === ADD_LIQUIDITY) {\n//         return [addLiquidity.form.asset as number, addLiquidity.form.investor as string];\n//     } else if (extrinsic === REMOVE_LIQUIDITY) {\n//         return [removeLiquidity.form.asset as number, removeLiquidity.form.investor as string];\n//     } else {\n//         return [];\n//     }\n// }\n","import {EventRecord, Hash} from '@cennznet/types';\nimport BN from 'bn.js';\nimport {createAction} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {IExtrinsic, IFee} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport {Stages} from '../../reducers/ui/txDialog.reducer';\nimport ExchangeActions from './exchange.action';\n\nexport enum TxDialogActions {\n    DIALOG_OPEN = 'TX_DIALOG/DIALOG_OPEN',\n    DIALOG_CLOSE = 'TX_DIALOG/DIALOG_CLOSE',\n    STAGE_UPDATE = 'TX_DIALOG/POP_UP_STAGE_UPDATE',\n    TX_HASH_UPDATE = 'TX_DIALOG/TX_HASH_UPDATE',\n    TX_ACTUAL_FEE_UPDATE = 'TX_DIALOG/TX_ACTUAL_FEE_UPDATE',\n    TX_EVENTS_UPDATE = 'TX_DIALOG/TX_EVENT_UPDATE',\n    TRANSACTION_SUBMIT_REQUEST = 'TX_DIALOG/TRANSACTION_SUBMIT_REQUEST',\n    TRANSACTION_SUBMIT_SEND = 'TX_DIALOG/TRANSACTION_SUBMIT_SEND',\n    TRANSACTION_SUBMIT_LIQUIDITY = 'TX_DIALOG/TRANSACTION_SUBMIT_LIQUIDITY',\n    TX_ACTUAL_FEE_REQUEST = 'TX_DIALOG/TX_ACTUAL_FEE_REQUEST',\n    ERROR_SET = 'TX_DIALOG/ERROR_SET',\n    ERROR_RESET = 'TX_DIALOG/ERROR_RESET',\n}\n\nexport interface SubmitLiquidity {\n    extrinsic: IExtrinsic;\n    signingAccount: string;\n    feeAssetId: number;\n    feeInFeeAsset: IFee;\n    buffer: number;\n}\nexport interface OpenDialog {\n    title?: string;\n    signingAccount: string;\n    extrinsic: IExtrinsic;\n    feeInFeeAsset: IFee;\n    feeAssetId: number;\n    recipientAddress?: string;\n    fromAsset?: number;\n    toAsset?: number;\n    fromAssetAmount?: Amount;\n    fromAssetBalance?: Amount;\n    buffer?: number;\n}\n\nexport interface SubmitType {\n    title?: string;\n    signingAccount: string;\n    extrinsic: IExtrinsic;\n    feeInFeeAsset: IFee;\n    feeAssetId: number;\n    buffer: number;\n    recipientAddress?: string;\n}\n\nexport const openDialog = createAction(\n    TxDialogActions.DIALOG_OPEN,\n    ({\n        title,\n        signingAccount,\n        extrinsic,\n        feeInFeeAsset,\n        feeAssetId,\n        recipientAddress,\n        fromAsset,\n        fromAssetBalance,\n    }: OpenDialog) => ({\n        title,\n        signingAccount,\n        extrinsic,\n        feeInFeeAsset,\n        feeAssetId,\n        recipientAddress,\n        fromAsset,\n        fromAssetBalance,\n    })\n);\n\nexport const updateActualFee = createAction(TxDialogActions.TX_ACTUAL_FEE_UPDATE, (fee: Amount) => fee);\n\nexport const requestSubmitTransaction = createAction(\n    TxDialogActions.TRANSACTION_SUBMIT_REQUEST,\n    ({extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer}) => ({\n        extrinsic,\n        signingAccount,\n        feeAssetId,\n        feeInFeeAsset,\n        buffer,\n    })\n);\nexport const requestSubmitSend = createAction(\n    TxDialogActions.TRANSACTION_SUBMIT_SEND,\n    ({\n        extrinsic,\n        signingAccount,\n        feeAssetId,\n        feeInFeeAsset,\n        recipientAddress,\n        fromAsset,\n        toAsset,\n        fromAssetAmount,\n        fromAssetBalance,\n        buffer,\n    }: OpenDialog) => ({\n        extrinsic,\n        signingAccount,\n        feeAssetId,\n        feeInFeeAsset,\n        recipientAddress,\n        fromAsset,\n        toAsset,\n        fromAssetAmount,\n        fromAssetBalance,\n        buffer,\n    })\n);\n\nexport const requestSubmitLiquidity = createAction(\n    TxDialogActions.TRANSACTION_SUBMIT_LIQUIDITY,\n    ({extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer}: SubmitLiquidity) => {\n        return {\n            extrinsic,\n            signingAccount,\n            feeAssetId,\n            feeInFeeAsset,\n            buffer,\n        };\n    }\n);\n\nexport const updateStage = createAction(TxDialogActions.STAGE_UPDATE, (stage: Stages) => stage);\n\nexport const closeDialog = createAction(TxDialogActions.DIALOG_CLOSE);\n\nexport const updateTxHash = createAction(TxDialogActions.TX_HASH_UPDATE, (txHash: string) => txHash);\n\nexport const updateTxEvents = createAction(TxDialogActions.TX_EVENTS_UPDATE, (events: EventRecord[]) => events);\n\nexport const requestActualFee = createAction(\n    TxDialogActions.TX_ACTUAL_FEE_REQUEST,\n    (feeParams: {blockHash: Hash; extrinsicIndex: BN}) => feeParams\n);\n\nexport const setDialogError = createAction(TxDialogActions.ERROR_SET, (err: BaseError) => err);\n\nexport const resetDialogError = createAction(ExchangeActions.ERROR_RESET);\n\nexport type OpenTxDialogAction = ReturnType<typeof openDialog>;\n\nexport type UpdateActualFeeAction = ReturnType<typeof updateActualFee>;\n\nexport type UpdateStageAction = ReturnType<typeof updateStage>;\n\nexport type UpdateTxHashAction = ReturnType<typeof updateTxHash>;\n\nexport type UpdateTxEventsAction = ReturnType<typeof updateTxEvents>;\n\nexport type RequestActualFeeAction = ReturnType<typeof requestActualFee>;\n\nexport type RequestSubmitTransaction = ReturnType<typeof requestSubmitTransaction>;\n\nexport type RequestSubmitSend = ReturnType<typeof requestSubmitSend>;\n\nexport type RequestSubmitLiquidity = ReturnType<typeof requestSubmitLiquidity>;\n\nexport type SetDialogErrorAction = ReturnType<typeof setDialogError>;\n\nexport type ResetErrorAction = ReturnType<typeof resetDialogError>;\n\nexport default TxDialogActions;\n","import {AssetId, Balance, BalanceLock, Vec} from '@cennznet/types';\nimport {stringToHex} from '@polkadot/util';\nimport {Action} from 'redux-actions';\nimport {combineEpics, ofType} from 'redux-observable';\nimport {from} from 'rxjs';\nimport {combineLatest, Observable, of} from 'rxjs/index';\nimport {filter, mergeMap, switchMap, takeUntil, withLatestFrom} from 'rxjs/operators';\nimport {IAssetBalance, IEpicDependency} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport types from '../../actions';\nimport {\n    requestTotalLiquidity,\n    requestUserAssetBalance,\n    updateUserAssetBalance,\n    UpdateUserAssetBalanceAction,\n} from '../../actions/ui/liquidity.action';\nimport {AppState} from '../../reducers';\n\nexport function fetchBalanceExcludeLock<T>(api, signingAccount, balance: T, assetId): Observable<IAssetBalance> {\n    return api.query.genericAsset.locks(signingAccount).pipe(\n        switchMap(\n            (lockBalance: Vec<BalanceLock>): Observable<IAssetBalance> => {\n                const lockBal = lockBalance.toArray();\n                let userBal;\n                if (lockBal.length > 0) {\n                    const stakeBal = lockBal.find(lock => lock.id.toString() === stringToHex('staking '));\n                    const freeBalance = stakeBal ? (balance as any).sub(stakeBal.amount) : new Amount(0);\n                    userBal = new Amount(freeBalance.toString());\n                } else {\n                    userBal = new Amount((balance as any).toString());\n                }\n                const newAssetBalance = {assetId, account: signingAccount, balance: userBal};\n                return of(newAssetBalance);\n            }\n        )\n    );\n}\n\nexport const updateUserAssetBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<UpdateUserAssetBalanceAction> =>\n    combineLatest([api$, action$.pipe(ofType(types.ui.Liquidity.USER_ASSET_BALANCE_REQUEST))]).pipe(\n        withLatestFrom(store$),\n        filter(([, store]) => !!store.global.stakingAssetId),\n        // MergeMap to merge request for fee asset's balance and with asset's balance\n        mergeMap(\n            ([\n                [\n                    api,\n                    {\n                        payload: {assetId, signingAccount},\n                    },\n                ],\n                store,\n            ]): Observable<Action<any>> => {\n                const {stakingAssetId} = store.global;\n                return api.query.genericAsset.freeBalance(assetId, signingAccount).pipe(\n                    //@ts-ignore\n                    switchMap((balance: Balance) => {\n                        //@ts-ignore\n                        if (assetId === stakingAssetId.toNumber()) {\n                            return fetchBalanceExcludeLock(api, signingAccount, balance, assetId).pipe(\n                                switchMap((newAssetBalance: IAssetBalance) => {\n                                    return of(updateUserAssetBalance(newAssetBalance));\n                                })\n                            );\n                        }\n                        const newAssetBalance = {\n                            assetId,\n                            account: signingAccount,\n                            balance: new Amount(balance.toString()),\n                        };\n                        return of(updateUserAssetBalance(newAssetBalance));\n                    }),\n                    takeUntil(action$.pipe(ofType(types.ui.Liquidity.LIQUIDITY_RESET)))\n                );\n            }\n        )\n    );\n\nexport const prepareRequestUserFeeAssetsBalanceEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Liquidity.FEE_ASSET_UPDATE, types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        filter(([, store]) => store.ui.liquidity.form.feeAssetId && !!store.ui.liquidity.form.signingAccount),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                const {feeAssetId, signingAccount} = store.ui.liquidity.form;\n                return of(requestUserAssetBalance(feeAssetId, signingAccount));\n            }\n        )\n    );\n\nexport const prepareRequestTotalLiquidityEpic = (\n    action$: Observable<Action<any>>,\n    store$: Observable<AppState>,\n    {api$}: IEpicDependency\n): Observable<Action<any>> =>\n    combineLatest([\n        api$,\n        action$.pipe(ofType(types.ui.Liquidity.SELECTED_ASSET1_UPDATE, types.ui.Liquidity.SELECTED_ACCOUNT_UPDATE)),\n    ]).pipe(\n        withLatestFrom(store$),\n        //@ts-ignore\n        filter(([, store]) => store.ui.liquidity.form.assetId && !!store.ui.liquidity.form.signingAccount),\n        switchMap(\n            ([, store]): Observable<Action<any>> => {\n                const {assetId} = store.ui.liquidity.form;\n                const retObservable: Action<any>[] = [];\n                retObservable.push(requestTotalLiquidity(assetId as number));\n                return from(retObservable);\n            }\n        )\n    );\n\nexport default combineEpics(\n    updateUserAssetBalanceEpic,\n    prepareRequestUserFeeAssetsBalanceEpic,\n    prepareRequestTotalLiquidityEpic\n);\n","//import { ExtDef } from '@polkadot/types';\nimport {InterfaceTypes} from '@polkadot/types/types';\n\nexport type ExtTypes = Record<string, keyof InterfaceTypes>;\n\nexport type ExtInfo = {\n    extrinsic: ExtTypes;\n    payload: ExtTypes;\n};\n\nexport type ExtDef = Record<string, ExtInfo>;\n\nconst CheckMortality = {\n    payload: {\n        blockHash: 'Hash',\n    },\n    extrinsic: {\n        era: 'ExtrinsicEra',\n    },\n};\n\nexport const cennznetExtensions: ExtDef = ({\n    ChargeTransactionPayment: {\n        payload: {},\n        extrinsic: {\n            transactionPayment: 'ChargeTransactionPayment',\n        },\n    },\n    CheckEra: CheckMortality,\n    CheckGenesis: {\n        payload: {\n            genesisHash: 'Hash',\n        },\n        extrinsic: {},\n    },\n    CheckNonce: {\n        payload: {},\n        extrinsic: {\n            nonce: 'Compact<Index>',\n        },\n    },\n    CheckSpecVersion: {\n        payload: {\n            specVersion: 'u32',\n        },\n        extrinsic: {},\n    },\n    CheckTxVersion: {\n        payload: {\n            transactionVersion: 'u32',\n        },\n        extrinsic: {},\n    },\n} as unknown) as ExtDef;\n","import {ExchangeActions} from './exchange.action';\nimport {LiquidityActions} from './liquidity.action';\nimport {TxDialogActions} from './txDialog.action';\n\nexport default {\n    Exchange: ExchangeActions,\n    Liquidity: LiquidityActions,\n    TxDialog: TxDialogActions,\n};\n","import {ExtensionActions} from './extension.action';\nimport {GlobalActions} from './global.action';\nimport ui from './ui/index';\n\nexport default {\n    ExtensionActions,\n    GlobalActions,\n    ui,\n};\n","import {createAction} from 'redux-actions';\nimport {Observable} from 'rxjs/index';\n\nexport enum GlobalActions {\n    UNKNOWN_ERROR = 'app/UNKNOWN_ERROR',\n    INIT_APP = 'app/INIT',\n    CORE_ASSET_UPDATE = 'app/CORE_ASSET_UPDATE',\n    DEFAULT_FEE_RATE_UPDATE = 'app/DEFAULT_FEE_RATE_UPDATE',\n    METADATA_UPDATE = 'app//METADATA_UPDATE',\n    ASSET_INFO_UPDATE = 'app/ASSET_INFO_UPDATE',\n    STAKING_ASSET = 'app/STAKING_ASSET',\n}\n\nexport const startApp = createAction(GlobalActions.INIT_APP);\n\nexport const updateAppError = createAction(GlobalActions.UNKNOWN_ERROR, (err: Error) => err);\n\nexport const updateCoreAsset = createAction(GlobalActions.CORE_ASSET_UPDATE, coreAssetId => coreAssetId);\n\nexport const updateFeeRate = createAction(GlobalActions.DEFAULT_FEE_RATE_UPDATE, feeRate => feeRate);\n\nexport const updateStakingAsset = createAction(GlobalActions.STAKING_ASSET, assetId => assetId);\n\nexport const updateMetadata = createAction(GlobalActions.METADATA_UPDATE, metadata => metadata);\n\nexport const updateAssetsInfo = createAction(GlobalActions.ASSET_INFO_UPDATE, assetInfo => assetInfo);\n\nexport type UpdateCoreAssetAction = ReturnType<typeof updateCoreAsset>;\n\nexport type UpdateFeeRateAction = ReturnType<typeof updateFeeRate>;\n\nexport type UpdateStakingAssetAction = ReturnType<typeof updateStakingAsset>;\n\nexport type UpdateMetadataAction = ReturnType<typeof updateMetadata>;\n\nexport type UpdateAssetsInfoAction = ReturnType<typeof updateAssetsInfo>;\n\nexport default GlobalActions;\n","import {EventRecord} from '@cennznet/types';\nimport produce from 'immer';\nimport {handleActions} from 'redux-actions';\nimport {BaseError} from '../../../error/error';\nimport {IExtrinsic, IFee} from '../../../typings';\nimport {Amount} from '../../../util/Amount';\nimport TxDialogActions, {\n    OpenTxDialogAction,\n    RequestSubmitLiquidity,\n    RequestSubmitSend,\n    RequestSubmitTransaction,\n    ResetErrorAction,\n    SetDialogErrorAction,\n    UpdateActualFeeAction,\n    UpdateStageAction,\n    UpdateTxEventsAction,\n    UpdateTxHashAction,\n} from '../../actions/ui/txDialog.action';\n\nexport enum Stages {\n    Signing = 'signing',\n    InBlock = 'inBlock',\n    Finalised = 'finalised',\n}\n\nexport interface TxDialogState {\n    title?: string;\n    signingAccount: string;\n    extrinsic?: IExtrinsic;\n    estimatedTxFee?: IFee;\n    stage?: Stages;\n    events: EventRecord[];\n    txHash?: string;\n    buffer?: any;\n    actualTxFee?: Amount;\n    error?: BaseError;\n    feeAssetId?: number;\n    feeInFeeAsset?: Amount;\n    recipientAddress?: string;\n    fromAssetBalance?: Amount;\n}\n\nexport const initialState: TxDialogState = {\n    title: '',\n    events: [],\n    signingAccount: '',\n};\n\nexport default handleActions<TxDialogState, any>(\n    {\n        [TxDialogActions.DIALOG_CLOSE]: () => {\n            return initialState;\n        },\n        [TxDialogActions.STAGE_UPDATE]: produce((draft: TxDialogState, action: UpdateStageAction) => {\n            draft.stage = action.payload;\n        }),\n        [TxDialogActions.DIALOG_OPEN]: produce((draft: TxDialogState, action: OpenTxDialogAction) => {\n            const {title, signingAccount, extrinsic, feeInFeeAsset, feeAssetId, fromAssetBalance} = action.payload;\n            draft.title = title;\n            draft.extrinsic = extrinsic;\n            draft.estimatedTxFee = feeInFeeAsset;\n            draft.signingAccount = signingAccount;\n            draft.stage = Stages.Signing;\n            draft.feeAssetId = feeAssetId;\n            draft.fromAssetBalance = fromAssetBalance;\n        }),\n        [TxDialogActions.TX_ACTUAL_FEE_UPDATE]: produce((draft: TxDialogState, action: UpdateActualFeeAction) => {\n            draft.actualTxFee = action.payload;\n        }),\n        [TxDialogActions.TX_EVENTS_UPDATE]: produce((draft: TxDialogState, action: UpdateTxEventsAction) => {\n            draft.events = action.payload;\n        }),\n        [TxDialogActions.TX_HASH_UPDATE]: produce((draft: TxDialogState, action: UpdateTxHashAction) => {\n            draft.txHash = action.payload;\n        }),\n        [TxDialogActions.ERROR_SET]: produce((draft: TxDialogState, action: SetDialogErrorAction) => {\n            draft.error = action.payload;\n        }),\n        [TxDialogActions.TRANSACTION_SUBMIT_REQUEST]: produce(\n            (draft: TxDialogState, action: RequestSubmitTransaction) => {\n                const {extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer} = action.payload;\n                draft.extrinsic = extrinsic;\n                draft.signingAccount = signingAccount;\n                draft.feeAssetId = feeAssetId;\n                draft.feeInFeeAsset = feeInFeeAsset;\n                draft.buffer = buffer;\n            }\n        ),\n        [TxDialogActions.ERROR_RESET]: produce((draft: TxDialogState, action: ResetErrorAction) => {\n            //@ts-ignore\n            draft.error = null;\n        }),\n        [TxDialogActions.TRANSACTION_SUBMIT_SEND]: produce((draft: TxDialogState, action: RequestSubmitSend) => {\n            const {extrinsic, signingAccount, feeAssetId, feeInFeeAsset, fromAssetBalance} = action.payload;\n            draft.extrinsic = extrinsic;\n            draft.signingAccount = signingAccount;\n            draft.feeAssetId = feeAssetId;\n            //@ts-ignore\n            draft.feeInFeeAsset = feeInFeeAsset ? feeInFeeAsset.feeInFeeAsset : null;\n            draft.fromAssetBalance = fromAssetBalance;\n        }),\n        [TxDialogActions.TRANSACTION_SUBMIT_LIQUIDITY]: produce(\n            (draft: TxDialogState, action: RequestSubmitLiquidity) => {\n                const {extrinsic, signingAccount, feeAssetId, feeInFeeAsset, buffer} = action.payload;\n                draft.extrinsic = extrinsic;\n                draft.signingAccount = signingAccount;\n                draft.feeAssetId = feeAssetId;\n                draft.buffer = buffer;\n                //@ts-ignore\n                draft.feeInFeeAsset = feeInFeeAsset ? feeInFeeAsset.feeInFeeAsset : null;\n            }\n        ),\n    },\n    initialState\n);\n","import BigNumber from 'bignumber.js';\nimport BN from 'bn.js';\n\nexport enum AmountUnit {\n    UN = 'un',\n    DISPLAY = 'dp',\n}\n\nconst DECIMAL: number = 4;\n\nexport class Amount extends BN {\n    /** Rounds away from zero. */\n    static ROUND_UP: number = 0;\n\n    /** Rounds towards zero. */\n    static ROUND_DOWN: number = 1;\n\n    constructor(value: string | number | BN, unit: AmountUnit = AmountUnit.UN, decimalPlaces: number = DECIMAL) {\n        if (unit === AmountUnit.UN) {\n            super(value.toString ? value.toString() : value);\n            // super(isBn(value) ? value.toString() : value);\n        } else {\n            // TODO: check if value has decimals > 18 and throw\n            try {\n                const val = new BigNumber(value.toString());\n                super(val.multipliedBy(Math.pow(10, decimalPlaces)).toString(10));\n            } catch (e) {\n                super(1);\n            }\n        }\n    }\n\n    toAmount(decimalPlaces): BigNumber {\n        const balBN = new BigNumber(this.toString());\n        return balBN.div(Math.pow(10, decimalPlaces));\n    }\n\n    asString(decimalPlaces?: number, rounding: number = Amount.ROUND_DOWN): string {\n        if (decimalPlaces === undefined) {\n            //return this.toAmount().toString(10);\n            // return this.toAmount(DECIMAL).toFixed(DECIMAL, rounding as any);\n            return this.toAmount(DECIMAL)\n                .decimalPlaces(DECIMAL, rounding as any)\n                .toFixed();\n        } else {\n            // return this.toAmount(decimalPlaces).toFixed(decimalPlaces, rounding as any);\n            return this.toAmount(decimalPlaces)\n                .decimalPlaces(decimalPlaces, rounding as any)\n                .toFixed();\n        }\n    }\n}\n","import {InjectedExtension} from '@polkadot/extension-inject/types';\nimport {createAction} from 'redux-actions';\nimport {BaseError} from '../../error/error';\nimport {IAccounts} from '../../typings';\n\nexport enum ExtensionActions {\n    DETECTION_UPDATE = 'CENNZNET_EX/DETECTION_UPDATE',\n    CONNECTION_UPDATE = 'CENNZNET_EX/CONNECTION_UPDATE',\n    ACCOUNTS_UPDATE = 'CENNZNET_EX/ACCOUNTS_UPDATE',\n    DETECTION_COMPLETED = 'CENNZNET_EX/DETECTION_COMPLETED',\n    ERROR_SET = 'CENNZNET_EX/ERROR_SET',\n    CENNZNET_EXTENSION_UPDATE = 'CENNZNET_EX/CENNZNET_EXTENSION_UPDATE',\n}\n\nexport const updateExDetected = createAction(\n    ExtensionActions.DETECTION_UPDATE,\n    (detected: boolean, cennznetExtensionInjected: InjectedExtension) => {\n        return {detected, cennznetExtensionInjected};\n    }\n);\n\nexport const updateExConnected = createAction(\n    ExtensionActions.CONNECTION_UPDATE,\n    (ssConnected: boolean) => ssConnected\n);\n\nexport const updateCENNZnetExtension = createAction(\n    ExtensionActions.CENNZNET_EXTENSION_UPDATE,\n    (cennznetExtension: InjectedExtension) => cennznetExtension\n);\n\nexport const updateExDetectionCompleted = createAction(ExtensionActions.DETECTION_COMPLETED);\n\nexport const updateExAccounts = createAction(ExtensionActions.ACCOUNTS_UPDATE, (exAccounts: IAccounts[]) => exAccounts);\n\nexport const setExtensionError = createAction(ExtensionActions.ERROR_SET, (errorMsg: BaseError) => errorMsg);\n\nexport type UpdateExDetectedAction = ReturnType<typeof updateExDetected>;\n\nexport type UpdateExConnectedAction = ReturnType<typeof updateExConnected>;\n\nexport type UpdateExAccountAction = ReturnType<typeof updateExAccounts>;\n\nexport type UpdateCENNZnetExtensionAction = ReturnType<typeof updateCENNZnetExtension>;\n\nexport type UpdateExDetectionCompleteAction = ReturnType<typeof updateExDetectionCompleted>;\n\nexport type SetExtensionErrorAction = ReturnType<typeof setExtensionError>;\n\nexport default ExtensionActions;\n"],"sourceRoot":""}